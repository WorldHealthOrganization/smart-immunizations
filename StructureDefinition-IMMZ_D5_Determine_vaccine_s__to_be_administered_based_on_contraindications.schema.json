{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "http://smart.who.int/base/StructureDefinition-IMMZ_D5_Determine_vaccine_s__to_be_administered_based_on_contraindications.schema.json",
  "title": "IMMZ.D5.Determine vaccine(s) to be administered based on contraindications",
  "description": "Data elements for the IMMZ.D5.Determine vaccine(s) to be administered based on contraindications Data Dictionary Activity.",
  "type": "object",
  "properties": {
    "resourceType": {
      "type": "string",
      "const": "IMMZD5",
      "description": "Resource type identifier for IMMZ_D5_Determine_vaccine_s__to_be_administered_based_on_contraindications logical model"
    },
    "@context": {
      "description": "JSON-LD context for this logical model with ValueSet vocabularies",
      "anyOf": [
        {
          "type": "string",
          "format": "uri",
          "description": "URI reference to external JSON-LD context"
        },
        {
          "type": "object",
          "description": "Inline JSON-LD context",
          "properties": {
            "@version": {
              "type": "number",
              "const": 1.1
            },
            "fhir": {
              "type": "string",
              "const": "http://hl7.org/fhir/"
            }
          },
          "additionalProperties": {
            "type": "string",
            "format": "uri"
          }
        },
        {
          "type": "array",
          "description": "Array of JSON-LD context objects/URIs",
          "items": {
            "anyOf": [
              {
                "type": "string",
                "format": "uri"
              },
              {
                "type": "object"
              }
            ]
          }
        }
      ]
    },
    "@type": {
      "type": "string",
      "description": "JSON-LD type identifier for IMMZ_D5_Determine_vaccine_s__to_be_administered_based_on_contraindications logical model",
      "examples": [
        "LogicalModel-IMMZ_D5_Determine_vaccine_s__to_be_administered_based_on_contraindications"
      ]
    },
    "IMMZD5": {
      "type": "array",
      "items": {
        "type": "object",
        "description": "FHIR "
      },
      "description": "Data elements for the IMMZ.D5.Determine vaccine(s) to be administered based on contraindications Data Dictionary Activity."
    },
    "patient": {
      "type": "object",
      "description": "The patient."
    },
    "potentialContraindications": {
      "type": "array",
      "items": {
        "oneOf": [
          {
            "type": "object",
            "description": "FHIR Coding from ValueSet IMMZ.D.DE161",
            "properties": {
              "system": {
                "type": "string",
                "description": "Code system URI"
              },
              "code": {
                "type": "string",
                "description": "Code value"
              },
              "display": {
                "type": "string",
                "description": "Human readable display text"
              }
            },
            "required": [
              "system",
              "code"
            ]
          },
          {
            "type": "object",
            "description": "Coding from ValueSet IMMZ.D.DE161 (JSON-LD structure)",
            "properties": {
              "@type": {
                "type": "string",
                "const": "http://smart.who.int/base/ValueSet-IMMZ.D.DE161.jsonld",
                "description": "JSON-LD type reference to ValueSet IMMZ.D.DE161"
              },
              "@id": {
                "type": "string",
                "format": "uri",
                "description": "Full IRI of the code from ValueSet IMMZ.D.DE161"
              }
            },
            "required": [
              "@type",
              "@id"
            ],
            "additionalProperties": false
          }
        ],
        "description": "Coding from ValueSet IMMZ.D.DE161. Supports both FHIR Coding structure and JSON-LD structure."
      },
      "minItems": 1,
      "description": "Specific situations or medical conditions for which it is advised or recommended to avoid or delay administering a particular vaccine"
    }
  },
  "required": [
    "resourceType",
    "patient",
    "potentialContraindications"
  ],
  "resourceDefinition": "http://smart.who.int/immunizations/StructureDefinition/IMMZD5",
  "fhir:parent": "http://hl7.org/fhir/StructureDefinition/Base",
  "jsonld:valuesets": [
    "IMMZ.D.DE161"
  ],
  "jsonld:contextTemplate": {
    "@version": 1.1,
    "fhir": "http://hl7.org/fhir/",
    "IMMZ.D.DE161": "http://smart.who.int/base/ValueSet-IMMZ.D.DE161.jsonld"
  }
}