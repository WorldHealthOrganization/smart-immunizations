@prefix fhir: <http://hl7.org/fhir/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# - resource -------------------------------------------------------------------

<http://smart.who.int/immunizations/Library/IMMZD18SSeasonalinfluenza2DoseLogic> a fhir:Library ;
  fhir:nodeRole fhir:treeRoot ;
  fhir:id [ fhir:v "IMMZD18SSeasonalinfluenza2DoseLogic"] ; # 
  fhir:meta [
     fhir:profile ( [
       fhir:v "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-shareablelibrary"^^xsd:anyURI ;
       fhir:link <http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-shareablelibrary>
     ] [
       fhir:v "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-publishablelibrary"^^xsd:anyURI ;
       fhir:link <http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-publishablelibrary>
     ] [
       fhir:v "http://hl7.org/fhir/uv/cql/StructureDefinition/cql-library"^^xsd:anyURI ;
       fhir:link <http://hl7.org/fhir/uv/cql/StructureDefinition/cql-library>
     ] [
       fhir:v "http://hl7.org/fhir/uv/cql/StructureDefinition/cql-module"^^xsd:anyURI ;
       fhir:link <http://hl7.org/fhir/uv/cql/StructureDefinition/cql-module>
     ] )
  ] ; # 
  fhir:text [
     fhir:status [ fhir:v "extensions" ] ;
     fhir:div "<div xmlns=\"http://www.w3.org/1999/xhtml\">\n<div>\n    <table class=\"grid dict\">\n        \n        \n        <tr>\n            <th scope=\"row\"><b>Title: </b></th>\n            <td style=\"padding-left: 4px;\">IMMZD18SSeasonalinfluenza2DoseLogic</td>\n        </tr>\n        \n\n        \n        \n        <tr>\n            <th scope=\"row\"><b>Id: </b></th>\n            <td style=\"padding-left: 4px;\">IMMZD18SSeasonalinfluenza2DoseLogic</td>\n        </tr>\n        \n\n        \n        \n        <tr>\n            <th scope=\"row\"><b>Version: </b></th>\n            <td style=\"padding-left: 4px;\">0.2.0</td>\n        </tr>\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Url: </b></th>\n            <td style=\"padding-left: 4px;\"><a href=\"Library-IMMZD18SSeasonalinfluenza2DoseLogic.html\">IMMZD18SSeasonalinfluenza2DoseLogic</a></td>\n        </tr>\n        \n\n        \n\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Status: </b></th>\n            <td style=\"padding-left: 4px;\">draft</td>\n        </tr>\n        \n\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Type: </b></th>\n            <td style=\"padding-left: 4px;\">\n                \n                    \n                        \n                        <p style=\"margin-bottom: 5px;\">\n                            <b>system: </b> <span><a href=\"http://terminology.hl7.org/6.5.0/CodeSystem-library-type.html\">http://terminology.hl7.org/CodeSystem/library-type</a></span>\n                        </p>\n                        \n                        \n                        <p style=\"margin-bottom: 5px;\">\n                            <b>code: </b> <span>logic-library</span>\n                        </p>\n                        \n                        \n                    \n                \n                \n            </td>\n        </tr>\n        \n\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Date: </b></th>\n            <td style=\"padding-left: 4px;\">2025-09-19 13:06:04+0000</td>\n        </tr>\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Publisher: </b></th>\n            <td style=\"padding-left: 4px;\">WHO</td>\n        </tr>\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Description: </b></th>\n            <td style=\"padding-left: 4px;\"><div><p>This library defines decision support logic for the IMMZ.D18.S.Seasonal influenza schedule table in the Immunization CPG</p>\n</div></td>\n        </tr>\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n        \n        <tr>\n          <td colspan=\"2\">\n            <table>\n              <tr><th><a id=\"cql-content\"><b>Content: </b></a> text/cql</th></tr>\n              <tr><td><pre><code class=\"language-cql\">\n/*\n * Library: IMMZD18SSeasonalinfluenza2DoseLogic (IMMZ.D18.S.Seasonal influenza schedule)\n * Schedule Table: Inactivated trivalent and quadrivalent vaccines, 2-dose schedule for children aged under 9 years\n */\nlibrary IMMZD18SSeasonalinfluenza2DoseLogic\n\nusing FHIR version '4.0.1'\ninclude FHIRHelpers version '4.0.1'\n\ninclude WHOCommon called WC\n\ninclude IMMZCommon called Common\ninclude IMMZConcepts called Concepts\n\ninclude IMMZEncounterElements called IE\ninclude IMMZD2DTSeasonalinfluenzaEncounterElements called Encounter\n\nparameter Today Date default Today()\n\ncontext Patient\n\n\n/*\n@output: Seasonal influenza dose 1\n@description: Provision of the seasonal influenza vaccine dose 1\n@trigger: Child's birth\n@triggerDate: \"Date of birth\"\n*/\ndefine \"Seasonal influenza dose 1\":\n  Encounter.\"No seasonal influenza primary series doses were administered\"\n  and not \"First seasonal influenza dose from the primary series was administered\"\n\n/*\n@output: Seasonal influenza dose 1 Create\n@create: Influenza vaccines are safe and effective in children from 6 months of age\n*/\ndefine \"Seasonal influenza dose 1 Create\":\n  if \"Seasonal influenza dose 1\" \n  then 'Influenza vaccines are safe and effective in children from 6 months of age' + '\nDue Date: ' + ToString(\"Seasonal influenza dose 1 Due Date\")\n  else ''\n\n/*\n@dynamicValue: Seasonal influenza dose 1 Due Date\n@pseudocode: \"Date of birth\" + 6 months\n*/\ndefine \"Seasonal influenza dose 1 Due Date\":\n  if \"Seasonal influenza dose 1\" then Patient.birthDate + 6 months\n  else null\n\n/*\n@dynamicValue: Seasonal influenza dose 1 Overdue\n@pseudocode: To be determined by Member States; however, there is no recommended overdue date and individuals are always eligible to be vaccinated\n*/\ndefine \"Seasonal influenza dose 1 Overdue\":\n  null\n\n/*\n@dynamicValue: Seasonal influenza dose 1 Expiration\n@pseudocode: To be determined by Member States; however, there is no recommended expiration date and individuals are always eligible to be vaccinated\n*/\ndefine \"Seasonal influenza dose 1 Expiration\":\n  null\n  \n/*\n@complete: First seasonal influenza dose from the primary series was administered\n@pseudocode: Count of vaccines administered (where \"Vaccine type\" = \"Seasonal influenza vaccines\" and \"Type of dose\" = \"Primary series\") = 1\n*/\ndefine \"First seasonal influenza dose from the primary series was administered\":\n  Encounter.\"One seasonal influenza primary series doses were administered\"\n\n/*\n@output: Seasonal influenza dose 2\n@description: Provision of the seasonal influenza vaccine dose 2\n@trigger: First seasonal influenza dose from the primary series was administered and client is less than 9 years\nCount of vaccines administered (where \"Vaccine type\" = \"Seasonal influenza vaccines\" and \"Type of dose\" = \"Primary series\") = 1 AND (Today's date âˆ’ \"Date of birth\" &lt; 9 years)\n@triggerDate: \"Date and time of vaccination\" (where \"Vaccine type\" = \"Seasonal influenza vaccines\")\n*/\ndefine \"Seasonal influenza dose 2\":\n  \"First seasonal influenza dose from the primary series was administered\"\n  and Encounter.\"Client's age is less than 9 years\"\n  and not \"Second seasonal influenza dose from the primary series was administered. The primary series has been completed\"\n\n/*\n@output: Seasonal influenza dose 2 Create\n@create: Children aged 6 months to 8 years should receive 2 doses at least 4 weeks apart\n*/\ndefine \"Seasonal influenza dose 2 Create\":\n  if \"Seasonal influenza dose 2\" \n  then 'Children aged 6 months to 8 years should receive 2 doses at least 4 weeks apart' + '\nDue Date: ' + ToString(\"Seasonal influenza dose 2 Due Date\") + '\nExpiration: ' + ToString(\"Seasonal influenza dose 2 Expiration\")\n  else ''\n\n/*\n@dynamicValue: Seasonal influenza dose 2 Due Date\n@pseudocode: \"Date and time of vaccination\" (where \"Vaccine type\" = \"Seasonal influenza vaccines\") + 4 weeks\n*/\ndefine \"Seasonal influenza dose 2 Due Date\":\n  if \"Seasonal influenza dose 2\" then Encounter.\"Date of Latest Seasonal influenza Dose\" + 4 weeks\n  else null\n\n/*\n@dynamicValue: Seasonal influenza dose 2 Overdue\n@pseudocode: To be determined by Member States; however, there is no recommended overdue date and individuals are always eligible to be vaccinated\n*/\ndefine \"Seasonal influenza dose 2 Overdue\":\n  null\n\n/*\n@dynamicValue: Seasonal influenza dose 2 Expiration\n@pseudocode: \"Date of birth\" + 9 years\n*/\ndefine \"Seasonal influenza dose 2 Expiration\":\n  if \"Seasonal influenza dose 2\" then Patient.birthDate + 9 years\n  else null\n  \n/*\n@complete: Second seasonal influenza dose from the primary series was administered. The primary series has been completed\n@pseudocode: \"Completed the primary vaccination series\" = TRUE (where \"Vaccine type\" = \"Seasonal influenza vaccines\")\n*/\ndefine \"Second seasonal influenza dose from the primary series was administered. The primary series has been completed\":\n  Encounter.\"Two seasonal influenza primary series doses were administered\"\n\n/*\n@output: Seasonal influenza annual dose\n@description: Provision of the seasonal influenza vaccine annual dose\n@trigger: The primary series has been completed\n\"Completed the primary vaccination series\" = TRUE (where \"Vaccine type\" = \"Seasonal influenza vaccines\")\n@triggerDate: Latest \"Date and time of vaccination\" (where \"Vaccine type\" = \"Seasonal influenza vaccines\")\n*/\ndefine \"Seasonal influenza annual dose\":\n  ( \"Second seasonal influenza dose from the primary series was administered. The primary series has been completed\"\n  or ( \"First seasonal influenza dose from the primary series was administered\"\n    and Encounter.\"Client's age is more than or equal to 9 years\"\n   ) )\n\n/*\n@output: Seasonal influenza annual dose Create\n@create: Seasonal influenza vaccine annual dose should be provided 1 year after the previous dose\n*/\ndefine \"Seasonal influenza annual dose Create\":\n  if \"Seasonal influenza annual dose\" \n  then 'Seasonal influenza vaccine annual dose should be provided 1 year after the previous dose' + '\nDue Date: ' + ToString(\"Seasonal influenza annual dose Due Date\")\n  else ''\n\n/*\n@dynamicValue: Seasonal influenza annual dose Due Date\n@pseudocode: Latest \"Date and time of vaccination\" (where \"Vaccine type\" = \"Seasonal influenza vaccines\") + 1 year\n*/\ndefine \"Seasonal influenza annual dose Due Date\":\n  if \"Seasonal influenza annual dose\" then Encounter.\"Date of Latest Seasonal influenza Dose\" + 1 year\n  else null\n\n/*\n@dynamicValue: Seasonal influenza annual dose Overdue\n@pseudocode: To be determined by Member States; however, there is no recommended overdue date and individuals are always eligible to be vaccinated\n*/\ndefine \"Seasonal influenza annual dose Overdue\":\n  null\n\n/*\n@dynamicValue: Seasonal influenza annual dose Expiration\n@pseudocode: To be determined by Member States; however, there is no recommended expiration date and individuals are always eligible to be vaccinated\n*/\ndefine \"Seasonal influenza annual dose Expiration\":\n  null\n  \n/*\n@complete: Seasonal influenza annual dose was administered less than 1 year ago\n@pseudocode: Count of vaccines administered (where \"Vaccine type\" = \"Seasonal influenza vaccines\" and \"Type of dose\" = \"Booster dose\")  â‰¥ 1 AND Today's date - Latest \"Date and time of vaccination\" (where \"Vaccine type\" = \"Seasonal influenza vaccines\") &lt; 1 year\n*/\ndefine \"Seasonal influenza annual dose was administered less than 1 year ago\":\n  Encounter.\"The latest seasonal influenza dose was  administered less than 1 year ago\"\n\n/*\n@test: Test expected results based on example patients\n*/\ndefine \"Test Validation\":\n  case\n    when Patient.id = '08.1' then \"Seasonal influenza dose 1\"\n    when Patient.id = '09.01' then \"Seasonal influenza dose 1\"\n    when Patient.id = '10.012' then \"Seasonal influenza dose 2\"\n    when Patient.id = '11.012' then \"Seasonal influenza dose 2\"\n    when Patient.id = '12.012' then \"Seasonal influenza annual dose\"\n    when Patient.id = '13.012' then \"Seasonal influenza annual dose\"\n    when Patient.id = '14.02' then \"Seasonal influenza annual dose\"\n    when Patient.id = '15.02' then \"Seasonal influenza annual dose\"\n    else 'No test case set'\n  end\n</code></pre></td></tr>\n            </table>\n          </td>\n        </tr>\n        \n        \n        \n        \n        \n        <tr>\n          <td colspan=\"2\">\n            <table>\n              <tr><th><b>Content: </b> application/elm+xml</th></tr>\n              <tr><td><pre><code/></pre></td></tr>\n            </table>\n          </td>\n        </tr>\n        \n        \n    </table>\n</div>\n</div>"^^rdf:XMLLiteral
  ] ; # 
  fhir:extension ( [
     fhir:url [ fhir:v "http://hl7.org/fhir/StructureDefinition/cqf-knowledgeCapability"^^xsd:anyURI ] ;
     fhir:value [
       a fhir:code ;
       fhir:v "computable"
     ]
  ] ) ; # 
  fhir:url [ fhir:v "http://smart.who.int/immunizations/Library/IMMZD18SSeasonalinfluenza2DoseLogic"^^xsd:anyURI] ; # 
  fhir:version [ fhir:v "0.2.0"] ; # 
  fhir:name [ fhir:v "IMMZD18SSeasonalinfluenza2DoseLogic"] ; # 
  fhir:title [ fhir:v "IMMZD18SSeasonalinfluenza2DoseLogic"] ; # 
  fhir:status [ fhir:v "draft"] ; # 
  fhir:experimental [ fhir:v false] ; # 
  fhir:type [
     fhir:coding ( [
       fhir:system [ fhir:v "http://terminology.hl7.org/CodeSystem/library-type"^^xsd:anyURI ] ;
       fhir:code [ fhir:v "logic-library" ]
     ] )
  ] ; # 
  fhir:date [ fhir:v "2025-09-19T13:06:04+00:00"^^xsd:dateTime] ; # 
  fhir:publisher [ fhir:v "WHO"] ; # 
  fhir:contact ( [
     fhir:name [ fhir:v "WHO" ] ;
     fhir:telecom ( [
       fhir:system [ fhir:v "url" ] ;
       fhir:value [ fhir:v "http://who.int" ]
     ] )
  ] ) ; # 
  fhir:description [ fhir:v "This library defines decision support logic for the IMMZ.D18.S.Seasonal influenza schedule table in the Immunization CPG"] ; # 
  fhir:content ( [
     fhir:contentType [ fhir:v "text/cql" ] ;
     fhir:data [ fhir:v "Ci8qCiAqIExpYnJhcnk6IElNTVpEMThTU2Vhc29uYWxpbmZsdWVuemEyRG9zZUxvZ2ljIChJTU1aLkQxOC5TLlNlYXNvbmFsIGluZmx1ZW56YSBzY2hlZHVsZSkKICogU2NoZWR1bGUgVGFibGU6IEluYWN0aXZhdGVkIHRyaXZhbGVudCBhbmQgcXVhZHJpdmFsZW50IHZhY2NpbmVzLCAyLWRvc2Ugc2NoZWR1bGUgZm9yIGNoaWxkcmVuIGFnZWQgdW5kZXIgOSB5ZWFycwogKi8KbGlicmFyeSBJTU1aRDE4U1NlYXNvbmFsaW5mbHVlbnphMkRvc2VMb2dpYwoKdXNpbmcgRkhJUiB2ZXJzaW9uICc0LjAuMScKaW5jbHVkZSBGSElSSGVscGVycyB2ZXJzaW9uICc0LjAuMScKCmluY2x1ZGUgV0hPQ29tbW9uIGNhbGxlZCBXQwoKaW5jbHVkZSBJTU1aQ29tbW9uIGNhbGxlZCBDb21tb24KaW5jbHVkZSBJTU1aQ29uY2VwdHMgY2FsbGVkIENvbmNlcHRzCgppbmNsdWRlIElNTVpFbmNvdW50ZXJFbGVtZW50cyBjYWxsZWQgSUUKaW5jbHVkZSBJTU1aRDJEVFNlYXNvbmFsaW5mbHVlbnphRW5jb3VudGVyRWxlbWVudHMgY2FsbGVkIEVuY291bnRlcgoKcGFyYW1ldGVyIFRvZGF5IERhdGUgZGVmYXVsdCBUb2RheSgpCgpjb250ZXh0IFBhdGllbnQKCgovKgpAb3V0cHV0OiBTZWFzb25hbCBpbmZsdWVuemEgZG9zZSAxCkBkZXNjcmlwdGlvbjogUHJvdmlzaW9uIG9mIHRoZSBzZWFzb25hbCBpbmZsdWVuemEgdmFjY2luZSBkb3NlIDEKQHRyaWdnZXI6IENoaWxkJ3MgYmlydGgKQHRyaWdnZXJEYXRlOiAiRGF0ZSBvZiBiaXJ0aCIKKi8KZGVmaW5lICJTZWFzb25hbCBpbmZsdWVuemEgZG9zZSAxIjoKICBFbmNvdW50ZXIuIk5vIHNlYXNvbmFsIGluZmx1ZW56YSBwcmltYXJ5IHNlcmllcyBkb3NlcyB3ZXJlIGFkbWluaXN0ZXJlZCIKICBhbmQgbm90ICJGaXJzdCBzZWFzb25hbCBpbmZsdWVuemEgZG9zZSBmcm9tIHRoZSBwcmltYXJ5IHNlcmllcyB3YXMgYWRtaW5pc3RlcmVkIgoKLyoKQG91dHB1dDogU2Vhc29uYWwgaW5mbHVlbnphIGRvc2UgMSBDcmVhdGUKQGNyZWF0ZTogSW5mbHVlbnphIHZhY2NpbmVzIGFyZSBzYWZlIGFuZCBlZmZlY3RpdmUgaW4gY2hpbGRyZW4gZnJvbSA2IG1vbnRocyBvZiBhZ2UKKi8KZGVmaW5lICJTZWFzb25hbCBpbmZsdWVuemEgZG9zZSAxIENyZWF0ZSI6CiAgaWYgIlNlYXNvbmFsIGluZmx1ZW56YSBkb3NlIDEiIAogIHRoZW4gJ0luZmx1ZW56YSB2YWNjaW5lcyBhcmUgc2FmZSBhbmQgZWZmZWN0aXZlIGluIGNoaWxkcmVuIGZyb20gNiBtb250aHMgb2YgYWdlJyArICcKRHVlIERhdGU6ICcgKyBUb1N0cmluZygiU2Vhc29uYWwgaW5mbHVlbnphIGRvc2UgMSBEdWUgRGF0ZSIpCiAgZWxzZSAnJwoKLyoKQGR5bmFtaWNWYWx1ZTogU2Vhc29uYWwgaW5mbHVlbnphIGRvc2UgMSBEdWUgRGF0ZQpAcHNldWRvY29kZTogIkRhdGUgb2YgYmlydGgiICsgNiBtb250aHMKKi8KZGVmaW5lICJTZWFzb25hbCBpbmZsdWVuemEgZG9zZSAxIER1ZSBEYXRlIjoKICBpZiAiU2Vhc29uYWwgaW5mbHVlbnphIGRvc2UgMSIgdGhlbiBQYXRpZW50LmJpcnRoRGF0ZSArIDYgbW9udGhzCiAgZWxzZSBudWxsCgovKgpAZHluYW1pY1ZhbHVlOiBTZWFzb25hbCBpbmZsdWVuemEgZG9zZSAxIE92ZXJkdWUKQHBzZXVkb2NvZGU6IFRvIGJlIGRldGVybWluZWQgYnkgTWVtYmVyIFN0YXRlczsgaG93ZXZlciwgdGhlcmUgaXMgbm8gcmVjb21tZW5kZWQgb3ZlcmR1ZSBkYXRlIGFuZCBpbmRpdmlkdWFscyBhcmUgYWx3YXlzIGVsaWdpYmxlIHRvIGJlIHZhY2NpbmF0ZWQKKi8KZGVmaW5lICJTZWFzb25hbCBpbmZsdWVuemEgZG9zZSAxIE92ZXJkdWUiOgogIG51bGwKCi8qCkBkeW5hbWljVmFsdWU6IFNlYXNvbmFsIGluZmx1ZW56YSBkb3NlIDEgRXhwaXJhdGlvbgpAcHNldWRvY29kZTogVG8gYmUgZGV0ZXJtaW5lZCBieSBNZW1iZXIgU3RhdGVzOyBob3dldmVyLCB0aGVyZSBpcyBubyByZWNvbW1lbmRlZCBleHBpcmF0aW9uIGRhdGUgYW5kIGluZGl2aWR1YWxzIGFyZSBhbHdheXMgZWxpZ2libGUgdG8gYmUgdmFjY2luYXRlZAoqLwpkZWZpbmUgIlNlYXNvbmFsIGluZmx1ZW56YSBkb3NlIDEgRXhwaXJhdGlvbiI6CiAgbnVsbAogIAovKgpAY29tcGxldGU6IEZpcnN0IHNlYXNvbmFsIGluZmx1ZW56YSBkb3NlIGZyb20gdGhlIHByaW1hcnkgc2VyaWVzIHdhcyBhZG1pbmlzdGVyZWQKQHBzZXVkb2NvZGU6IENvdW50IG9mIHZhY2NpbmVzIGFkbWluaXN0ZXJlZCAod2hlcmUgIlZhY2NpbmUgdHlwZSIgPSAiU2Vhc29uYWwgaW5mbHVlbnphIHZhY2NpbmVzIiBhbmQgIlR5cGUgb2YgZG9zZSIgPSAiUHJpbWFyeSBzZXJpZXMiKSA9IDEKKi8KZGVmaW5lICJGaXJzdCBzZWFzb25hbCBpbmZsdWVuemEgZG9zZSBmcm9tIHRoZSBwcmltYXJ5IHNlcmllcyB3YXMgYWRtaW5pc3RlcmVkIjoKICBFbmNvdW50ZXIuIk9uZSBzZWFzb25hbCBpbmZsdWVuemEgcHJpbWFyeSBzZXJpZXMgZG9zZXMgd2VyZSBhZG1pbmlzdGVyZWQiCgovKgpAb3V0cHV0OiBTZWFzb25hbCBpbmZsdWVuemEgZG9zZSAyCkBkZXNjcmlwdGlvbjogUHJvdmlzaW9uIG9mIHRoZSBzZWFzb25hbCBpbmZsdWVuemEgdmFjY2luZSBkb3NlIDIKQHRyaWdnZXI6IEZpcnN0IHNlYXNvbmFsIGluZmx1ZW56YSBkb3NlIGZyb20gdGhlIHByaW1hcnkgc2VyaWVzIHdhcyBhZG1pbmlzdGVyZWQgYW5kIGNsaWVudCBpcyBsZXNzIHRoYW4gOSB5ZWFycwpDb3VudCBvZiB2YWNjaW5lcyBhZG1pbmlzdGVyZWQgKHdoZXJlICJWYWNjaW5lIHR5cGUiID0gIlNlYXNvbmFsIGluZmx1ZW56YSB2YWNjaW5lcyIgYW5kICJUeXBlIG9mIGRvc2UiID0gIlByaW1hcnkgc2VyaWVzIikgPSAxIEFORCAoVG9kYXkncyBkYXRlIOKIkiAiRGF0ZSBvZiBiaXJ0aCIgPCA5IHllYXJzKQpAdHJpZ2dlckRhdGU6ICJEYXRlIGFuZCB0aW1lIG9mIHZhY2NpbmF0aW9uIiAod2hlcmUgIlZhY2NpbmUgdHlwZSIgPSAiU2Vhc29uYWwgaW5mbHVlbnphIHZhY2NpbmVzIikKKi8KZGVmaW5lICJTZWFzb25hbCBpbmZsdWVuemEgZG9zZSAyIjoKICAiRmlyc3Qgc2Vhc29uYWwgaW5mbHVlbnphIGRvc2UgZnJvbSB0aGUgcHJpbWFyeSBzZXJpZXMgd2FzIGFkbWluaXN0ZXJlZCIKICBhbmQgRW5jb3VudGVyLiJDbGllbnQncyBhZ2UgaXMgbGVzcyB0aGFuIDkgeWVhcnMiCiAgYW5kIG5vdCAiU2Vjb25kIHNlYXNvbmFsIGluZmx1ZW56YSBkb3NlIGZyb20gdGhlIHByaW1hcnkgc2VyaWVzIHdhcyBhZG1pbmlzdGVyZWQuIFRoZSBwcmltYXJ5IHNlcmllcyBoYXMgYmVlbiBjb21wbGV0ZWQiCgovKgpAb3V0cHV0OiBTZWFzb25hbCBpbmZsdWVuemEgZG9zZSAyIENyZWF0ZQpAY3JlYXRlOiBDaGlsZHJlbiBhZ2VkIDYgbW9udGhzIHRvIDggeWVhcnMgc2hvdWxkIHJlY2VpdmUgMiBkb3NlcyBhdCBsZWFzdCA0IHdlZWtzIGFwYXJ0CiovCmRlZmluZSAiU2Vhc29uYWwgaW5mbHVlbnphIGRvc2UgMiBDcmVhdGUiOgogIGlmICJTZWFzb25hbCBpbmZsdWVuemEgZG9zZSAyIiAKICB0aGVuICdDaGlsZHJlbiBhZ2VkIDYgbW9udGhzIHRvIDggeWVhcnMgc2hvdWxkIHJlY2VpdmUgMiBkb3NlcyBhdCBsZWFzdCA0IHdlZWtzIGFwYXJ0JyArICcKRHVlIERhdGU6ICcgKyBUb1N0cmluZygiU2Vhc29uYWwgaW5mbHVlbnphIGRvc2UgMiBEdWUgRGF0ZSIpICsgJwpFeHBpcmF0aW9uOiAnICsgVG9TdHJpbmcoIlNlYXNvbmFsIGluZmx1ZW56YSBkb3NlIDIgRXhwaXJhdGlvbiIpCiAgZWxzZSAnJwoKLyoKQGR5bmFtaWNWYWx1ZTogU2Vhc29uYWwgaW5mbHVlbnphIGRvc2UgMiBEdWUgRGF0ZQpAcHNldWRvY29kZTogIkRhdGUgYW5kIHRpbWUgb2YgdmFjY2luYXRpb24iICh3aGVyZSAiVmFjY2luZSB0eXBlIiA9ICJTZWFzb25hbCBpbmZsdWVuemEgdmFjY2luZXMiKSArIDQgd2Vla3MKKi8KZGVmaW5lICJTZWFzb25hbCBpbmZsdWVuemEgZG9zZSAyIER1ZSBEYXRlIjoKICBpZiAiU2Vhc29uYWwgaW5mbHVlbnphIGRvc2UgMiIgdGhlbiBFbmNvdW50ZXIuIkRhdGUgb2YgTGF0ZXN0IFNlYXNvbmFsIGluZmx1ZW56YSBEb3NlIiArIDQgd2Vla3MKICBlbHNlIG51bGwKCi8qCkBkeW5hbWljVmFsdWU6IFNlYXNvbmFsIGluZmx1ZW56YSBkb3NlIDIgT3ZlcmR1ZQpAcHNldWRvY29kZTogVG8gYmUgZGV0ZXJtaW5lZCBieSBNZW1iZXIgU3RhdGVzOyBob3dldmVyLCB0aGVyZSBpcyBubyByZWNvbW1lbmRlZCBvdmVyZHVlIGRhdGUgYW5kIGluZGl2aWR1YWxzIGFyZSBhbHdheXMgZWxpZ2libGUgdG8gYmUgdmFjY2luYXRlZAoqLwpkZWZpbmUgIlNlYXNvbmFsIGluZmx1ZW56YSBkb3NlIDIgT3ZlcmR1ZSI6CiAgbnVsbAoKLyoKQGR5bmFtaWNWYWx1ZTogU2Vhc29uYWwgaW5mbHVlbnphIGRvc2UgMiBFeHBpcmF0aW9uCkBwc2V1ZG9jb2RlOiAiRGF0ZSBvZiBiaXJ0aCIgKyA5IHllYXJzCiovCmRlZmluZSAiU2Vhc29uYWwgaW5mbHVlbnphIGRvc2UgMiBFeHBpcmF0aW9uIjoKICBpZiAiU2Vhc29uYWwgaW5mbHVlbnphIGRvc2UgMiIgdGhlbiBQYXRpZW50LmJpcnRoRGF0ZSArIDkgeWVhcnMKICBlbHNlIG51bGwKICAKLyoKQGNvbXBsZXRlOiBTZWNvbmQgc2Vhc29uYWwgaW5mbHVlbnphIGRvc2UgZnJvbSB0aGUgcHJpbWFyeSBzZXJpZXMgd2FzIGFkbWluaXN0ZXJlZC4gVGhlIHByaW1hcnkgc2VyaWVzIGhhcyBiZWVuIGNvbXBsZXRlZApAcHNldWRvY29kZTogIkNvbXBsZXRlZCB0aGUgcHJpbWFyeSB2YWNjaW5hdGlvbiBzZXJpZXMiID0gVFJVRSAod2hlcmUgIlZhY2NpbmUgdHlwZSIgPSAiU2Vhc29uYWwgaW5mbHVlbnphIHZhY2NpbmVzIikKKi8KZGVmaW5lICJTZWNvbmQgc2Vhc29uYWwgaW5mbHVlbnphIGRvc2UgZnJvbSB0aGUgcHJpbWFyeSBzZXJpZXMgd2FzIGFkbWluaXN0ZXJlZC4gVGhlIHByaW1hcnkgc2VyaWVzIGhhcyBiZWVuIGNvbXBsZXRlZCI6CiAgRW5jb3VudGVyLiJUd28gc2Vhc29uYWwgaW5mbHVlbnphIHByaW1hcnkgc2VyaWVzIGRvc2VzIHdlcmUgYWRtaW5pc3RlcmVkIgoKLyoKQG91dHB1dDogU2Vhc29uYWwgaW5mbHVlbnphIGFubnVhbCBkb3NlCkBkZXNjcmlwdGlvbjogUHJvdmlzaW9uIG9mIHRoZSBzZWFzb25hbCBpbmZsdWVuemEgdmFjY2luZSBhbm51YWwgZG9zZQpAdHJpZ2dlcjogVGhlIHByaW1hcnkgc2VyaWVzIGhhcyBiZWVuIGNvbXBsZXRlZAoiQ29tcGxldGVkIHRoZSBwcmltYXJ5IHZhY2NpbmF0aW9uIHNlcmllcyIgPSBUUlVFICh3aGVyZSAiVmFjY2luZSB0eXBlIiA9ICJTZWFzb25hbCBpbmZsdWVuemEgdmFjY2luZXMiKQpAdHJpZ2dlckRhdGU6IExhdGVzdCAiRGF0ZSBhbmQgdGltZSBvZiB2YWNjaW5hdGlvbiIgKHdoZXJlICJWYWNjaW5lIHR5cGUiID0gIlNlYXNvbmFsIGluZmx1ZW56YSB2YWNjaW5lcyIpCiovCmRlZmluZSAiU2Vhc29uYWwgaW5mbHVlbnphIGFubnVhbCBkb3NlIjoKICAoICJTZWNvbmQgc2Vhc29uYWwgaW5mbHVlbnphIGRvc2UgZnJvbSB0aGUgcHJpbWFyeSBzZXJpZXMgd2FzIGFkbWluaXN0ZXJlZC4gVGhlIHByaW1hcnkgc2VyaWVzIGhhcyBiZWVuIGNvbXBsZXRlZCIKICBvciAoICJGaXJzdCBzZWFzb25hbCBpbmZsdWVuemEgZG9zZSBmcm9tIHRoZSBwcmltYXJ5IHNlcmllcyB3YXMgYWRtaW5pc3RlcmVkIgogICAgYW5kIEVuY291bnRlci4iQ2xpZW50J3MgYWdlIGlzIG1vcmUgdGhhbiBvciBlcXVhbCB0byA5IHllYXJzIgogICApICkKCi8qCkBvdXRwdXQ6IFNlYXNvbmFsIGluZmx1ZW56YSBhbm51YWwgZG9zZSBDcmVhdGUKQGNyZWF0ZTogU2Vhc29uYWwgaW5mbHVlbnphIHZhY2NpbmUgYW5udWFsIGRvc2Ugc2hvdWxkIGJlIHByb3ZpZGVkIDEgeWVhciBhZnRlciB0aGUgcHJldmlvdXMgZG9zZQoqLwpkZWZpbmUgIlNlYXNvbmFsIGluZmx1ZW56YSBhbm51YWwgZG9zZSBDcmVhdGUiOgogIGlmICJTZWFzb25hbCBpbmZsdWVuemEgYW5udWFsIGRvc2UiIAogIHRoZW4gJ1NlYXNvbmFsIGluZmx1ZW56YSB2YWNjaW5lIGFubnVhbCBkb3NlIHNob3VsZCBiZSBwcm92aWRlZCAxIHllYXIgYWZ0ZXIgdGhlIHByZXZpb3VzIGRvc2UnICsgJwpEdWUgRGF0ZTogJyArIFRvU3RyaW5nKCJTZWFzb25hbCBpbmZsdWVuemEgYW5udWFsIGRvc2UgRHVlIERhdGUiKQogIGVsc2UgJycKCi8qCkBkeW5hbWljVmFsdWU6IFNlYXNvbmFsIGluZmx1ZW56YSBhbm51YWwgZG9zZSBEdWUgRGF0ZQpAcHNldWRvY29kZTogTGF0ZXN0ICJEYXRlIGFuZCB0aW1lIG9mIHZhY2NpbmF0aW9uIiAod2hlcmUgIlZhY2NpbmUgdHlwZSIgPSAiU2Vhc29uYWwgaW5mbHVlbnphIHZhY2NpbmVzIikgKyAxIHllYXIKKi8KZGVmaW5lICJTZWFzb25hbCBpbmZsdWVuemEgYW5udWFsIGRvc2UgRHVlIERhdGUiOgogIGlmICJTZWFzb25hbCBpbmZsdWVuemEgYW5udWFsIGRvc2UiIHRoZW4gRW5jb3VudGVyLiJEYXRlIG9mIExhdGVzdCBTZWFzb25hbCBpbmZsdWVuemEgRG9zZSIgKyAxIHllYXIKICBlbHNlIG51bGwKCi8qCkBkeW5hbWljVmFsdWU6IFNlYXNvbmFsIGluZmx1ZW56YSBhbm51YWwgZG9zZSBPdmVyZHVlCkBwc2V1ZG9jb2RlOiBUbyBiZSBkZXRlcm1pbmVkIGJ5IE1lbWJlciBTdGF0ZXM7IGhvd2V2ZXIsIHRoZXJlIGlzIG5vIHJlY29tbWVuZGVkIG92ZXJkdWUgZGF0ZSBhbmQgaW5kaXZpZHVhbHMgYXJlIGFsd2F5cyBlbGlnaWJsZSB0byBiZSB2YWNjaW5hdGVkCiovCmRlZmluZSAiU2Vhc29uYWwgaW5mbHVlbnphIGFubnVhbCBkb3NlIE92ZXJkdWUiOgogIG51bGwKCi8qCkBkeW5hbWljVmFsdWU6IFNlYXNvbmFsIGluZmx1ZW56YSBhbm51YWwgZG9zZSBFeHBpcmF0aW9uCkBwc2V1ZG9jb2RlOiBUbyBiZSBkZXRlcm1pbmVkIGJ5IE1lbWJlciBTdGF0ZXM7IGhvd2V2ZXIsIHRoZXJlIGlzIG5vIHJlY29tbWVuZGVkIGV4cGlyYXRpb24gZGF0ZSBhbmQgaW5kaXZpZHVhbHMgYXJlIGFsd2F5cyBlbGlnaWJsZSB0byBiZSB2YWNjaW5hdGVkCiovCmRlZmluZSAiU2Vhc29uYWwgaW5mbHVlbnphIGFubnVhbCBkb3NlIEV4cGlyYXRpb24iOgogIG51bGwKICAKLyoKQGNvbXBsZXRlOiBTZWFzb25hbCBpbmZsdWVuemEgYW5udWFsIGRvc2Ugd2FzIGFkbWluaXN0ZXJlZCBsZXNzIHRoYW4gMSB5ZWFyIGFnbwpAcHNldWRvY29kZTogQ291bnQgb2YgdmFjY2luZXMgYWRtaW5pc3RlcmVkICh3aGVyZSAiVmFjY2luZSB0eXBlIiA9ICJTZWFzb25hbCBpbmZsdWVuemEgdmFjY2luZXMiIGFuZCAiVHlwZSBvZiBkb3NlIiA9ICJCb29zdGVyIGRvc2UiKSAg4omlIDEgQU5EIFRvZGF5J3MgZGF0ZSAtIExhdGVzdCAiRGF0ZSBhbmQgdGltZSBvZiB2YWNjaW5hdGlvbiIgKHdoZXJlICJWYWNjaW5lIHR5cGUiID0gIlNlYXNvbmFsIGluZmx1ZW56YSB2YWNjaW5lcyIpIDwgMSB5ZWFyCiovCmRlZmluZSAiU2Vhc29uYWwgaW5mbHVlbnphIGFubnVhbCBkb3NlIHdhcyBhZG1pbmlzdGVyZWQgbGVzcyB0aGFuIDEgeWVhciBhZ28iOgogIEVuY291bnRlci4iVGhlIGxhdGVzdCBzZWFzb25hbCBpbmZsdWVuemEgZG9zZSB3YXMgIGFkbWluaXN0ZXJlZCBsZXNzIHRoYW4gMSB5ZWFyIGFnbyIKCi8qCkB0ZXN0OiBUZXN0IGV4cGVjdGVkIHJlc3VsdHMgYmFzZWQgb24gZXhhbXBsZSBwYXRpZW50cwoqLwpkZWZpbmUgIlRlc3QgVmFsaWRhdGlvbiI6CiAgY2FzZQogICAgd2hlbiBQYXRpZW50LmlkID0gJzA4LjEnIHRoZW4gIlNlYXNvbmFsIGluZmx1ZW56YSBkb3NlIDEiCiAgICB3aGVuIFBhdGllbnQuaWQgPSAnMDkuMDEnIHRoZW4gIlNlYXNvbmFsIGluZmx1ZW56YSBkb3NlIDEiCiAgICB3aGVuIFBhdGllbnQuaWQgPSAnMTAuMDEyJyB0aGVuICJTZWFzb25hbCBpbmZsdWVuemEgZG9zZSAyIgogICAgd2hlbiBQYXRpZW50LmlkID0gJzExLjAxMicgdGhlbiAiU2Vhc29uYWwgaW5mbHVlbnphIGRvc2UgMiIKICAgIHdoZW4gUGF0aWVudC5pZCA9ICcxMi4wMTInIHRoZW4gIlNlYXNvbmFsIGluZmx1ZW56YSBhbm51YWwgZG9zZSIKICAgIHdoZW4gUGF0aWVudC5pZCA9ICcxMy4wMTInIHRoZW4gIlNlYXNvbmFsIGluZmx1ZW56YSBhbm51YWwgZG9zZSIKICAgIHdoZW4gUGF0aWVudC5pZCA9ICcxNC4wMicgdGhlbiAiU2Vhc29uYWwgaW5mbHVlbnphIGFubnVhbCBkb3NlIgogICAgd2hlbiBQYXRpZW50LmlkID0gJzE1LjAyJyB0aGVuICJTZWFzb25hbCBpbmZsdWVuemEgYW5udWFsIGRvc2UiCiAgICBlbHNlICdObyB0ZXN0IGNhc2Ugc2V0JwogIGVuZAo="^^xsd:base64Binary ]
  ] [
     fhir:contentType [ fhir:v "application/elm+xml" ]
  ] ) . # 

# -------------------------------------------------------------------------------------

