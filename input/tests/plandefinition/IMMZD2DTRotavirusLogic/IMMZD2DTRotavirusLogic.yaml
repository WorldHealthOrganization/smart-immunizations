---
#Client's age is less than 6 weeks
#   'Today's date – "Date of birth" < 6 weeks
### Client is not due for rotavirus vaccination
### "Immunization recommendation status" = "Not due"
id: Rotavirus07.1
birth: -5w
patient:
  fhir:
    gender: female
---
#No rotavirus primary series doses were administered
#   Count of vaccines administered (where "Vaccine type" = "Rotavirus vaccines" and "Type of dose" = "Primary series") = 0
#Client's age is between 6 weeks and 24 months
#   6 weeks ≤ Today's date – "Date of birth" < 24 months
#No live vaccine was administered in the last 4 weeks
#   Today's date - latest "Date and time of vaccination" (where "Live vaccine" = TRUE) ≥ 4 weeks
### Client is due for rotavirus vaccination
### "Immunization recommendation status" = "Due"
id: Rotavirus08.3
birth: -12w
patient:
  fhir:
    gender: female
---
#No rotavirus primary series doses were administered
#   Count of vaccines administered (where "Vaccine type" = "Rotavirus vaccines" and "Type of dose" = "Primary series") = 0
#Client's age is between 6 weeks and 24 months
#   6 weeks ≤ Today's date – "Date of birth" < 24 months
#Live vaccine was administered in the last 4 weeks
#   Today's date - latest "Date and time of vaccination" (where "Live vaccine" = TRUE) < 4 weeks
### Client is not due for rotavirus vaccination
### "Immunization recommendation status" = "Not due"
id: Rotavirus09.3
birth: -12w
patient:
  fhir:
    gender: female
immunization:
  flu:
    vaccine:
      code: XM5V64
      system: http://id.who.int/icd/release/11/mms
      display: Influenza vaccines, live attenuated
    fhir:
      expirationDate: 1y
      occurrenceDateTime: -2w
---
#One rotavirus primary series dose was administered
#   Count of vaccines administered (where "Vaccine type" = "Rotavirus vaccines" and "Type of dose" = "Primary series") = 1
#Client's age is between 6 weeks and 24 months
#   6 weeks ≤ Today's date – "Date of birth" < 24 months
#No live vaccine was administered in the last 4 weeks
#   Today's date - latest "Date and time of vaccination" (where "Live vaccine" = TRUE) ≥ 4 weeks
### Client is due for rotavirus vaccination
### "Immunization recommendation status" = "Due"
id: Rotavirus10.3
birth: -12w
patient:
  fhir:
    gender: female
immunization:
  rotavirus:
    vaccine:
      code: XM4GV0
      system: http://id.who.int/icd/release/11/mms
      display: Rota virus, live attenuated
    doses:
      p3:
        - -4w
---
#One rotavirus primary series dose was administered
#   Count of vaccines administered (where "Vaccine type" = "Rotavirus vaccines" and "Type of dose" = "Primary series") = 1
#Client's age is between 6 weeks and 24 months
#   6 weeks ≤ Today's date – "Date of birth" < 24 months
#Live vaccine was administered in the last 4 weeks
#   Today's date - latest "Date and time of vaccination" (where "Live vaccine" = TRUE) < 4 weeks
### Client is not due for rotavirus vaccination
### "Immunization recommendation status" = "Not due"
id: Rotavirus11.3
birth: -12w
patient:
  fhir:
    gender: female
immunization:
  rotavirus:
    vaccine:
      code: XM4GV0
      system: http://id.who.int/icd/release/11/mms
      display: Rota virus, live attenuated
    doses:
      p3:
        - -2w
---
#Two rotavirus primary series doses were administered
#   Count of vaccines administered (where "Vaccine type" = "Rotavirus vaccines" and "Type of dose" = "Primary series") = 2
#Client's age is between 6 weeks and 24 months
#   6 weeks ≤ Today's date – "Date of birth" ≤ 24 months
#No live vaccine was administered in the last 4 weeks
#   Today's date - latest "Date and time of vaccination" (where "Live vaccine" = TRUE) ≥ 4 weeks
#The series administered to the client is a mixed series or a series with unknown vaccine products
#   "Vaccine brand" (where "Vaccine type" = "Rotavirus vaccines" AND "Dose number" = 1) ≠ "Vaccine brand" (where "Vaccine type" = "Rotavirus vaccines" AND "Dose number" = 2)
### Client is due for rotavirus vaccination
### "Immunization recommendation status" = "Due"
id: Rotavirus12.4
birth: -16w
patient:
  fhir:
    gender: female
immunization:
  rotavirus:
    vaccine:
      code: XM4GV0
      system: http://id.who.int/icd/release/11/mms
      display: Rota virus, live attenuated
    doses:
      p3:
        - -8w
        - -4w
---
#Two rotavirus primary series doses were administered
#   Count of vaccines administered (where "Vaccine type" = "Rotavirus vaccines" and "Type of dose" = "Primary series") = 2
#Client's age is between 6 weeks and 24 months
#   6 weeks ≤ Today's date – "Date of birth" ≤ 24 months
#Live vaccines was administered in the last 4 weeks
#   Today's date - latest "Date and time of vaccination" (where "Live vaccine" = TRUE) < 4 weeks
#The series administered to the client is a mixed series or a series with unknown vaccine products
#   "Vaccine brand" (where "Vaccine type" = "Rotavirus vaccines" AND "Dose number" = 1) ≠ "Vaccine brand" (where "Vaccine type" = "Rotavirus vaccines" AND "Dose number" = 2)
### Client is not due for rotavirus vaccination
### "Immunization recommendation status" = "Not due"
id: Rotavirus13.4
birth: -16w
patient:
  fhir:
    gender: female
immunization:
  rotavirus:
    vaccine:
      code: XM4GV0
      system: http://id.who.int/icd/release/11/mms
      display: Rota virus, live attenuated
    doses:
      p3:
        - -8w
        - -3w
---
#Two rotavirus primary series doses were administered
#   Count of vaccines administered (where "Vaccine type" = "Rotavirus vaccines" and "Type of dose" = "Primary series") = 2
#Client's age is between 6 weeks and 24 months
#   6 weeks ≤ Today's date – "Date of birth" ≤ 24 months
#No live vaccine was administered in last 4 weeks
#   Today's date - latest "Date and time of vaccination" (where "Live vaccine" = TRUE) ≥ 4 weeks
#The series administered to the client contains the same product
#   "Vaccine brand" (where "Vaccine type" = "Rotavirus vaccines" AND "Dose number" = 1) = "Vaccine brand" (where "Vaccine type" = "Rotavirus vaccines" AND "Dose number" = 2)
#The series contain more than two doses
#   "Total doses in series" > 2
### Client is due for rotavirus vaccination
### "Immunization recommendation status" = "Due"
id: Rotavirus14.5
birth: -16w
patient:
  fhir:
    gender: female
immunization:
  rotavirus:
    vaccine:
      code: XM4GV0
      system: http://id.who.int/icd/release/11/mms
      display: Rota virus, live attenuated
    doses:
      p3:
        - -8w
        - -4w
    fhir:
      extension:
        - url: http://smart.who.int/immunizations/StructureDefinition/IMMZVaccineBrand
          valueCodeableConcept:
            coding:
              - code: Rotavac
                system: http://example.org/Brands
                display: Rotavac
---
#Two rotavirus primary series doses were administered
#   Count of vaccines administered (where "Vaccine type" = "Rotavirus vaccines" and "Type of dose" = "Primary series") = 2
#Client's age is between 6 weeks and 24 months
#   6 weeks ≤ Today's date – "Date of birth" ≤ 24 months
#Live vaccine was administered in last 4 weeks
#   Today's date - latest "Date and time of vaccination" (where "Live vaccine" = TRUE) < 4 weeks
#The series administered to the client contains the same product
#   "Vaccine brand" (where "Vaccine type" = "Rotavirus vaccines" AND "Dose number" = 1) = "Vaccine brand" (where "Vaccine type" = "Rotavirus vaccines" AND "Dose number" = 2)
#The series contain more than two doses
#   "Total doses in series" > 2
### Client is not due for rotavirus vaccination
### "Immunization recommendation status" = "Not due"
id: Rotavirus15.5
birth: -16w
patient:
  fhir:
    gender: female
immunization:
  rotavirus:
    vaccine:
      code: XM4GV0
      system: http://id.who.int/icd/release/11/mms
      display: Rota virus, live attenuated
    doses:
      p3:
        - -8w
        - -3w
    fhir:
      extension:
        - url: http://smart.who.int/immunizations/StructureDefinition/IMMZVaccineBrand
          valueCodeableConcept:
            coding:
              - code: Rotavac
                system: http://example.org/Brands
                display: Rotavac
---
#Two rotavirus primary series doses were administered
#   Count of vaccines administered (where "Vaccine type" = "Rotavirus vaccines" and "Type of dose" = "Primary series") = 2
#Client's age is between 6 weeks and 24 months
#   6 weeks ≤ Today's date – "Date of birth" ≤ 24 months
#The series administered to the client contains the same product
#   "Vaccine brand" (where "Vaccine type" = "Rotavirus vaccines" AND "Dose number" = 1) = "Vaccine brand" (where "Vaccine type" = "Rotavirus vaccines" AND "Dose number" = 2)
#The series contain less than or equal to two doses
#   "Total doses in series" ≤ 2
### Rotavirus immunization schedule is complete
### "Immunization recommendation status" = "Complete"
id: Rotavirus16.4
birth: -16w
patient:
  fhir:
    gender: female
immunization:
  rotavirus:
    vaccine:
      code: XM4GV0
      system: http://id.who.int/icd/release/11/mms
      display: Rota virus, live attenuated
    doses:
      p2:
        - -8w
        - -3w
    fhir:
      extension:
        - url: http://smart.who.int/immunizations/StructureDefinition/IMMZVaccineBrand
          valueCodeableConcept:
            coding:
              - code: Rotavac
                system: http://example.org/Brands
                display: Rotarix
---
#Three rotavirus primary series doses were administered
#   Count of vaccines administered (where "Vaccine type" = "Rotavirus vaccines" and "Type of dose" = "Primary series") = 3
### Rotavirus immunization schedule is complete
### '"Immunization recommendation status" = "Complete"
id: Rotavirus17.1
birth: -20w
patient:
  fhir:
    gender: female
immunization:
  rotavirus:
    vaccine:
      code: XM4GV0
      system: http://id.who.int/icd/release/11/mms
      display: Rota virus, live attenuated
    doses:
      p2:
        - b+6w
        - b+10w
        - b+14w
---
#Client's age is more than 24 months
#   "Date of birth" > 24 months
### Client is not due for rotavirus vaccination if immunization schedule is not complete.
### "Immunization recommendation status" = "Not due" IF current "Immunization recommendation status" ≠ "Complete"
id: Rotavirus18.1
birth: -3y
patient:
  fhir:
    gender: female
