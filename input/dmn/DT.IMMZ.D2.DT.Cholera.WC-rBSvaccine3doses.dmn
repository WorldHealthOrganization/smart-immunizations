<dmn:definitions xmlns:dmn="https://www.omg.org/spec/DMN/20240513/MODEL/" namespace="http://smart.who.int/immunizations" label="IMMZ.D2 Determine required vaccination(s) if any  " id="DT.IMMZ.D2.DT.Cholera.WC-rBSvaccine3doses">
  <dmn:decision id="DT.IMMZ.D2.DT.Cholera.WC-rBSvaccine3doses" label="IMMZ.D2 Determine required vaccination(s) if any  ">
    <dmn:question>IMMZ.D2 Determine required vaccination(s) if any  </dmn:question>
    <dmn:usingTask href="http://smart.who.int/immunizations/bpmn/Determine.bpmn#if%20the%20client%20is%20due%20for%20a%20cholera%20vaccination%20according%20to%20the%20national%20immunization%20schedule"/>
    <dmn:decisionTable id="DT.IMMZ.D2.DT.Cholera.WC-rBSvaccine3doses">
      <dmn:input id="input.DT.IMMZ.D2.DT.Cholera.WC-rBSvaccine3doses.Clientsage" label="Clients age">
        <dmn:inputExpression id="inputExpression.DT.IMMZ.D2.DT.Cholera.WC-rBSvaccine3doses.Clientsage" typeRef="string">
          <dmn:text>Today's date − "Date of birth"</dmn:text>
        </dmn:inputExpression>
      </dmn:input>
      <dmn:input id="input.DT.IMMZ.D2.DT.Cholera.WC-rBSvaccine3doses.Numberofcholeraprimaryseriesdosesadministered" label="Number of cholera primary series doses administered">
        <dmn:inputExpression id="inputExpression.DT.IMMZ.D2.DT.Cholera.WC-rBSvaccine3doses.Numberofcholeraprimaryseriesdosesadministered" typeRef="string">
          <dmn:text>Count of vaccines administered (where "Vaccine type" = "Cholera vaccines" and "Type of dose" = "Primary series")</dmn:text>
        </dmn:inputExpression>
      </dmn:input>
      <dmn:input id="input.DT.IMMZ.D2.DT.Cholera.WC-rBSvaccine3doses.Dosenumberofthelatestdose" label="Dose number of the latest dose">
        <dmn:inputExpression id="inputExpression.DT.IMMZ.D2.DT.Cholera.WC-rBSvaccine3doses.Dosenumberofthelatestdose" typeRef="string">
          <dmn:text>Latest "Dose number" (where "Vaccine type" = "Cholera vaccines")</dmn:text>
        </dmn:inputExpression>
      </dmn:input>
      <dmn:input id="input.DT.IMMZ.D2.DT.Cholera.WC-rBSvaccine3doses.Timepassedsincelastcholeradosewasadministered" label="Time passed since last cholera dose was administered">
        <dmn:inputExpression id="inputExpression.DT.IMMZ.D2.DT.Cholera.WC-rBSvaccine3doses.Timepassedsincelastcholeradosewasadministered" typeRef="string">
          <dmn:text>Today's date − "Date and time of vaccination" (where "Vaccine type" = "Cholera vaccines")</dmn:text>
        </dmn:inputExpression>
      </dmn:input>
      <dmn:output id="output.DT.IMMZ.D2.DT.Cholera.WC-rBSvaccine3doses.CarePlan" label="Care Plan">
        <dmn:description>Produce a suggested Care Plan for consideration by health worker</dmn:description>
      </dmn:output>
      <dmn:output id="output.DT.IMMZ.D2.DT.Cholera.WC-rBSvaccine3doses.Guidancedisplayedtohealthworker" label="Guidance displayed to health worker">
        <dmn:description>Request to communicate guidance to the health worker</dmn:description>
      </dmn:output>
      <dmn:output id="output.DT.IMMZ.D2.DT.Cholera.WC-rBSvaccine3doses.Annotations" label="Annotations">
        <dmn:description>Additional information for the health worker</dmn:description>
      </dmn:output>
      <dmn:output id="output.DT.IMMZ.D2.DT.Cholera.WC-rBSvaccine3doses.References" label="Reference(s)">
        <dmn:description>Reference for the source content (L1)</dmn:description>
      </dmn:output>
      <dmn:rule id="rule.DT.IMMZ.D2.DT.Cholera.WC-rBSvaccine3doses.rul9b07e27d4e">
        <dmn:inputEntry>
          <dmn:description>Today's date − "Date of birth" &lt; 2 years</dmn:description>
          <dmn:text>Clients age is less than 2 years</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>–</dmn:description>
          <dmn:text>–</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>–</dmn:description>
          <dmn:text>–</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>–</dmn:description>
          <dmn:text>–</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>–</dmn:description>
          <dmn:text>–</dmn:text>
        </dmn:inputEntry>
        <dmn:outputEntry>
          <dmn:description>"Immunization recommendation status" = "Not due"</dmn:description>
          <dmn:text>Client is not due for cholera vaccination</dmn:text>
        </dmn:outputEntry>
        <dmn:outputEntry>
          <dmn:description>Check for any vaccines due and inform the caregiver of when to come back for the first cholera dose.</dmn:description>
          <dmn:text>Should not vaccinate client with cholera dose as clients age is less than 2 years.</dmn:text>
        </dmn:outputEntry>
        <dmn:annotationEntry>
          <dmn:text>For WC-rBS vaccine (Dukoral), 3 doses should be given to children aged 2–5 years.</dmn:text>
        </dmn:annotationEntry>
        <dmn:annotationEntry>
          <dmn:text>WHO recommendations for routine immunization – summary tables (March 2023) (1)</dmn:text>
        </dmn:annotationEntry>
      </dmn:rule>
      <dmn:rule id="rule.DT.IMMZ.D2.DT.Cholera.WC-rBSvaccine3doses.rul0b1015cc4a">
        <dmn:inputEntry>
          <dmn:description>2 years ≤ Today's date − "Date of birth" ≤ 5 years</dmn:description>
          <dmn:text>Clients age is 2–5 years</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Count of vaccines administered (where "Vaccine type" = "Cholera vaccines" and "Type of dose" = "Primary series") = 0</dmn:description>
          <dmn:text>No cholera primary series dose was administered</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>–</dmn:description>
          <dmn:text>–</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>–</dmn:description>
          <dmn:text>–</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>–</dmn:description>
          <dmn:text>–</dmn:text>
        </dmn:inputEntry>
        <dmn:outputEntry>
          <dmn:description>"Immunization recommendation status" = "Due"</dmn:description>
          <dmn:text>Client is due for cholera vaccination</dmn:text>
        </dmn:outputEntry>
        <dmn:outputEntry>
          <dmn:description>Check for contraindications.</dmn:description>
          <dmn:text>Should vaccinate client with cholera dose as no cholera doses have been administered.</dmn:text>
        </dmn:outputEntry>
        <dmn:annotationEntry>
          <dmn:text>For WC-rBS vaccine (Dukoral), 3 doses should be given to children aged 2–5 years of age, with an interval of 1–6 weeks between doses.</dmn:text>
        </dmn:annotationEntry>
      </dmn:rule>
      <dmn:rule id="rule.DT.IMMZ.D2.DT.Cholera.WC-rBSvaccine3doses.rulba11302b08">
        <dmn:inputEntry>
          <dmn:description>2 years ≤ Today's date − "Date of birth" ≤ 5 years</dmn:description>
          <dmn:text>Clients age is 2–5 years</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Count of vaccines administered (where "Vaccine type" = "Cholera vaccines" and "Type of dose" = "Primary series") &gt;= 1</dmn:description>
          <dmn:text>At least one cholera primary series dose was administered</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Latest "Dose number" (where "Vaccine type" = "Cholera vaccines" and "Type of dose" = "Primary series") = 1</dmn:description>
          <dmn:text>Dose number of the latest primary series dose is one</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Today's date − latest "Date and time of vaccination" (where "Vaccine type" = "Cholera vaccines") &lt; 1 week</dmn:description>
          <dmn:text>The latest cholera dose was administered less than 1 week ago</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>–</dmn:description>
          <dmn:text>–</dmn:text>
        </dmn:inputEntry>
        <dmn:outputEntry>
          <dmn:description>"Immunization recommendation status" = "Not due"</dmn:description>
          <dmn:text>Client is not due for cholera vaccination</dmn:text>
        </dmn:outputEntry>
        <dmn:outputEntry>
          <dmn:description>Check for any vaccines due and inform the caregiver of when to come back for the next dose.</dmn:description>
          <dmn:text>Should not vaccinate client with cholera dose as the latest cholera dose was administered less than 1 week ago.</dmn:text>
        </dmn:outputEntry>
      </dmn:rule>
      <dmn:rule id="rule.DT.IMMZ.D2.DT.Cholera.WC-rBSvaccine3doses.rulcb51302cd5">
        <dmn:inputEntry>
          <dmn:description>2 years ≤ Today's date − "Date of birth" ≤ 5 years</dmn:description>
          <dmn:text>Clients age is 2–5 years</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Count of vaccines administered (where "Vaccine type" = "Cholera vaccines" and "Type of dose" = "Primary series") &gt;= 1</dmn:description>
          <dmn:text>At least one cholera primary series dose was administered</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Latest "Dose number" (where "Vaccine type" = "Cholera vaccines" and "Type of dose" = "Primary series") = 1</dmn:description>
          <dmn:text>Dose number of the latest primary series dose is one</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>1 week ≤ Today's date − latest "Date and time of vaccination" (where "Vaccine type" = "Cholera vaccines") &lt; 6 weeks</dmn:description>
          <dmn:text>The latest cholera dose was administered more than 1 week and less than 6 weeks ago</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>–</dmn:description>
          <dmn:text>–</dmn:text>
        </dmn:inputEntry>
        <dmn:outputEntry>
          <dmn:description>"Immunization recommendation status" = "Due"</dmn:description>
          <dmn:text>Client is due for cholera vaccination</dmn:text>
        </dmn:outputEntry>
        <dmn:outputEntry>
          <dmn:description>Check for contraindications.</dmn:description>
          <dmn:text>Should vaccinate client with cholera dose as the latest cholera dose was administered in the last 1 to 6 weeks.</dmn:text>
        </dmn:outputEntry>
      </dmn:rule>
      <dmn:rule id="rule.DT.IMMZ.D2.DT.Cholera.WC-rBSvaccine3doses.rul9251b41ca5">
        <dmn:inputEntry>
          <dmn:description>2 years ≤ Today's date − "Date of birth" ≤ 5 years</dmn:description>
          <dmn:text>Clients age is 2–5 years</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Count of vaccines administered (where "Vaccine type" = "Cholera vaccines" and "Type of dose" = "Primary series") &gt;= 1</dmn:description>
          <dmn:text>At least one cholera primary series dose was administered</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Latest "Dose number" (where "Vaccine type" = "Cholera vaccines" and "Type of dose" = "Primary series") = 2</dmn:description>
          <dmn:text>Dose number of the latest primary series dose is two</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Today's date − latest "Date and time of vaccination" (where "Vaccine type" = "Cholera vaccines") &lt; 1 week</dmn:description>
          <dmn:text>The latest cholera dose was administered less than 1 week ago</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>–</dmn:description>
          <dmn:text>–</dmn:text>
        </dmn:inputEntry>
        <dmn:outputEntry>
          <dmn:description>"Immunization recommendation status" = "Not due"</dmn:description>
          <dmn:text>Client is not due for cholera vaccination</dmn:text>
        </dmn:outputEntry>
        <dmn:outputEntry>
          <dmn:description>Check for any vaccines due and inform the caregiver of when to come back for the next dose.</dmn:description>
          <dmn:text>Should not vaccinate client with cholera dose as the latest cholera dose was administered less than 1 week ago.</dmn:text>
        </dmn:outputEntry>
      </dmn:rule>
      <dmn:rule id="rule.DT.IMMZ.D2.DT.Cholera.WC-rBSvaccine3doses.rul2434085903">
        <dmn:inputEntry>
          <dmn:description>2 years ≤ Today's date − "Date of birth" ≤ 5 years</dmn:description>
          <dmn:text>Clients age is 2–5 years</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Count of vaccines administered (where "Vaccine type" = "Cholera vaccines" and "Type of dose" = "Primary series") &gt;= 1</dmn:description>
          <dmn:text>At least one cholera primary series dose was administered</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Latest "Dose number" (where "Vaccine type" = "Cholera vaccines" and "Type of dose" = "Primary series") = 2</dmn:description>
          <dmn:text>Dose number of the latest primary series dose is two</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>1 week ≤ Today's date − latest "Date and time of vaccination" (where "Vaccine type" = "Cholera vaccines") &lt; 6 weeks</dmn:description>
          <dmn:text>The latest cholera dose was administered more than 1 week and less than 6 weeks ago</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>–</dmn:description>
          <dmn:text>–</dmn:text>
        </dmn:inputEntry>
        <dmn:outputEntry>
          <dmn:description>"Immunization recommendation status" = "Due"</dmn:description>
          <dmn:text>Client is due for cholera vaccination</dmn:text>
        </dmn:outputEntry>
        <dmn:outputEntry>
          <dmn:description>Check for contraindications.</dmn:description>
          <dmn:text>Should vaccinate client with cholera dose as the latest cholera dose was administered in the last 1 to 6 weeks.</dmn:text>
        </dmn:outputEntry>
      </dmn:rule>
      <dmn:rule id="rule.DT.IMMZ.D2.DT.Cholera.WC-rBSvaccine3doses.rul4b9d4886a3">
        <dmn:inputEntry>
          <dmn:description>2 years ≤ Today's date − "Date of birth" ≤ 5 years</dmn:description>
          <dmn:text>Clients age is 2–5 years</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Count of vaccines administered (where "Vaccine type" = "Cholera vaccines" and "Type of dose" = "Primary series") &gt;= 1</dmn:description>
          <dmn:text>At least one cholera primary series dose was administered</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Latest "Dose number" (where "Vaccine type" = "Cholera vaccines" and "Type of dose" = "Primary series") &lt; 3</dmn:description>
          <dmn:text>Dose number of the latest primary series dose is less than three</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Today's date − latest "Date and time of vaccination" (where "Vaccine type" = "Cholera vaccines") ≥ 6 weeks</dmn:description>
          <dmn:text>The latest cholera dose was administered more than 6 weeks ago</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>–</dmn:description>
          <dmn:text>–</dmn:text>
        </dmn:inputEntry>
        <dmn:outputEntry>
          <dmn:description>"Immunization recommendation status" = "Due"
"Completed the booster series" (where "Vaccine type" = "Cholera vaccines") = FALSE when dose 1 is administered</dmn:description>
          <dmn:text>Client is due for cholera vaccination</dmn:text>
        </dmn:outputEntry>
        <dmn:outputEntry>
          <dmn:description>Check for contraindications.</dmn:description>
          <dmn:text>Should vaccinate client with cholera dose and restart primary series as the latest cholera dose was administered more than 6 weeks ago.</dmn:text>
        </dmn:outputEntry>
        <dmn:annotationEntry>
          <dmn:text>If interval since last dose ≥ 6 weeks, restart primary series.</dmn:text>
        </dmn:annotationEntry>
      </dmn:rule>
      <dmn:rule id="rule.DT.IMMZ.D2.DT.Cholera.WC-rBSvaccine3doses.rulaf66ddfcd9">
        <dmn:inputEntry>
          <dmn:description>2 years ≤ Today's date − "Date of birth" ≤ 5 years</dmn:description>
          <dmn:text>Clients age is 2–5 years</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Count of vaccines administered (where "Vaccine type" = "Cholera vaccines" and "Type of dose" = "Primary series") &gt;= 1</dmn:description>
          <dmn:text>At least one cholera primary series dose was administered</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Latest "Dose number" (where "Vaccine type" = "Cholera vaccines" and "Type of dose" = "Primary series") = 3</dmn:description>
          <dmn:text>Dose number of the latest primary series dose is three</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Today's date − latest "Date and time of vaccination" (where "Vaccine type" = "Cholera vaccines") ≤ Member States defined lower limit</dmn:description>
          <dmn:text>The latest cholera dose was administered less than {Member States defined lower limit} days ago</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>–</dmn:description>
          <dmn:text>–</dmn:text>
        </dmn:inputEntry>
        <dmn:outputEntry>
          <dmn:description>"Immunization recommendation status" = "Not due"
"Completed the booster series" (where "Vaccine type" = "Cholera vaccines") = TRUE</dmn:description>
          <dmn:text>Primary series is complete. Client is not due for cholera booster dose</dmn:text>
        </dmn:outputEntry>
        <dmn:outputEntry>
          <dmn:description>Check for any vaccines due and inform the caregiver of when to come back for the next dose.</dmn:description>
          <dmn:text>Should not vaccinate client with cholera dose as the latest cholera dose was administered less than {Member States defined lower limit} days ago.</dmn:text>
        </dmn:outputEntry>
        <dmn:annotationEntry>
          <dmn:text>Revaccination is recommended where there is continued risk of Vibrio cholerae infection. For WC-rBS vaccine, children aged 2–5 years revaccination is recommended within 6 months. If less than 6 months have passed, 1 dose for revaccination.</dmn:text>
        </dmn:annotationEntry>
      </dmn:rule>
      <dmn:rule id="rule.DT.IMMZ.D2.DT.Cholera.WC-rBSvaccine3doses.rul7311219573">
        <dmn:inputEntry>
          <dmn:description>2 years ≤ Today's date − "Date of birth" ≤ 5 years</dmn:description>
          <dmn:text>Clients age is 2–5 years</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Count of vaccines administered (where "Vaccine type" = "Cholera vaccines" and "Type of dose" = "Primary series") &gt;= 1</dmn:description>
          <dmn:text>At least one cholera primary series dose was administered</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Latest "Dose number" (where "Vaccine type" = "Cholera vaccines" and "Type of dose" = "Primary series") = 3</dmn:description>
          <dmn:text>Dose number of the latest primary series dose is three</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Today's date − latest "Date and time of vaccination" (where "Vaccine type" = "Cholera vaccines") ≤ 6 months</dmn:description>
          <dmn:text>The latest cholera dose was administered approximately less than 6 months ago {Member States defined exact interval}</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>–</dmn:description>
          <dmn:text>–</dmn:text>
        </dmn:inputEntry>
        <dmn:outputEntry>
          <dmn:description>"Immunization recommendation status" = "Due"
"Completed the booster series" (where "Vaccine type" = "Cholera vaccines") = TRUE</dmn:description>
          <dmn:text>Primary series is complete. Client is due for cholera booster dose</dmn:text>
        </dmn:outputEntry>
        <dmn:outputEntry>
          <dmn:description>Check for contraindications.</dmn:description>
          <dmn:text>Should vaccinate client with cholera booster dose as the latest cholera dose was administered less than approximately 6 months ago.</dmn:text>
        </dmn:outputEntry>
      </dmn:rule>
      <dmn:rule id="rule.DT.IMMZ.D2.DT.Cholera.WC-rBSvaccine3doses.rul045dffb3a1">
        <dmn:inputEntry>
          <dmn:description>2 years ≤ Today's date − "Date of birth" ≤ 5 years</dmn:description>
          <dmn:text>Clients age is 2–5 years</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Count of vaccines administered (where "Vaccine type" = "Cholera vaccines" and "Type of dose" = "Primary series") &gt;= 1</dmn:description>
          <dmn:text>At least one cholera primary series dose was administered</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Latest "Dose number" (where "Vaccine type" = "Cholera vaccines" and "Type of dose" = "Primary series") = 3</dmn:description>
          <dmn:text>Dose number of the latest primary series dose is three</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Today's date − latest "Date and time of vaccination" (where "Vaccine type" = "Cholera vaccines") &gt; 6 months</dmn:description>
          <dmn:text>The latest cholera dose was administered approximately more than 6 months ago {Member States defined exact interval}</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>–</dmn:description>
          <dmn:text>–</dmn:text>
        </dmn:inputEntry>
        <dmn:outputEntry>
          <dmn:description>"Immunization recommendation status" = "Due"
"Completed the primary vaccination series" (where "Vaccine type" = "Cholera vaccines") = FALSE when dose 1 is administered</dmn:description>
          <dmn:text>Client is due for cholera vaccination</dmn:text>
        </dmn:outputEntry>
        <dmn:outputEntry>
          <dmn:description>Check for contraindications.</dmn:description>
          <dmn:text>Should vaccinate client with cholera dose and restart primary series as the latest cholera dose was administered more than approximately 6 months ago.</dmn:text>
        </dmn:outputEntry>
        <dmn:annotationEntry>
          <dmn:text>For WC-rBS vaccine, children aged 2–5 years revaccination is recommended within 6 months. If more than 6 months have passed, the primary series of 3 doses should be repeated.</dmn:text>
        </dmn:annotationEntry>
      </dmn:rule>
    </dmn:decisionTable>
  </dmn:decision>
</dmn:definitions>