<dmn:definitions xmlns:dmn="https://www.omg.org/spec/DMN/20240513/MODEL/" namespace="http://smart.who.int/immunizations" label="IMMZ.D2 Determine required vaccination(s) if any" id="DAK.DT.IMMZ.D2.DT.HepatitisB.Birthdose">
  <dmn:decision id="DAK.DT.IMMZ.D2.DT.HepatitisB.Birthdose" label="IMMZ.D2 Determine required vaccination(s) if any">
    <dmn:question>IMMZ.D2 Determine required vaccination(s) if any</dmn:question>
    <dmn:usingTask href="http://smart.who.int/immunizations/bpmn/Determine.bpmn#if%20the%20client%20is%20due%20for%20a%20hepatitis%20B%20vaccination%20according%20to%20the%20national%20immunization%20schedule"/>
    <dmn:decisionTable id="DAK.DT.IMMZ.D2.DT.HepatitisB.Birthdose">
      <dmn:input id="input.DAK.DT.IMMZ.D2.DT.HepatitisB.Birthdose.NumberofhepatitisBbirthdosesadministered" label="Number of hepatitis B birth doses administered">
        <dmn:inputExpression id="inputExpression.DAK.DT.IMMZ.D2.DT.HepatitisB.Birthdose.NumberofhepatitisBbirthdosesadministered" typeRef="string">
          <dmn:text>Count of vaccines administered (where "Vaccine type" = "Hepatitis B-containing vaccines" and "Birth dose" = TRUE)</dmn:text>
        </dmn:inputExpression>
      </dmn:input>
      <dmn:input id="input.DAK.DT.IMMZ.D2.DT.HepatitisB.Birthdose.Clientsage" label="Clients age">
        <dmn:inputExpression id="inputExpression.DAK.DT.IMMZ.D2.DT.HepatitisB.Birthdose.Clientsage" typeRef="string">
          <dmn:text>Today's date − "Date of birth"</dmn:text>
        </dmn:inputExpression>
      </dmn:input>
      <dmn:output id="output.DAK.DT.IMMZ.D2.DT.HepatitisB.Birthdose.CarePlan" label="Care Plan">
        <dmn:description>Produce a suggested Care Plan for consideration by health worker</dmn:description>
      </dmn:output>
      <dmn:output id="output.DAK.DT.IMMZ.D2.DT.HepatitisB.Birthdose.Guidancedisplayedtohealthworker" label="Guidance displayed to health worker">
        <dmn:description>Request to communicate guidance to the health worker</dmn:description>
      </dmn:output>
      <dmn:output id="output.DAK.DT.IMMZ.D2.DT.HepatitisB.Birthdose.Annotations" label="Annotations">
        <dmn:description>Additional information for the health worker</dmn:description>
      </dmn:output>
      <dmn:output id="output.DAK.DT.IMMZ.D2.DT.HepatitisB.Birthdose.References" label="Reference(s)">
        <dmn:description>Reference for the source content (L1)</dmn:description>
      </dmn:output>
      <dmn:rule id="rule.DAK.DT.IMMZ.D2.DT.HepatitisB.Birthdose.rule.He00f6f61eb">
        <dmn:inputEntry>
          <dmn:description>Count of vaccines administered (where "Vaccine type" = "Hepatitis B-containing vaccines" and "Birth dose" = TRUE) = 0</dmn:description>
          <dmn:text>Hepatitis B birth dose was not administered</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Today's date − "Date of birth" &lt; Member States defined upper limit</dmn:description>
          <dmn:text>Clients age is less than {Member States defined upper limit}</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>–</dmn:description>
          <dmn:text>–</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>–</dmn:description>
          <dmn:text>–</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>–</dmn:description>
          <dmn:text>–</dmn:text>
        </dmn:inputEntry>
        <dmn:outputEntry>
          <dmn:description>"Immunization recommendation status" = "Due" (where "Type of hepatitis B dose" = "Hepatitis B monovalent vaccine")</dmn:description>
          <dmn:text>Client is due for hepatitis B monovalent vaccine</dmn:text>
        </dmn:outputEntry>
        <dmn:outputEntry>
          <dmn:description>Should vaccinate client with hepatitis B birth dose, as a monovalent dose. Check for contraindications.</dmn:description>
          <dmn:text>Should vaccinate client with hepatitis B birth dose, as a monovalent dose. Check for contraindications.</dmn:text>
        </dmn:outputEntry>
        <dmn:annotationEntry>
          <dmn:text>Hepatitis B vaccination is recommended for all children worldwide. Since perinatal or early postnatal transmission is the most important source of chronic hepatitis B virus infection globally, all infants (including low-birth-weight and premature infants) should receive their first dose of hepatitis B-containing vaccine as soon as possible after birth, ideally within 24 hours.

If administration within 24 hours is not feasible, a late birth dose has some effectiveness. WHO recommends that all infants receive the late birth dose during the first contact with health-care providers at any time up to the time of the next dose of the primary schedule.</dmn:text>
        </dmn:annotationEntry>
        <dmn:annotationEntry>
          <dmn:text>WHO recommendations for routine immunization – summary tables (March 2023) (1)</dmn:text>
        </dmn:annotationEntry>
      </dmn:rule>
      <dmn:rule id="rule.DAK.DT.IMMZ.D2.DT.HepatitisB.Birthdose.rule.Hfc05d06722">
        <dmn:inputEntry>
          <dmn:description>Count of vaccines administered (where "Vaccine type" = "Hepatitis B-containing vaccines" and "Birth dose" = TRUE) = 0</dmn:description>
          <dmn:text>Hepatitis B birth dose was not administered</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Today's date - "Date of birth" &gt; Member States defined upper limit</dmn:description>
          <dmn:text>Clients age is more than {Member States defined upper limit}</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>-</dmn:description>
          <dmn:text>-</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>-</dmn:description>
          <dmn:text>-</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>-</dmn:description>
          <dmn:text>-</dmn:text>
        </dmn:inputEntry>
        <dmn:outputEntry>
          <dmn:description>Client should follow delayed-start decision logic</dmn:description>
          <dmn:text>Client should follow delayed-start decision logic</dmn:text>
        </dmn:outputEntry>
        <dmn:outputEntry>
          <dmn:description>The client has a delayed start. Please follow the delayed start schedule.</dmn:description>
          <dmn:text>The client has a delayed start. Please follow the delayed start schedule.</dmn:text>
        </dmn:outputEntry>
      </dmn:rule>
      <dmn:rule id="rule.DAK.DT.IMMZ.D2.DT.HepatitisB.Birthdose.rule.He663e1f729">
        <dmn:inputEntry>
          <dmn:description>Count of vaccines administered (where "Vaccine type" = "Hepatitis B-containing vaccines" and "Birth dose" = TRUE) = 1</dmn:description>
          <dmn:text>Hepatitis B birth dose was administered</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>–</dmn:description>
          <dmn:text>–</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>–</dmn:description>
          <dmn:text>–</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>–</dmn:description>
          <dmn:text>–</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>–</dmn:description>
          <dmn:text>–</dmn:text>
        </dmn:inputEntry>
        <dmn:outputEntry>
          <dmn:description>"Immunization recommendation status" = "Not due"</dmn:description>
          <dmn:text>Client is not due for the hepatitis B birth dose</dmn:text>
        </dmn:outputEntry>
        <dmn:outputEntry>
          <dmn:description>Hepatitis B birth dose was already administered. Check hepatitis B immunization schedule.</dmn:description>
          <dmn:text>Hepatitis B birth dose was already administered. Check hepatitis B immunization schedule.</dmn:text>
        </dmn:outputEntry>
      </dmn:rule>
    </dmn:decisionTable>
  </dmn:decision>
</dmn:definitions>