<dmn:definitions xmlns:dmn="https://www.omg.org/spec/DMN/20240513/MODEL/" namespace="http://smart.who.int/immunizations" label="IMMZ.D2 Determine required vaccination(s) if any  " id="DTs.Typhoid">
  <dmn:decision id="DT.IMMZ.D2.DT.Typhoid.Ty21a" label="IMMZ.D2 Determine required vaccination(s) if any  ">
    <dmn:question>IMMZ.D2 Determine required vaccination(s) if any  </dmn:question>
    <dmn:usingTask href="http://smart.who.int/immunizations/bpmn/Determine.bpmn#if%20the%20client%20is%20due%20for%20a%20typhoid%20vaccination%20according%20to%20the%20national%20immunization%20schedule"/>
    <dmn:decisionTable id="DT.IMMZ.D2.DT.Typhoid.Ty21a">
      <dmn:input id="input.DT.IMMZ.D2.DT.Typhoid.Ty21a.Clientsage" label="Clients age">
        <dmn:inputExpression id="inputExpression.DT.IMMZ.D2.DT.Typhoid.Ty21a.Clientsage" typeRef="string">
          <dmn:text>Today's date − "Date of birth"</dmn:text>
        </dmn:inputExpression>
      </dmn:input>
      <dmn:input id="input.DT.IMMZ.D2.DT.Typhoid.Ty21a.Typhoidprimaryseriesstatus" label="Typhoid primary series status">
        <dmn:inputExpression id="inputExpression.DT.IMMZ.D2.DT.Typhoid.Ty21a.Typhoidprimaryseriesstatus" typeRef="string">
          <dmn:text>"Completed the primary vaccination series" (where "Vaccine type" = "Typhoid vaccines")</dmn:text>
        </dmn:inputExpression>
      </dmn:input>
      <dmn:input id="input.DT.IMMZ.D2.DT.Typhoid.Ty21a.Timepassedsincelasttyphoiddosewasadministered" label="Time passed since last typhoid dose was administered">
        <dmn:inputExpression id="inputExpression.DT.IMMZ.D2.DT.Typhoid.Ty21a.Timepassedsincelasttyphoiddosewasadministered" typeRef="string">
          <dmn:text>'Today's date − latest "Date and time of vaccination" (where "Vaccine type" = "Typhoid vaccines")</dmn:text>
        </dmn:inputExpression>
      </dmn:input>
      <dmn:input id="input.DT.IMMZ.D2.DT.Typhoid.Ty21a.Timepassedsincealivevaccineotherthantyphoidw.598c15b7cf" label="Time passed since a live vaccine, other than typhoid, was administered">
        <dmn:inputExpression id="inputExpression.DT.IMMZ.D2.DT.Typhoid.Ty21a.Timepassedsincealivevaccineotherthantyphoidw.598c15b7cf" typeRef="string">
          <dmn:text>Today's date − latest "Date and time of vaccination" (where "Live vaccine" = TRUE AND "Vaccine type" ≠ "Typhoid vaccines")</dmn:text>
        </dmn:inputExpression>
      </dmn:input>
      <dmn:output id="output.DT.IMMZ.D2.DT.Typhoid.Ty21a.CarePlan" label="Care Plan">
        <dmn:description>Produce a suggested Care Plan for consideration by health worker</dmn:description>
      </dmn:output>
      <dmn:output id="output.DT.IMMZ.D2.DT.Typhoid.Ty21a.Guidancedisplayedtohealthworker" label="Guidance displayed to health worker">
        <dmn:description>Request to communicate guidance to the health worker</dmn:description>
      </dmn:output>
      <dmn:output id="output.DT.IMMZ.D2.DT.Typhoid.Ty21a.Annotations" label="Annotations">
        <dmn:description>Additional information for the health worker</dmn:description>
      </dmn:output>
      <dmn:output id="output.DT.IMMZ.D2.DT.Typhoid.Ty21a.References" label="Reference(s)">
        <dmn:description>Reference for the source content (L1)</dmn:description>
      </dmn:output>
      <dmn:rule id="rule.DT.IMMZ.D2.DT.Typhoid.Ty21a.rule.Clientsagei.73966210a4">
        <dmn:inputEntry>
          <dmn:description>Today's date − "Date of birth" &lt; 6 years</dmn:description>
          <dmn:text>Clients age is less than 6 years</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>–</dmn:description>
          <dmn:text>–</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>–</dmn:description>
          <dmn:text>–</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>–</dmn:description>
          <dmn:text>–</dmn:text>
        </dmn:inputEntry>
        <dmn:outputEntry>
          <dmn:description>"Immunization recommendation status" = "Not due"</dmn:description>
          <dmn:text>Client is not due for Typhoid vaccination</dmn:text>
        </dmn:outputEntry>
        <dmn:outputEntry>
          <dmn:description>Check for any other vaccines due and inform the caregiver of when to come back for the first dose.</dmn:description>
          <dmn:text>Should not vaccinate client with typhoid dose as clients age is less than 6 years.</dmn:text>
        </dmn:outputEntry>
        <dmn:annotationEntry>
          <dmn:text>Countries may consider the routine use of Ty21a vaccine for individuals aged over 6 years.</dmn:text>
        </dmn:annotationEntry>
        <dmn:annotationEntry>
          <dmn:text>WHO recommendations for routine immunization – summary tables (March 2023) (1)</dmn:text>
        </dmn:annotationEntry>
      </dmn:rule>
      <dmn:rule id="rule.DT.IMMZ.D2.DT.Typhoid.Ty21a.rule.Clientsagei.47a2b19dab">
        <dmn:inputEntry>
          <dmn:description>Today's date − "Date of birth" ≥ 6 years</dmn:description>
          <dmn:text>Clients age is more than or equal to 6 years</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>"Completed the primary vaccination series" (where "Vaccine type" = "Typhoid vaccines") ≠ TRUE</dmn:description>
          <dmn:text>Primary series is not complete</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>–</dmn:description>
          <dmn:text>–</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Today's date − latest "Date and time of vaccination" (where "Live vaccine" = TRUE AND "Vaccine type" ≠ "Typhoid vaccines") ≥ 4 weeks</dmn:description>
          <dmn:text>No live vaccine, other than typhoid, was administered in the past 4 weeks</dmn:text>
        </dmn:inputEntry>
        <dmn:outputEntry>
          <dmn:description>"Immunization recommendation status" = "Due"</dmn:description>
          <dmn:text>Client is due for Typhoid vaccination</dmn:text>
        </dmn:outputEntry>
        <dmn:outputEntry>
          <dmn:description>Check for contraindications.</dmn:description>
          <dmn:text>Prescribe the Ty21a primary series (if not done yet). Should vaccinate client with typhoid dose as primary series has not been completed and no live vaccines was administered in the past 4 weeks.</dmn:text>
        </dmn:outputEntry>
        <dmn:annotationEntry>
          <dmn:text>For Ty21a, a 3-dose oral immunization schedule, administering the vaccine every second (alternate) day, is recommended above 6 years of age. If interruption between doses is &gt; 21 days, restart primary series.</dmn:text>
        </dmn:annotationEntry>
      </dmn:rule>
      <dmn:rule id="rule.DT.IMMZ.D2.DT.Typhoid.Ty21a.rule.Clientsagei.e411e6e544">
        <dmn:inputEntry>
          <dmn:description>Today's date − "Date of birth" ≥ 6 years</dmn:description>
          <dmn:text>Clients age is more than or equal to 6 years</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>"Completed the primary vaccination series" (where "Vaccine type" = "Typhoid vaccines") ≠ TRUE</dmn:description>
          <dmn:text>Primary series is not complete</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>–</dmn:description>
          <dmn:text>–</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Today's date − latest "Date and time of vaccination" (where "Live vaccine" = TRUE AND "Vaccine type" ≠ "Typhoid vaccines") &lt; 4 weeks</dmn:description>
          <dmn:text>Live vaccine, other than typhoid, was administered in the past 4 weeks</dmn:text>
        </dmn:inputEntry>
        <dmn:outputEntry>
          <dmn:description>"Immunization recommendation status" = "Not due"</dmn:description>
          <dmn:text>Client is not due for Typhoid vaccination</dmn:text>
        </dmn:outputEntry>
        <dmn:outputEntry>
          <dmn:description>Check for other vaccines due and inform the caregiver or the client when the next dose should be administered.</dmn:description>
          <dmn:text>Should not vaccinate client with typhoid dose as live vaccine was administered in the past 4 weeks.</dmn:text>
        </dmn:outputEntry>
        <dmn:annotationEntry>
          <dmn:text>As a general rule, any live vaccine may be given either simultaneously or at an interval of 4 weeks.</dmn:text>
        </dmn:annotationEntry>
      </dmn:rule>
      <dmn:rule id="rule.DT.IMMZ.D2.DT.Typhoid.Ty21a.rule.Clientsagei.fca225fb33">
        <dmn:inputEntry>
          <dmn:description>Today's date − "Date of birth" ≥ 6 years</dmn:description>
          <dmn:text>Clients age is more than or equal to 6 years</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>"Completed the primary vaccination series" (where "Vaccine type" = "Typhoid vaccines") = TRUE</dmn:description>
          <dmn:text>Primary series is complete</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Today's date − latest "Date and time of vaccination" (where "Vaccine type" = "Typhoid vaccines") &lt; 3 years</dmn:description>
          <dmn:text>The latest typhoid dose was administered less than 3 years ago</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>–</dmn:description>
          <dmn:text>–</dmn:text>
        </dmn:inputEntry>
        <dmn:outputEntry>
          <dmn:description>"Immunization recommendation status" = "Not due"</dmn:description>
          <dmn:text>Client is not due for typhoid booster dose</dmn:text>
        </dmn:outputEntry>
        <dmn:outputEntry>
          <dmn:description>Check for any other vaccines due and inform the caregiver or the client when the next dose should be administered.</dmn:description>
          <dmn:text>Should not vaccinate client with typhoid booster dose as the latest typhoid dose was administered less than 3 years ago.</dmn:text>
        </dmn:outputEntry>
        <dmn:annotationEntry>
          <dmn:text>Revaccination is recommended every 3–7 years for Ty21a (every 1 to 7 years for travellers from non-endemic to endemic areas, depending on national policies). As a general rule, any live vaccine may be given either simultaneously or at an interval of 4 weeks.</dmn:text>
        </dmn:annotationEntry>
        <dmn:annotationEntry>
          <dmn:text>WHO recommendations for routine immunization – summary tables (March 2023) (1)
Typhoid vaccines: WHO position paper (March 2018) (16)</dmn:text>
        </dmn:annotationEntry>
      </dmn:rule>
      <dmn:rule id="rule.DT.IMMZ.D2.DT.Typhoid.Ty21a.rule.Clientsagei.81558c6ca1">
        <dmn:inputEntry>
          <dmn:description>Today's date − "Date of birth" ≥ 6 years</dmn:description>
          <dmn:text>Clients age is more than or equal to 6 years</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>"Completed the primary vaccination series" (where "Vaccine type" = "Typhoid vaccines") = TRUE</dmn:description>
          <dmn:text>Primary series is complete</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Today's date − latest "Date and time of vaccination" (where "Vaccine type" = "Typhoid vaccines") ≥ 3 years</dmn:description>
          <dmn:text>The latest typhoid dose was administered more than 3 years ago</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Today's date − latest "Date and time of vaccination" (where "Live vaccine" = TRUE AND "Vaccine type" ≠ "Typhoid vaccines") ≥ 4 weeks</dmn:description>
          <dmn:text>No live vaccine, other than typhoid, was administered in the past 4 weeks</dmn:text>
        </dmn:inputEntry>
        <dmn:outputEntry>
          <dmn:description>"Immunization recommendation status" = "Due"</dmn:description>
          <dmn:text>Client is due for typhoid booster dose</dmn:text>
        </dmn:outputEntry>
        <dmn:outputEntry>
          <dmn:description>Check for contraindications.</dmn:description>
          <dmn:text>Prescribe the Ty21a booster series. Should vaccinate client with typhoid booster dose as primary series has been completed, the latest typhoid dose was administered more than 3 years ago and no live vaccine was administered in the past 4 weeks.</dmn:text>
        </dmn:outputEntry>
      </dmn:rule>
      <dmn:rule id="rule.DT.IMMZ.D2.DT.Typhoid.Ty21a.rule.Clientsagei.2395095fdd">
        <dmn:inputEntry>
          <dmn:description>Today's date − "Date of birth" ≥ 6 years</dmn:description>
          <dmn:text>Clients age is more than or equal to 6 years</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>"Completed the primary vaccination series" (where "Vaccine type" = "Typhoid vaccines") = TRUE</dmn:description>
          <dmn:text>Primary series is complete</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Today's date − latest "Date and time of vaccination" (where "Vaccine type" = "Typhoid vaccines") ≥ 3 years</dmn:description>
          <dmn:text>The latest typhoid dose was administered more than 3 years ago</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Today's date − latest "Date and time of vaccination" (where "Live vaccine" = TRUE AND "Vaccine type" ≠ "Typhoid vaccines") &lt; 4 weeks</dmn:description>
          <dmn:text>Live vaccine, other than typhoid, was administered in the past 4 weeks</dmn:text>
        </dmn:inputEntry>
        <dmn:outputEntry>
          <dmn:description>"Immunization recommendation status" = "Not due"</dmn:description>
          <dmn:text>Client is not due for typhoid booster dose</dmn:text>
        </dmn:outputEntry>
        <dmn:outputEntry>
          <dmn:description>Check for any other vaccines due and inform the caregiver or the client when the next dose should be administered</dmn:description>
          <dmn:text>Should not vaccinate client with typhoid booster dose as live vaccine was administered in the past 4 weeks.</dmn:text>
        </dmn:outputEntry>
      </dmn:rule>
    </dmn:decisionTable>
  </dmn:decision>
</dmn:definitions>