<?xml version='1.0' encoding='utf-8'?>
<dmn:definitions xmlns:dmn="https://www.omg.org/spec/DMN/20240513/MODEL/" namespace="http://smart.who.int/immunizations" name="IMMZ.D2.DT.Yellowfever" id="httpsmart.who.intimmunizationsdmnIMMZ.D2.DT.Yellowfever.dmn">
  <dmn:decision id="IMMZ.D2.DT.Yellowfever" name="IMMZ.D2.DT.Yellowfever">
    <dmn:decisionTable>
      <dmn:input id="input.IMMZ.D2.DT.Yellowfever.Numberofyellowfeverprimaryseriesdosesadministered" label="Number of yellow fever primary series doses administered">
        <dmn:inputExpression id="inputExpression.IMMZ.D2.DT.Yellowfever.Numberofyellowfeverprimaryseriesdosesadministered" typeRef="string">
          <dmn:text>Count of vaccines administered (where "Vaccine type" = "Yellow fever vaccines" and "Type of dose" = "Primary series")</dmn:text>
        </dmn:inputExpression>
      </dmn:input>
      <dmn:input id="input.IMMZ.D2.DT.Yellowfever.Clientsage" label="Clients age">
        <dmn:inputExpression id="inputExpression.IMMZ.D2.DT.Yellowfever.Clientsage" typeRef="string">
          <dmn:text>Today's date − "Date of birth"</dmn:text>
        </dmn:inputExpression>
      </dmn:input>
      <dmn:input id="input.IMMZ.D2.DT.Yellowfever.Timepassedsincealivevaccinewasadministered" label="Time passed since a live vaccine was administered">
        <dmn:inputExpression id="inputExpression.IMMZ.D2.DT.Yellowfever.Timepassedsincealivevaccinewasadministered" typeRef="string">
          <dmn:text>Today's date − latest "Date and time of vaccination" (where "Live vaccine" = TRUE)</dmn:text>
        </dmn:inputExpression>
      </dmn:input>
      <dmn:output id="output.IMMZ.D2.DT.Yellowfever.CarePlan" label="Care Plan">
        <dmn:description>Produce a suggested Care Plan for consideration by health worker</dmn:description>
      </dmn:output>
      <dmn:output id="output.IMMZ.D2.DT.Yellowfever.Guidancedisplayedtohealthworker" label="Guidance displayed to health worker">
        <dmn:description>Request to communicate guidance to the health worker</dmn:description>
      </dmn:output>
      <dmn:rule id="rule.dt.IMMZ.D2.DT.Yellowfever.2">
        <dmn:inputEntry>
          <dmn:description>Count of vaccines administered (where "Vaccine type" = "Yellow fever vaccines" and "Type of dose" = "Primary series") = 0</dmn:description>
          <dmn:text>No yellow fever primary series doses were administered</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Today's date − "Date of birth" &lt; 9 months</dmn:description>
          <dmn:text>Clients age is less than 9 months</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>–</dmn:description>
          <dmn:text>–</dmn:text>
        </dmn:inputEntry>
        <dmn:outputEntry>
          <dmn:description>"Immunization recommendation status" = "Not due"</dmn:description>
          <dmn:text>Client is not due for yellow fever vaccination</dmn:text>
        </dmn:outputEntry>
        <dmn:outputEntry>
          <dmn:description>Should not vaccinate client with yellow fever dose as client's age is less than 9 months. Check for any vaccines due and inform the caregiver of when to come back for the next dose.</dmn:description>
          <dmn:text>Should not vaccinate client with yellow fever dose as clients age is less than 9 months. Check for any vaccines due and inform the caregiver of when to come back for the next dose.</dmn:text>
        </dmn:outputEntry>
        <dmn:annotationEntry>
          <dmn:text>The vaccine is contraindicated in children aged under 6 months and is not recommended for those aged 6–8 months, except during epidemics when the risk of infection with the yellow fever virus is very high.</dmn:text>
        </dmn:annotationEntry>
        <dmn:annotationEntry>
          <dmn:text>WHO recommendations for routine immunization – summary tables (March 2023) (1)</dmn:text>
        </dmn:annotationEntry>
      </dmn:rule>
      <dmn:rule id="rule.dt.IMMZ.D2.DT.Yellowfever.3">
        <dmn:inputEntry>
          <dmn:description>Count of vaccines administered (where "Vaccine type" = "Yellow fever vaccines" and "Type of dose" = "Primary series") = 0</dmn:description>
          <dmn:text>No yellow fever primary series doses were administered</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Today's date − "Date of birth" ≥ 9 months</dmn:description>
          <dmn:text>Clients age is more than or equal to 9 months</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Today's date − latest "Date and time of vaccination" (where "Live vaccine" = TRUE) &lt; 4 weeks</dmn:description>
          <dmn:text>Live vaccine was administered in the past 4 weeks</dmn:text>
        </dmn:inputEntry>
        <dmn:outputEntry>
          <dmn:description>"Immunization recommendation status" = "Not due"</dmn:description>
          <dmn:text>Client is not due for yellow fever vaccination</dmn:text>
        </dmn:outputEntry>
        <dmn:outputEntry>
          <dmn:description>Check for any vaccines due and inform the caregiver of when to come back for the first dose.</dmn:description>
          <dmn:text>Should not vaccinate client with yellow fever dose as live vaccine was administered in the past 4 weeks.</dmn:text>
        </dmn:outputEntry>
        <dmn:annotationEntry>
          <dmn:text>As a general rule, any live vaccine may be given either simultaneously or at an interval of 4 weeks.</dmn:text>
        </dmn:annotationEntry>
      </dmn:rule>
      <dmn:rule id="rule.dt.IMMZ.D2.DT.Yellowfever.4">
        <dmn:inputEntry>
          <dmn:description>Count of vaccines administered (where "Vaccine type" = "Yellow fever vaccines" and "Type of dose" = "Primary series") = 0</dmn:description>
          <dmn:text>No yellow fever primary series doses were administered</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Today's date − "Date of birth" ≥ 9 months</dmn:description>
          <dmn:text>Clients age is more than or equal to 9 months</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>Today's date − latest "Date and time of vaccination" (where "Live vaccine" = TRUE) ≥ 4 weeks</dmn:description>
          <dmn:text>No live vaccine was administered in the past 4 weeks</dmn:text>
        </dmn:inputEntry>
        <dmn:outputEntry>
          <dmn:description>"Immunization recommendation status" = "Due"</dmn:description>
          <dmn:text>Client is due for yellow fever vaccination</dmn:text>
        </dmn:outputEntry>
        <dmn:outputEntry>
          <dmn:description>Check for contraindications.</dmn:description>
          <dmn:text>Should vaccinate client with yellow fever dose as no yellow fever dose was administered, client is within appropriate age range and no live vaccine was administered in the past 4 weeks.</dmn:text>
        </dmn:outputEntry>
        <dmn:annotationEntry>
          <dmn:text>In endemic countries, it is recommended that yellow fever vaccine be given to children aged 9–12 months at the same time as the measles vaccine. Preventive mass vaccination campaigns are recommended for inhabitants of areas at risk of yellow fever where there is low vaccination coverage.

Vaccination should be provided to everyone aged 9 months and older in any area with reported cases.

Vaccination should also be offered if the individual is travelling to and from at-risk areas, if not contraindicated.

As a general rule, any live vaccine may be given either simultaneously or at an interval of 4 weeks. Oral poliovirus vaccine may be given at any time in relation to yellow fever vaccination. </dmn:text>
        </dmn:annotationEntry>
      </dmn:rule>
      <dmn:rule id="rule.dt.IMMZ.D2.DT.Yellowfever.5">
        <dmn:inputEntry>
          <dmn:description>Count of vaccines administered (where "Vaccine type" = "Yellow fever vaccines" and "Type of dose" = "Primary series") = 1</dmn:description>
          <dmn:text>One yellow fever primary series dose was administered</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>–</dmn:description>
          <dmn:text>–</dmn:text>
        </dmn:inputEntry>
        <dmn:inputEntry>
          <dmn:description>–</dmn:description>
          <dmn:text>–</dmn:text>
        </dmn:inputEntry>
        <dmn:outputEntry>
          <dmn:description>"Immunization recommendation status" = "Complete"
"Completed the primary vaccination series" = TRUE (where "Vaccine type" = "Yellow fever vaccines")</dmn:description>
          <dmn:text>Yellow fever immunization schedule is complete</dmn:text>
        </dmn:outputEntry>
        <dmn:outputEntry>
          <dmn:description>Check for any other vaccines due.</dmn:description>
          <dmn:text>Yellow fever immunization schedule is complete. One yellow fever primary series dose was administered.</dmn:text>
        </dmn:outputEntry>
        <dmn:annotationEntry>
          <dmn:text>–</dmn:text>
        </dmn:annotationEntry>
      </dmn:rule>
    </dmn:decisionTable>
  </dmn:decision>
</dmn:definitions>
