{
  "resourceType": "Library",
  "id": "IMMZIND08",
  "version": "1.0.2",
  "extension": [ {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-softwaresystem",
    "valueReference": {
      "reference": "Device/cqf-tooling"
    }
  } ],
  "url": "http://fhir.org/guides/who/smart-immunization/Library/IMMZIND08",
  "name": "IMMZ.IND.08",
  "parameter": [ {
    "name": "Measurement Period",
    "use": "in",
    "min": 0,
    "max": "1",
    "type": "Period"
  } ],
  "dataRequirement": [ {
    "type": "Patient",
    "profile": [ "http://hl7.org/fhir/StructureDefinition/Patient" ],
    "mustSupport": [ "use" ]
  }, {
    "type": "Immunization",
    "profile": [ "http://hl7.org/fhir/StructureDefinition/Immunization" ],
    "mustSupport": [ "status", "vaccineCode", "occurrence" ]
  } ],
  "content": [ 
    {
      "contentType": "text/cql",
      "data": "LyoKICogTGlicmFyeTogSU1NWi5JTkQuMDgKICogSW1tdW5pemF0aW9uIGNvdmVyYWdlIGZvciBNZWFzbGVzIGNvbnRhaW5pbmcgdmFjY2luZSAoRXN0aW1hdGVkIERlbm9taW5hdG9yKSAKICogUmVmZXJlbmNlczogV0hPIEltbXVuaXphdGlvbiBGYWNpbGl0eSBBbmFseXNpcyBHdWlkZSAoMSksIFdITyAvIFVOSUNFRiBKb2ludCBSZXBvcnRpbmcgRm9ybSAoMyAtIGVsZW1lbnRzIDQyNDAgYW5kIDQyNjAgKQogKi8KLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogKiBNZWFzbGUgRG9zZSAxCiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICogSW5pdGlhbCBQYXRpZW50IFBvcHVsYXRpb24gPQogKiAgICAgQWxsIHBhdGllbnQKICoKICogRGVub21pbmF0b3IgPQogKiAgICAgRGVtb2dyYXBoaWMgZGF0YSBmcm9tIG1lYXN1cmUgcmVwb3J0CiAqCiAqIE51bWVyYXRvciA9CiAqICAgICBQYXRpZW50IHdpdGggMXN0IE1lYXNsZSBpbW11bml6YXRpb24gaW4gdGhlIHJlcG9ydGluZyBwZXJpb2QKICoKICogRGVub21pbmF0b3IgRXhjZXB0aW9ucyA9CiAqICAgICBOb25lCiAqCiAqIERpc2FnZ3JlZ2F0aW9uOgogKiAgICBBZ2UgR3JvdXAgKDwgMSB5ZWFyIG9yIDEgeWVhciBvciA+IDIgeWVhcnMpCiAqICAgIEdlb2dyYXBoaWMgUmVnaW9uCiAqICAgIEFkbWluaXN0cmF0aXZlIEdlbmRlciAob3IgQmlvbG9naWNhbCBTZXgpCiAqIAogKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgogLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogKiBNZWFzbGUgRG9zZSAyCiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICogSW5pdGlhbCBQYXRpZW50IFBvcHVsYXRpb24gPQogKiAgICAgQWxsIHBhdGllbnQKICoKICogRGVub21pbmF0b3IgPQogKiAgICAgRGVtb2dyYXBoaWMgZGF0YSBmcm9tIG1lYXN1cmUgcmVwb3J0CiAqCiAqIE51bWVyYXRvciA9CiAqICAgICBQYXRpZW50IHdpdGggMm5kIE1lYXNsZSBpbW11bml6YXRpb24gaW4gdGhlIHJlcG9ydGluZyBwZXJpb2QKICoKICogRGVub21pbmF0b3IgRXhjZXB0aW9ucyA9CiAqICAgICBOb25lCiAqCiAqIERpc2FnZ3JlZ2F0aW9uOgogKiAgICBBZ2UgR3JvdXAgKDwgMSB5ZWFyIG9yIDEgeWVhciBvciA+IDIgeWVhcnMpCiAqICAgIEdlb2dyYXBoaWMgUmVnaW9uCiAqICAgIEFkbWluaXN0cmF0aXZlIEdlbmRlciAob3IgQmlvbG9naWNhbCBTZXgpCiAqIAogKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAqLwpsaWJyYXJ5IElNTVpJTkQwOCB2ZXJzaW9uICcxLjAuMicKCgp1c2luZyBGSElSIHZlcnNpb24gJzQuMC4xJwppbmNsdWRlIEZISVJIZWxwZXJzIHZlcnNpb24gJzQuMC4xJwoKcGFyYW1ldGVyICJNZWFzdXJlbWVudCBQZXJpb2QiIEludGVydmFsPERhdGU+CnBhcmFtZXRlciAiY2Fub25pY2FsX2RlbW9ncmFwaGljX21lYXN1cmVfdXJsIiBTdHJpbmcgZGVmYXVsdCAnaHR0cHM6Ly9maGlyLndoby5vcmcvTWVhc3VyZS9kZW1vZ3JhcGhpY0ZvckltbXVuaXphdGlvbicKCnZhbHVlc2V0ICJNZWFzbGVzIFZhY2NpbmVzIjogJ2h0dHA6Ly9maGlyLm9yZy9ndWlkZXMvd2hvL3NtYXJ0LWltbXVuaXphdGlvbi9WYWx1ZVNldC9JTU1aLkExLkRFJwoKLy8gQWdlIGNvZGVzCmNvZGVzeXN0ZW0gIklTTy04NjAxLURlcml2ZWQgUGVyaW9kcyI6ICdodHRwOi8vb2hpZS5vcmcvVmFsdWVTZXQvaXNvLTg2MDEtZGVyaXZlZC1wZXJpb2RzJyAvLyB7ICdQMFktLVAxWScsICdQMVktLVA1WScsIC4uLiB9CmNvZGUgIlAwWS0tUDFZIjogJ1AwWS0tUDFZJyBmcm9tICJJU08tODYwMS1EZXJpdmVkIFBlcmlvZHMiIGRpc3BsYXkgJzwgMSB5ZWFyJwpjb2RlICJQMVktLVAyWSI6ICdQMVktLVAyWScgZnJvbSAiSVNPLTg2MDEtRGVyaXZlZCBQZXJpb2RzIiBkaXNwbGF5ICcxIHllYXInCmNvZGUgIlAyWS0tUDk5OTlZIjogJ1AxWS0tUDk5OTlZJyBmcm9tICJJU08tODYwMS1EZXJpdmVkIFBlcmlvZHMiIGRpc3BsYXkgJzIrIHllYXJzJwoKCi8vIFNleCBjb2Rlcwpjb2Rlc3lzdGVtICJBZG1pbmlzdHJhdGl2ZSBHZW5kZXIgQ29kZXMiOiAnaHR0cDovL2hsNy5vcmcvZmhpci9hZG1pbmlzdHJhdGl2ZS1nZW5kZXInCmNvZGUgIk1hbGVzIiA6ICdtYWxlJyBmcm9tICJBZG1pbmlzdHJhdGl2ZSBHZW5kZXIgQ29kZXMiIGRpc3BsYXkgJ01hbGVzJwpjb2RlICJGZW1hbGVzIiA6ICdmZW1hbGUnIGZyb20gIkFkbWluaXN0cmF0aXZlIEdlbmRlciBDb2RlcyIgZGlzcGxheSAnRmVtYWxlcycKY29kZSAiT3RoZXIiIDogJ290aGVyJyBmcm9tICJBZG1pbmlzdHJhdGl2ZSBHZW5kZXIgQ29kZXMiIGRpc3BsYXkgJ090aGVyL05BJwoKY29udGV4dCBQYXRpZW50CgpkZWZpbmUgZ2V0UGF0aWVudEdlb2dyYXBoaWNTdHI6CglDb2FsZXNjZShGaXJzdChQYXRpZW50LmFkZHJlc3MgQSB3aGVyZSBBLnVzZSBpbiB7ICdob21lJyB9KS5kaXN0cmljdCwgJ25vZGlzdHJpY3QnKQoKZGVmaW5lIGdldFBhdGllbnRHZW9ncmFwaGljTG9jYXRpb246CiAgICBpZiBnZXRQYXRpZW50R2VvZ3JhcGhpY1N0ciBpcyBub3QgbnVsbCBhbmQgZ2V0UGF0aWVudEdlb2dyYXBoaWNTdHIgIT0gJ25vZGlzdHJpY3QnIHRoZW4KICAgICAgRmlyc3QoW0xvY2F0aW9uXSBMIHdoZXJlIEwuaWQgPSBpZCB7IHZhbHVlOiBnZXRQYXRpZW50R2VvZ3JhcGhpY1N0cn0pCiAgICBlbHNlIG51bGwKCi8qCkFsbCBwYXRpZW50IHNob3VsZCBiZSBpbmNsdWRlZCAKKi8KZGVmaW5lIEluaXRpYWxQb3B1bGF0aW9uOgoJdHJ1ZQoKLyoKRGVub21pbmF0b3IgaW5pdGlhdGlvbiBwb3B1bGF0aW9uIGZyb20gcG9wdWxhdGlvbiBtZWFzdXJlIHJlcG9ydCBvbiBkaXN0cmljdCwgCm5lZWRzIGh0dHBzOi8vYnVpbGQuZmhpci5vcmcvaWcvSEw3L2NxZi1tZWFzdXJlcy9TdHJ1Y3R1cmVEZWZpbml0aW9uLWNxZm0tYWdncmVnYXRlTWV0aG9kLmh0bWwgCndpdGggaHR0cHM6Ly90ZXJtaW5vbG9neS5obDcub3JnLzUuMi4wL0NvZGVTeXN0ZW0tbWVhc3VyZS1hZ2dyZWdhdGUtbWV0aG9kLmh0bWwjbWVhc3VyZS1hZ2dyZWdhdGUtbWV0aG9kLW1heGltdW0KKi8KZGVmaW5lIERlbm9taW5hdG9yUG9wdWxhdGlvbjoKCUZpcnN0KAoJCVtNZWFzdXJlUmVwb3J0XSBNUiAKCQl3aGVyZSBNUi5zdWJqZWN0LnJlZmVyZW5jZSA9ICdMb2NhdGlvbi8nICsgZ2V0UGF0aWVudEdlb2dyYXBoaWNTdHIKCQlhbmQgTVIubWVhc3VyZSA9IEZISVIuY2Fub25pY2FsIHt2YWx1ZTpjYW5vbmljYWxfZGVtb2dyYXBoaWNfbWVhc3VyZV91cmx9CgkJYW5kIHN0YXJ0IG9mICJNZWFzdXJlbWVudCBQZXJpb2QiIGluIE1SLnBlcmlvZCApLmdyb3VwLmZpcnN0KCkuc3RyYXRpZmllci5maXJzdCgpLnN0cmF0dW0ud2hlcmUoCgkJCWV4aXN0cyhjb21wb25lbnQud2hlcmUoY29kZS5jb2RpbmcuZmlyc3QoKS5jb2RlIH4gJ3NleCcgYW5kICB2YWx1ZS5jb2RpbmcuZmlyc3QoKS5jb2RlIH4gIkFkbWluaXN0cmF0aXZlIEdlbmRlciBTdHJhdGlmaWVyIi5jb2RlKSkgCgkJCWFuZCBleGlzdHMoY29tcG9uZW50LndoZXJlKGNvZGUuY29kaW5nLmZpcnN0KCkuY29kZSB+ICdBZ2VHcm91cCcgYW5kIHZhbHVlLmNvZGluZy5maXJzdCgpLmNvZGUgfiAiQWdlIEdyb3VwIFN0cmF0aWZpZXIiLmNvZGUpKQoJCSkuZmlyc3QoKS5wb3B1bGF0aW9uLmZpcnN0KCkuY291bnQKCgpkZWZpbmUgZ2V0ZG9zZXM6CglbSW1tdW5pemF0aW9uXSBJIAoJd2hlcmUgSS52YWNjaW5lQ29kZSBpbiAiTWVhc2xlcyBWYWNjaW5lcyIKCXNvcnQgYnkgKG9jY3VycmVuY2UgYXMgRkhJUi5kYXRlVGltZSkudmFsdWUgZGVzYwoKCgpkZWZpbmUgRmlyc3REb3NlOgoJQ291bnQoZ2V0ZG9zZXMpID0gMSBhbmQgZXhpc3RzKGdldGRvc2VzLndoZXJlKFRvRGF0ZShvY2N1cnJlbmNlKSBpbiAiTWVhc3VyZW1lbnQgUGVyaW9kIikpCgoKZGVmaW5lIFNlY29uZERvc2U6CglDb3VudChnZXRkb3NlcykgPSAyIGFuZCBleGlzdHMoZ2V0ZG9zZXMud2hlcmUoVG9EYXRlKG9jY3VycmVuY2UpIGluICJNZWFzdXJlbWVudCBQZXJpb2QiKSkKCgovKioKICogQGRlc2NyaXB0aW9uIFRha2VzIHRoZSBkYXRlIGNob2ljZSBvZiBhIGRhdGUvc3RyaW5nIGNob2ljZSAoZm9yIEltbXVuaXphdGlvbiBkYXRlKQogKi8KZGVmaW5lIGZ1bmN0aW9uIFRvRGF0ZShjaG9pY2UgQ2hvaWNlPEZISVIuZGF0ZSwgRkhJUi5zdHJpbmc+KToKICBjYXNlCgkgIHdoZW4gY2hvaWNlIGlzIEZISVIuZGF0ZSB0aGVuCiAgICAJY2hvaWNlIGFzIEZISVIuZGF0ZQogICAgd2hlbiAgQ29udmVydHNUb0RhdGUoY2hvaWNlKSB0aGVuCiAgICAgIFRvRGF0ZShjaG9pY2UpCgkJZWxzZQogICAgICBNZXNzYWdlKG51bGwgYXMgRkhJUi5kYXRlLCB0cnVlLCAnMScsICdFcnJvcicsICdDYW5ub3QgY29tcHV0ZSBhIGRhdGUgZnJvbSBhIFN0cmluZyB2YWx1ZScpCgllbmQKCi8vIFN0cmF0aWZpZXJzCgovLyBBZ2UgR3JvdXAKZGVmaW5lICJBZ2UgR3JvdXAgU3RyYXRpZmllciI6CiAgY2FzZQogICAgd2hlbiBBZ2VJblllYXJzQXQoc3RhcnQgb2YgIk1lYXN1cmVtZW50IFBlcmlvZCIpIGluIEludGVydmFsWzAsIDEpIHRoZW4gIlAwWS0tUDFZIgogICAgd2hlbiBBZ2VJblllYXJzQXQoc3RhcnQgb2YgIk1lYXN1cmVtZW50IFBlcmlvZCIpIGluIEludGVydmFsWzEsIDIpIHRoZW4gIlAxWS0tUDJZIgogICAgZWxzZSAiUDJZLS1QOTk5OVkiCiAgZW5kCgovLyBTZXgKZGVmaW5lICJTZXgiOiBQYXRpZW50LmdlbmRlcgoKLyoqCiAqIEJ5IEFkbWluaXN0cmF0aXZlIEdlbmRlciBvZiBQYXRpZW50IFN0cmF0aWZpZXIKICovCmRlZmluZSAiQWRtaW5pc3RyYXRpdmUgR2VuZGVyIFN0cmF0aWZpZXIiOgogICAgY2FzZSAKICAgICAgICB3aGVuIFBhdGllbnQuZ2VuZGVyID0gJ21hbGUnIHRoZW4gIk1hbGVzIgogICAgICAgIHdoZW4gUGF0aWVudC5nZW5kZXIgPSAnZmVtYWxlJyB0aGVuICJGZW1hbGVzIgogICAgICAgIGVsc2UgIk90aGVyIgogICAgZW5kCgovKioKICogQnkgQWRtaW5pc3RyYXRpdmUgR2VuZGVyIG9mIFBhdGllbnQgU3RyYXRpZmllcgogKi8KZGVmaW5lICJHZW9ncmFwaGljIFJlZ2lvbiBTdHJhdGlmaWVyIjoKICAgIFN5c3RlbS5Db2RlIHtjb2RlOiBnZXRQYXRpZW50R2VvZ3JhcGhpY1N0cn0KCmRlZmluZSAiUmVnaW9uIC0gU2V4IC0gQWdlIEdyb3VwIFN0cmF0aWZpZXIiOgoJIkdlb2dyYXBoaWMgUmVnaW9uIFN0cmF0aWZpZXIiLmNvZGUgKyAnOicgKyAiQWRtaW5pc3RyYXRpdmUgR2VuZGVyIFN0cmF0aWZpZXIiLmNvZGUgKyAnOicgKyAiQWdlIEdyb3VwIFN0cmF0aWZpZXIiLmNvZGUKCg=="
    }
  ]
}