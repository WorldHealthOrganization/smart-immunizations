<?xml version="1.0" encoding="UTF-8"?>
<library xmlns="urn:hl7-org:elm:r1" xmlns:t="urn:hl7-org:elm-types:r1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:fhir="http://hl7.org/fhir" xmlns:qdm43="urn:healthit-gov:qdm:v4_3" xmlns:qdm53="urn:healthit-gov:qdm:v5_3" xmlns:a="urn:hl7-org:cql-annotations:r1" localId="0">
   <annotation translatorOptions="EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion" signatureLevel="Overloads" xsi:type="a:CqlToElmInfo"/>
   <annotation message="An operand identifier reference is hiding another identifier of the same name." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation message="An operand identifier reference is hiding another identifier of the same name." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation message="An operand identifier reference is hiding another identifier of the same name." errorType="semantic" errorSeverity="warning" xsi:type="a:CqlToElmError"/>
   <annotation xsi:type="a:Annotation">
      <a:s r="411">
         <a:s>/*
  * Library: IMMZD2DTPneumococcalEncounterElements
  */
library IMMZD2DTPneumococcalEncounterElements</a:s>
      </a:s>
   </annotation>
   <identifier id="IMMZD2DTPneumococcalEncounterElements" system="http://smart.who.int/immunizations"/>
   <schemaIdentifier id="urn:hl7-org:elm" version="r1"/>
   <usings>
      <def localId="1" localIdentifier="System" uri="urn:hl7-org:elm-types:r1"/>
      <def localId="206" locator="7:1-7:26" localIdentifier="FHIR" uri="http://hl7.org/fhir" version="4.0.1">
         <annotation xsi:type="a:Annotation">
            <a:s r="206">
               <a:s>using </a:s>
               <a:s>
                  <a:s>FHIR</a:s>
               </a:s>
               <a:s> version '4.0.1'</a:s>
            </a:s>
         </annotation>
      </def>
   </usings>
   <includes>
      <def localId="208" locator="8:1-8:35" localIdentifier="FHIRHelpers" path="http://hl7.org/fhir/FHIRHelpers" version="4.0.1">
         <annotation xsi:type="a:Annotation">
            <a:s r="208">
               <a:s>include </a:s>
               <a:s>
                  <a:s>FHIRHelpers</a:s>
               </a:s>
               <a:s> version '4.0.1'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="210" locator="10:1-10:19" localIdentifier="WHOConcepts" path="http://smart.who.int/immunizations/WHOConcepts">
         <annotation xsi:type="a:Annotation">
            <a:s r="210">
               <a:s>include </a:s>
               <a:s>
                  <a:s>WHOConcepts</a:s>
               </a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="212" locator="11:1-11:27" localIdentifier="WC" path="http://smart.who.int/immunizations/WHOCommon">
         <annotation xsi:type="a:Annotation">
            <a:s r="212">
               <a:s>include </a:s>
               <a:s>
                  <a:s>WHOCommon</a:s>
               </a:s>
               <a:s> called WC</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="214" locator="12:1-12:29" localIdentifier="WE" path="http://smart.who.int/immunizations/WHOElements">
         <annotation xsi:type="a:Annotation">
            <a:s r="214">
               <a:s>include </a:s>
               <a:s>
                  <a:s>WHOElements</a:s>
               </a:s>
               <a:s> called WE</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="216" locator="14:1-14:32" localIdentifier="Common" path="http://smart.who.int/immunizations/IMMZCommon">
         <annotation xsi:type="a:Annotation">
            <a:s r="216">
               <a:s>include </a:s>
               <a:s>
                  <a:s>IMMZCommon</a:s>
               </a:s>
               <a:s> called Common</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="218" locator="15:1-15:36" localIdentifier="Concepts" path="http://smart.who.int/immunizations/IMMZConcepts">
         <annotation xsi:type="a:Annotation">
            <a:s r="218">
               <a:s>include </a:s>
               <a:s>
                  <a:s>IMMZConcepts</a:s>
               </a:s>
               <a:s> called Concepts</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="220" locator="16:1-16:46" localIdentifier="Encounter" path="http://smart.who.int/immunizations/IMMZEncounterElements">
         <annotation xsi:type="a:Annotation">
            <a:s r="220">
               <a:s>include </a:s>
               <a:s>
                  <a:s>IMMZEncounterElements</a:s>
               </a:s>
               <a:s> called Encounter</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="222" locator="18:1-18:64" localIdentifier="PneumococcalElements" path="http://smart.who.int/immunizations/IMMZD2DTPneumococcalElements">
         <annotation xsi:type="a:Annotation">
            <a:s r="222">
               <a:s>include </a:s>
               <a:s>
                  <a:s>IMMZD2DTPneumococcalElements</a:s>
               </a:s>
               <a:s> called PneumococcalElements</a:s>
            </a:s>
         </annotation>
      </def>
   </includes>
   <parameters>
      <def localId="224" locator="20:1-20:36" name="Today" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="224">
               <a:s>parameter Today </a:s>
               <a:s r="228">
                  <a:s>Date</a:s>
               </a:s>
               <a:s> default </a:s>
               <a:s r="227">
                  <a:s>Today()</a:s>
               </a:s>
            </a:s>
         </annotation>
         <default localId="227" locator="20:30-20:36" xsi:type="Today"/>
         <parameterTypeSpecifier localId="228" locator="20:17-20:20" name="t:Date" xsi:type="NamedTypeSpecifier"/>
      </def>
      <def localId="230" locator="21:1-21:28" name="EncounterId" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="230">
               <a:s>parameter EncounterId </a:s>
               <a:s r="231">
                  <a:s>String</a:s>
               </a:s>
            </a:s>
         </annotation>
         <parameterTypeSpecifier localId="231" locator="21:23-21:28" name="t:String" xsi:type="NamedTypeSpecifier"/>
      </def>
   </parameters>
   <contexts>
      <def localId="236" locator="23:1-23:15" name="Patient"/>
   </contexts>
   <statements>
      <def localId="234" locator="23:1-23:15" name="Patient" context="Patient">
         <expression localId="235" xsi:type="SingletonFrom">
            <operand localId="233" locator="23:1-23:15" dataType="fhir:Patient" templateId="http://hl7.org/fhir/StructureDefinition/Patient" xsi:type="Retrieve"/>
         </expression>
      </def>
      <def localId="239" locator="28:1-31:53" name="Pneumococcal Doses Administered to Patient" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="internal" value="Pneumococcal containing Doses Administered to Patient"/>
            <a:s r="239">
               <a:s>/*
@internal: Pneumococcal containing Doses Administered to Patient
*/
define &quot;Pneumococcal Doses Administered to Patient&quot;:
  </a:s>
               <a:s r="251">
                  <a:s>
                     <a:s r="240">
                        <a:s r="242">
                           <a:s>
                              <a:s>Encounter.&quot;Doses Administered to Patient&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s> I</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
  </a:s>
                  <a:s r="248">
                     <a:s>where
    </a:s>
                     <a:s r="248">
                        <a:s r="245">
                           <a:s r="244">
                              <a:s>I</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="245">
                              <a:s>vaccineCode</a:s>
                           </a:s>
                        </a:s>
                        <a:s> in </a:s>
                        <a:s r="247">
                           <a:s r="246">
                              <a:s>Concepts</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="247">
                              <a:s>&quot;Pneumococcal vaccines&quot;</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="251" locator="29:3-31:53" xsi:type="Query">
            <source localId="240" locator="29:3-29:45" alias="I">
               <expression localId="242" locator="29:3-29:43" name="Doses Administered to Patient" libraryName="Encounter" xsi:type="ExpressionRef"/>
            </source>
            <where localId="248" locator="30:3-31:53" xsi:type="InValueSet">
               <signature localId="250" name="t:Concept" xsi:type="NamedTypeSpecifier"/>
               <code localId="249" name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                  <operand localId="245" locator="31:5-31:17" path="vaccineCode" scope="I" xsi:type="Property"/>
               </code>
               <valueset localId="247" locator="31:22-31:53" name="Pneumococcal vaccines" libraryName="Concepts" preserve="true"/>
            </where>
         </expression>
      </def>
      <def localId="254" locator="36:1-37:62" name="Pneumococcal Primary Series Doses Administered to Patient" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="internal" value="Pneumococcal containing Doses Administered to Patient that are in the Primary series"/>
            <a:s r="254">
               <a:s>/*
@internal: Pneumococcal containing Doses Administered to Patient that are in the Primary series
*/
define &quot;Pneumococcal Primary Series Doses Administered to Patient&quot;:
  </a:s>
               <a:s r="256">
                  <a:s r="255">
                     <a:s>&quot;Pneumococcal Doses Administered to Patient&quot;</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="256">
                     <a:s>seriesPrimary()</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="256" locator="37:3-37:62" name="seriesPrimary" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="255" locator="37:3-37:46" name="Pneumococcal Doses Administered to Patient" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="259" locator="42:1-43:68" name="Number of Pneumococcal Primary Series Doses Administered" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="internal" value="Number of Pneumococcal Primary Series doses"/>
            <a:s r="259">
               <a:s>/*
@internal: Number of Pneumococcal Primary Series doses
*/
define &quot;Number of Pneumococcal Primary Series Doses Administered&quot;:
  </a:s>
               <a:s r="263">
                  <a:s>Count(</a:s>
                  <a:s r="260">
                     <a:s>&quot;Pneumococcal Primary Series Doses Administered to Patient&quot;</a:s>
                  </a:s>
                  <a:s>)</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="263" locator="43:3-43:68" xsi:type="Count">
            <source localId="260" locator="43:9-43:67" name="Pneumococcal Primary Series Doses Administered to Patient" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="266" locator="52:1-53:46" name="The client's age is less than 6 weeks" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="The client's age is less than 6 weeks"/>
            <a:t name="pseudocode" value="&quot;Date of birth&quot; &lt; 6 weeks"/>
            <a:t name="code" value="The client's age is less than 6 weeks-40"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)"/>
            <a:s r="266">
               <a:s>/*
@input: The client's age is less than 6 weeks
@pseudocode: Today's date − &quot;Date of birth&quot; &lt; 6 weeks
@code: The client's age is less than 6 weeks-40
@decision: IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)
@decision: IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)
*/
define &quot;The client's age is less than 6 weeks&quot;:
  </a:s>
               <a:s r="267">
                  <a:s r="269">
                     <a:s r="268">
                        <a:s>Encounter</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="269">
                        <a:s>&quot;Current Patient Age In Weeks&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s r="270"> &lt; 6</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="267" locator="53:3-53:46" xsi:type="Less">
            <signature localId="271" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <signature localId="272" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <operand localId="269" locator="53:3-53:42" name="Current Patient Age In Weeks" libraryName="Encounter" xsi:type="ExpressionRef"/>
            <operand localId="270" locator="53:46" valueType="t:Integer" value="6" xsi:type="Literal"/>
         </expression>
      </def>
      <def localId="275" locator="62:1-63:64" name="No pneumococcal primary series doses were administered" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="No pneumococcal primary series doses were administered"/>
            <a:t name="pseudocode" value="&quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot; and &quot;Type of dose&quot; = &quot;Primary series&quot;) = 0"/>
            <a:t name="code" value="No pneumococcal primary series doses were administered-121"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)"/>
            <a:s r="275">
               <a:s>/*
@input: No pneumococcal primary series doses were administered
@pseudocode: Count of vaccines administered (where &quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot; and &quot;Type of dose&quot; = &quot;Primary series&quot;) = 0
@code: No pneumococcal primary series doses were administered-121
@decision: IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)
@decision: IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)
*/
define &quot;No pneumococcal primary series doses were administered&quot;:
  </a:s>
               <a:s r="276">
                  <a:s r="277">
                     <a:s>&quot;Number of Pneumococcal Primary Series Doses Administered&quot;</a:s>
                  </a:s>
                  <a:s r="278"> = 0</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="276" locator="63:3-63:64" xsi:type="Equal">
            <signature localId="279" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <signature localId="280" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <operand localId="277" locator="63:3-63:60" name="Number of Pneumococcal Primary Series Doses Administered" xsi:type="ExpressionRef"/>
            <operand localId="278" locator="63:64" valueType="t:Integer" value="0" xsi:type="Literal"/>
         </expression>
      </def>
      <def localId="283" locator="72:1-74:51" name="The client's age is between 6 weeks and 5 years" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="The client's age is between 6 weeks and 5 years"/>
            <a:t name="pseudocode" value="&quot;Date of birth&quot; ≤ 5 years"/>
            <a:t name="code" value="The client's age is between 6 weeks and 5 years-50"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)"/>
            <a:s r="283">
               <a:s>/*
@input: The client's age is between 6 weeks and 5 years
@pseudocode: 6 weeks ≤ Today's date − &quot;Date of birth&quot; ≤ 5 years
@code: The client's age is between 6 weeks and 5 years-50
@decision: IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)
@decision: IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)
*/
define &quot;The client's age is between 6 weeks and 5 years&quot;:
  </a:s>
               <a:s r="284">
                  <a:s r="285">
                     <a:s r="286">6 &lt;= </a:s>
                     <a:s r="288">
                        <a:s r="287">
                           <a:s>Encounter</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="288">
                           <a:s>&quot;Current Patient Age In Weeks&quot;</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
  and </a:s>
                  <a:s r="291">
                     <a:s r="293">
                        <a:s r="292">
                           <a:s>Encounter</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="293">
                           <a:s>&quot;Current Patient Age In Years&quot;</a:s>
                        </a:s>
                     </a:s>
                     <a:s r="294"> &lt;= 5</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="284" locator="73:3-74:51" xsi:type="And">
            <operand localId="285" locator="73:3-73:47" xsi:type="LessOrEqual">
               <signature localId="289" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
               <signature localId="290" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
               <operand localId="286" locator="73:3" valueType="t:Integer" value="6" xsi:type="Literal"/>
               <operand localId="288" locator="73:8-73:47" name="Current Patient Age In Weeks" libraryName="Encounter" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="291" locator="74:7-74:51" xsi:type="LessOrEqual">
               <signature localId="295" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
               <signature localId="296" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
               <operand localId="293" locator="74:7-74:46" name="Current Patient Age In Years" libraryName="Encounter" xsi:type="ExpressionRef"/>
               <operand localId="294" locator="74:51" valueType="t:Integer" value="5" xsi:type="Literal"/>
            </operand>
         </expression>
      </def>
      <def localId="299" locator="83:1-84:64" name="One pneumococcal primary series dose was administered" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="One pneumococcal primary series dose was administered"/>
            <a:t name="pseudocode" value="&quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot; and &quot;Type of dose&quot; = &quot;Primary series&quot;) = 1"/>
            <a:t name="code" value="One pneumococcal primary series dose was administered-121"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)"/>
            <a:s r="299">
               <a:s>/*
@input: One pneumococcal primary series dose was administered
@pseudocode: Count of vaccines administered (where &quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot; and &quot;Type of dose&quot; = &quot;Primary series&quot;) = 1
@code: One pneumococcal primary series dose was administered-121
@decision: IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)
@decision: IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)
*/
define &quot;One pneumococcal primary series dose was administered&quot;:
  </a:s>
               <a:s r="300">
                  <a:s r="301">
                     <a:s>&quot;Number of Pneumococcal Primary Series Doses Administered&quot;</a:s>
                  </a:s>
                  <a:s r="302"> = 1</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="300" locator="84:3-84:64" xsi:type="Equal">
            <signature localId="303" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <signature localId="304" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <operand localId="301" locator="84:3-84:60" name="Number of Pneumococcal Primary Series Doses Administered" xsi:type="ExpressionRef"/>
            <operand localId="302" locator="84:64" valueType="t:Integer" value="1" xsi:type="Literal"/>
         </expression>
      </def>
      <def localId="307" locator="92:1-93:47" name="The client's age is less than or equal to 5 years" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="The client's age is less than or equal to 5 years"/>
            <a:t name="pseudocode" value="&quot;Date of birth&quot; ≤ 5 years"/>
            <a:t name="code" value="The client's age is less than or equal to 5 years-41"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)"/>
            <a:s r="307">
               <a:s>/*
@input: The client's age is less than or equal to 5 years
@pseudocode: 'Today's date − &quot;Date of birth&quot; ≤ 5 years
@code: The client's age is less than or equal to 5 years-41
@decision: IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)
*/
define &quot;The client's age is less than or equal to 5 years&quot;:
  </a:s>
               <a:s r="308">
                  <a:s r="310">
                     <a:s r="309">
                        <a:s>Encounter</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="310">
                        <a:s>&quot;Current Patient Age In Years&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s r="311"> &lt;= 5</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="308" locator="93:3-93:47" xsi:type="LessOrEqual">
            <signature localId="312" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <signature localId="313" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <operand localId="310" locator="93:3-93:42" name="Current Patient Age In Years" libraryName="Encounter" xsi:type="ExpressionRef"/>
            <operand localId="311" locator="93:47" valueType="t:Integer" value="5" xsi:type="Literal"/>
         </expression>
      </def>
      <def localId="320" locator="372:1-373:100" name="Date of First Pneumococcal Dose" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="internal" value="Date of First Pneumococcal Dose"/>
            <a:s r="320">
               <a:s>/*
@internal: Date of First Pneumococcal Dose
*/
define &quot;Date of First Pneumococcal Dose&quot;:
  </a:s>
               <a:s r="321">
                  <a:s>date from </a:s>
                  <a:s r="322">
                     <a:s>start of </a:s>
                     <a:s r="328">
                        <a:s r="327">
                           <a:s r="324">
                              <a:s r="323">
                                 <a:s>&quot;Pneumococcal Doses Administered to Patient&quot;</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="324">
                                 <a:s>earliest()</a:s>
                              </a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="327">
                              <a:s>occurrence</a:s>
                           </a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="328">
                           <a:s>toInterval()</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="321" locator="373:3-373:100" xsi:type="DateFrom">
            <operand localId="322" locator="373:13-373:100" xsi:type="Start">
               <operand localId="328" locator="373:22-373:100" name="toInterval" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="327" locator="373:22-373:87" path="occurrence" xsi:type="Property">
                     <source localId="324" locator="373:22-373:76" name="earliest" libraryName="WC" xsi:type="FunctionRef">
                        <signature localId="325" xsi:type="ListTypeSpecifier">
                           <elementType localId="326" name="fhir:Immunization" xsi:type="NamedTypeSpecifier"/>
                        </signature>
                        <operand localId="323" locator="373:22-373:65" name="Pneumococcal Doses Administered to Patient" xsi:type="ExpressionRef"/>
                     </source>
                  </operand>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="316" locator="101:1-102:55" name="The first pneumococcal dose was administered within 24 months post birth" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="The first pneumococcal dose was administered within 24 months post birth"/>
            <a:t name="pseudocode" value="&quot;Date and time of vaccination&quot; (where &quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot;) − &quot;Date of birth&quot; &lt; 24 months"/>
            <a:t name="code" value="The first pneumococcal dose was administered within 24 months post birth-109"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)"/>
            <a:s r="316">
               <a:s>/*
@input: The first pneumococcal dose was administered within 24 months post birth
@pseudocode: &quot;Date and time of vaccination&quot; (where &quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot;) − &quot;Date of birth&quot; &lt; 24 months
@code: The first pneumococcal dose was administered within 24 months post birth-109
@decision: IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)
*/
define &quot;The first pneumococcal dose was administered within 24 months post birth&quot;:
  </a:s>
               <a:s r="317">
                  <a:s r="334">
                     <a:s>AgeInMonthsAt(</a:s>
                     <a:s r="329">
                        <a:s>&quot;Date of First Pneumococcal Dose&quot;</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
                  <a:s r="337"> &lt; 24</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="317" locator="102:3-102:55" xsi:type="Less">
            <signature localId="338" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <signature localId="339" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <operand localId="334" locator="102:3-102:50" precision="Month" xsi:type="CalculateAgeAt">
               <signature localId="335" name="t:Date" xsi:type="NamedTypeSpecifier"/>
               <signature localId="336" name="t:Date" xsi:type="NamedTypeSpecifier"/>
               <operand localId="333" path="birthDate.value" xsi:type="Property">
                  <source localId="332" name="Patient" xsi:type="ExpressionRef"/>
               </operand>
               <operand localId="329" locator="102:17-102:49" name="Date of First Pneumococcal Dose" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="337" locator="102:54-102:55" valueType="t:Integer" value="24" xsi:type="Literal"/>
         </expression>
      </def>
      <def localId="346" locator="378:1-379:102" name="Date of Latest Pneumococcal Dose" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="internal" value="Date of Latest Pneumococcal Dose"/>
            <a:s r="346">
               <a:s>/*
@internal: Date of Latest Pneumococcal Dose
*/
define &quot;Date of Latest Pneumococcal Dose&quot;:
  </a:s>
               <a:s r="347">
                  <a:s>date from </a:s>
                  <a:s r="348">
                     <a:s>start of </a:s>
                     <a:s r="354">
                        <a:s r="353">
                           <a:s r="350">
                              <a:s r="349">
                                 <a:s>&quot;Pneumococcal Doses Administered to Patient&quot;</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="350">
                                 <a:s>mostRecent()</a:s>
                              </a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="353">
                              <a:s>occurrence</a:s>
                           </a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="354">
                           <a:s>toInterval()</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="347" locator="379:3-379:102" xsi:type="DateFrom">
            <operand localId="348" locator="379:13-379:102" xsi:type="Start">
               <operand localId="354" locator="379:22-379:102" name="toInterval" libraryName="WC" xsi:type="FunctionRef">
                  <operand localId="353" locator="379:22-379:89" path="occurrence" xsi:type="Property">
                     <source localId="350" locator="379:22-379:78" name="mostRecent" libraryName="WC" xsi:type="FunctionRef">
                        <signature localId="351" xsi:type="ListTypeSpecifier">
                           <elementType localId="352" name="fhir:Immunization" xsi:type="NamedTypeSpecifier"/>
                        </signature>
                        <operand localId="349" locator="379:22-379:65" name="Pneumococcal Doses Administered to Patient" xsi:type="ExpressionRef"/>
                     </source>
                  </operand>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="342" locator="111:1-113:82" name="The latest pneumococcal dose was administered less than 8 weeks ago" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="The latest pneumococcal dose was administered less than 8 weeks ago"/>
            <a:t name="pseudocode" value="&quot;Date and time of vaccination&quot; (where &quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot;) &lt; 8 weeks"/>
            <a:t name="code" value="The latest pneumococcal dose was administered less than 8 weeks ago-104"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)"/>
            <a:s r="342">
               <a:s>/*
@input: The latest pneumococcal dose was administered less than 8 weeks ago
@pseudocode: Today's date − &quot;Date and time of vaccination&quot; (where &quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot;) &lt; 8 weeks
@code: The latest pneumococcal dose was administered less than 8 weeks ago-104
@decision: IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)
@decision: IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)
*/
define &quot;The latest pneumococcal dose was administered less than 8 weeks ago&quot;:
  </a:s>
               <a:s r="343">
                  <a:s r="357">
                     <a:s r="355">
                        <a:s>&quot;Date of Latest Pneumococcal Dose&quot;</a:s>
                     </a:s>
                     <a:s> is not null</a:s>
                  </a:s>
                  <a:s>
    and </a:s>
                  <a:s r="358">
                     <a:s r="359">
                        <a:s>duration in weeks between </a:s>
                        <a:s r="360">
                           <a:s>&quot;Date of Latest Pneumococcal Dose&quot;</a:s>
                        </a:s>
                        <a:s> and </a:s>
                        <a:s r="361">
                           <a:s>Today</a:s>
                        </a:s>
                     </a:s>
                     <a:s r="364"> &lt; 8</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="343" locator="112:3-113:82" xsi:type="And">
            <operand localId="357" locator="112:3-112:48" xsi:type="Not">
               <operand localId="356" locator="112:3-112:48" xsi:type="IsNull">
                  <operand localId="355" locator="112:3-112:36" name="Date of Latest Pneumococcal Dose" xsi:type="ExpressionRef"/>
               </operand>
            </operand>
            <operand localId="358" locator="113:9-113:82" xsi:type="Less">
               <signature localId="365" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
               <signature localId="366" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
               <operand localId="359" locator="113:9-113:78" precision="Week" xsi:type="DurationBetween">
                  <signature localId="362" name="t:Date" xsi:type="NamedTypeSpecifier"/>
                  <signature localId="363" name="t:Date" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="360" locator="113:35-113:68" name="Date of Latest Pneumococcal Dose" xsi:type="ExpressionRef"/>
                  <operand localId="361" locator="113:74-113:78" name="Today" xsi:type="ParameterRef"/>
               </operand>
               <operand localId="364" locator="113:82" valueType="t:Integer" value="8" xsi:type="Literal"/>
            </operand>
         </expression>
      </def>
      <def localId="369" locator="122:1-123:75" name="The latest pneumococcal dose was administered more than 8 weeks ago" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="The latest pneumococcal dose was administered more than 8 weeks ago"/>
            <a:t name="pseudocode" value="&quot;Date and time of vaccination&quot; (where &quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot;) ≥ 8 weeks"/>
            <a:t name="code" value="The latest pneumococcal dose was administered more than 8 weeks ago-104"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)"/>
            <a:s r="369">
               <a:s>/*
@input: The latest pneumococcal dose was administered more than 8 weeks ago
@pseudocode: Today's date − &quot;Date and time of vaccination&quot; (where &quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot;) ≥ 8 weeks
@code: The latest pneumococcal dose was administered more than 8 weeks ago-104
@decision: IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)
@decision: IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)
*/
define &quot;The latest pneumococcal dose was administered more than 8 weeks ago&quot;:
  </a:s>
               <a:s r="370">
                  <a:s>not </a:s>
                  <a:s r="371">
                     <a:s>&quot;The latest pneumococcal dose was administered less than 8 weeks ago&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="370" locator="123:3-123:75" xsi:type="Not">
            <operand localId="371" locator="123:7-123:75" name="The latest pneumococcal dose was administered less than 8 weeks ago" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="374" locator="132:1-133:56" name="The first pneumococcal dose was administered after 24 months post birth" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="The first pneumococcal dose was administered after 24 months post birth"/>
            <a:t name="pseudocode" value="&quot;Date and time of vaccination&quot; (where &quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot;) − &quot;Date of birth&quot; ≥ 24 months"/>
            <a:t name="code" value="The first pneumococcal dose was administered after 24 months post birth-109"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)"/>
            <a:s r="374">
               <a:s>/*
@input: The first pneumococcal dose was administered after 24 months post birth
@pseudocode: &quot;Date and time of vaccination&quot; (where &quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot;) − &quot;Date of birth&quot; ≥ 24 months
@code: The first pneumococcal dose was administered after 24 months post birth-109
@decision: IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)
@decision: IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)
*/
define &quot;The first pneumococcal dose was administered after 24 months post birth&quot;:
  </a:s>
               <a:s r="375">
                  <a:s r="381">
                     <a:s>AgeInMonthsAt(</a:s>
                     <a:s r="376">
                        <a:s>&quot;Date of First Pneumococcal Dose&quot;</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
                  <a:s r="384"> >= 24</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="375" locator="133:3-133:56" xsi:type="GreaterOrEqual">
            <signature localId="385" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <signature localId="386" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <operand localId="381" locator="133:3-133:50" precision="Month" xsi:type="CalculateAgeAt">
               <signature localId="382" name="t:Date" xsi:type="NamedTypeSpecifier"/>
               <signature localId="383" name="t:Date" xsi:type="NamedTypeSpecifier"/>
               <operand localId="380" path="birthDate.value" xsi:type="Property">
                  <source localId="379" name="Patient" xsi:type="ExpressionRef"/>
               </operand>
               <operand localId="376" locator="133:17-133:49" name="Date of First Pneumococcal Dose" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="384" locator="133:55-133:56" valueType="t:Integer" value="24" xsi:type="Literal"/>
         </expression>
      </def>
      <def localId="389" locator="142:1-143:63" name="Client is at high risk for pneumococcal infection" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="Client is at high risk for pneumococcal infection"/>
            <a:t name="pseudocode" value="&quot;At high risk for pneumococcal infection&quot; = TRUE"/>
            <a:t name="code" value="Client is at high risk for pneumococcal infection-48"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)"/>
            <a:s r="389">
               <a:s>/*
@input: Client is at high risk for pneumococcal infection
@pseudocode: &quot;At high risk for pneumococcal infection&quot; = TRUE
@code: Client is at high risk for pneumococcal infection-48
@decision: IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)
@decision: IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)
*/
define &quot;Client is at high risk for pneumococcal infection&quot;:
  </a:s>
               <a:s r="391">
                  <a:s r="390">
                     <a:s>Encounter</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="391">
                     <a:s>&quot;Client is at high risk for pneumococcal infection&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="391" locator="143:3-143:63" name="Client is at high risk for pneumococcal infection" libraryName="Encounter" xsi:type="ExpressionRef"/>
      </def>
      <def localId="394" locator="152:1-153:67" name="Client is not at high risk for pneumococcal infection" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="Client is not at high risk for pneumococcal infection"/>
            <a:t name="pseudocode" value="&quot;At high risk for pneumococcal infection&quot; = FALSE"/>
            <a:t name="code" value="Client is not at high risk for pneumococcal infection-49"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)"/>
            <a:s r="394">
               <a:s>/*
@input: Client is not at high risk for pneumococcal infection
@pseudocode: &quot;At high risk for pneumococcal infection&quot; = FALSE
@code: Client is not at high risk for pneumococcal infection-49
@decision: IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)
@decision: IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)
*/
define &quot;Client is not at high risk for pneumococcal infection&quot;:
  </a:s>
               <a:s r="396">
                  <a:s r="395">
                     <a:s>Encounter</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="396">
                     <a:s>&quot;Client is not at high risk for pneumococcal infection&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="396" locator="153:3-153:67" name="Client is not at high risk for pneumococcal infection" libraryName="Encounter" xsi:type="ExpressionRef"/>
      </def>
      <def localId="399" locator="162:1-163:64" name="Two pneumococcal primary series doses were administered" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="Two pneumococcal primary series doses were administered"/>
            <a:t name="pseudocode" value="&quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot; and &quot;Type of dose&quot; = &quot;Primary series&quot;) = 2"/>
            <a:t name="code" value="Two pneumococcal primary series doses were administered-121"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)"/>
            <a:s r="399">
               <a:s>/*
@input: Two pneumococcal primary series doses were administered
@pseudocode: Count of vaccines administered (where &quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot; and &quot;Type of dose&quot; = &quot;Primary series&quot;) = 2
@code: Two pneumococcal primary series doses were administered-121
@decision: IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)
@decision: IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)
*/
define &quot;Two pneumococcal primary series doses were administered&quot;:
  </a:s>
               <a:s r="400">
                  <a:s r="401">
                     <a:s>&quot;Number of Pneumococcal Primary Series Doses Administered&quot;</a:s>
                  </a:s>
                  <a:s r="402"> = 2</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="400" locator="163:3-163:64" xsi:type="Equal">
            <signature localId="403" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <signature localId="404" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <operand localId="401" locator="163:3-163:60" name="Number of Pneumococcal Primary Series Doses Administered" xsi:type="ExpressionRef"/>
            <operand localId="402" locator="163:64" valueType="t:Integer" value="2" xsi:type="Literal"/>
         </expression>
      </def>
      <def localId="414" locator="384:1-385:62" name="Pneumococcal Booster Series Doses Administered to Patient" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="internal" value="Pneumococcal Booster Series Doses Administered to Patient"/>
            <a:s r="414">
               <a:s>/*
@internal: Pneumococcal Booster Series Doses Administered to Patient
*/
define &quot;Pneumococcal Booster Series Doses Administered to Patient&quot;:
  </a:s>
               <a:s r="416">
                  <a:s r="415">
                     <a:s>&quot;Pneumococcal Doses Administered to Patient&quot;</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="416">
                     <a:s>seriesBooster()</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="416" locator="385:3-385:62" name="seriesBooster" libraryName="Common" xsi:type="FunctionRef">
            <operand localId="415" locator="385:3-385:46" name="Pneumococcal Doses Administered to Patient" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="411" locator="390:1-391:68" name="Number of Pneumococcal Booster Series Doses Administered" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="internal" value="Number of Pneumococcal Booster Series Doses Administered"/>
            <a:s r="411">
               <a:s>/*
@internal: Number of Pneumococcal Booster Series Doses Administered
*/
define &quot;Number of Pneumococcal Booster Series Doses Administered&quot;:
  </a:s>
               <a:s r="420">
                  <a:s>Count(</a:s>
                  <a:s r="417">
                     <a:s>&quot;Pneumococcal Booster Series Doses Administered to Patient&quot;</a:s>
                  </a:s>
                  <a:s>)</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="420" locator="391:3-391:68" xsi:type="Count">
            <source localId="417" locator="391:9-391:67" name="Pneumococcal Booster Series Doses Administered to Patient" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="407" locator="172:1-173:64" name="No pneumococcal booster dose was administered" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="No pneumococcal booster dose was administered"/>
            <a:t name="pseudocode" value="&quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot; and &quot;Type of dose&quot; = &quot;Booster dose&quot;) = 0"/>
            <a:t name="code" value="No pneumococcal booster dose was administered-119"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)"/>
            <a:s r="407">
               <a:s>/*
@input: No pneumococcal booster dose was administered
@pseudocode: Count of vaccines administered (where &quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot; and &quot;Type of dose&quot; = &quot;Booster dose&quot;) = 0
@code: No pneumococcal booster dose was administered-119
@decision: IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)
@decision: IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)
*/
define &quot;No pneumococcal booster dose was administered&quot;:
  </a:s>
               <a:s r="408">
                  <a:s r="421">
                     <a:s>&quot;Number of Pneumococcal Booster Series Doses Administered&quot;</a:s>
                  </a:s>
                  <a:s r="422"> = 0</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="408" locator="173:3-173:64" xsi:type="Equal">
            <signature localId="423" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <signature localId="424" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <operand localId="421" locator="173:3-173:60" name="Number of Pneumococcal Booster Series Doses Administered" xsi:type="ExpressionRef"/>
            <operand localId="422" locator="173:64" valueType="t:Integer" value="0" xsi:type="Literal"/>
         </expression>
      </def>
      <def localId="427" locator="182:1-183:55" name="The first pneumococcal dose was administered within 12 months post birth" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="The first pneumococcal dose was administered within 12 months post birth"/>
            <a:t name="pseudocode" value="&quot;Date and time of vaccination&quot; (where &quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot; AND &quot;Dose number&quot; = 1) − &quot;Date of birth&quot; &lt; 12 months"/>
            <a:t name="code" value="The first pneumococcal dose was administered within 12 months post birth-131"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)"/>
            <a:s r="427">
               <a:s>/*
@input: The first pneumococcal dose was administered within 12 months post birth
@pseudocode: &quot;Date and time of vaccination&quot; (where &quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot; AND &quot;Dose number&quot; = 1) − &quot;Date of birth&quot; &lt; 12 months
@code: The first pneumococcal dose was administered within 12 months post birth-131
@decision: IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)
@decision: IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)
*/
define &quot;The first pneumococcal dose was administered within 12 months post birth&quot;:
  </a:s>
               <a:s r="428">
                  <a:s r="434">
                     <a:s>AgeInMonthsAt(</a:s>
                     <a:s r="429">
                        <a:s>&quot;Date of First Pneumococcal Dose&quot;</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
                  <a:s r="437"> &lt; 12</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="428" locator="183:3-183:55" xsi:type="Less">
            <signature localId="438" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <signature localId="439" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <operand localId="434" locator="183:3-183:50" precision="Month" xsi:type="CalculateAgeAt">
               <signature localId="435" name="t:Date" xsi:type="NamedTypeSpecifier"/>
               <signature localId="436" name="t:Date" xsi:type="NamedTypeSpecifier"/>
               <operand localId="433" path="birthDate.value" xsi:type="Property">
                  <source localId="432" name="Patient" xsi:type="ExpressionRef"/>
               </operand>
               <operand localId="429" locator="183:17-183:49" name="Date of First Pneumococcal Dose" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="437" locator="183:54-183:55" valueType="t:Integer" value="12" xsi:type="Literal"/>
         </expression>
      </def>
      <def localId="442" locator="192:1-193:56" name="The first pneumococcal dose was administered after 12 months post birth" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="The first pneumococcal dose was administered after 12 months post birth"/>
            <a:t name="pseudocode" value="&quot;Date and time of vaccination&quot; (where &quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot; AND &quot;Dose number&quot; = 1) − &quot;Date of birth&quot; ≥ 12 months"/>
            <a:t name="code" value="The first pneumococcal dose was administered after 12 months post birth-131"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)"/>
            <a:s r="442">
               <a:s>/*
@input: The first pneumococcal dose was administered after 12 months post birth
@pseudocode: &quot;Date and time of vaccination&quot; (where &quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot; AND &quot;Dose number&quot; = 1) − &quot;Date of birth&quot; ≥ 12 months
@code: The first pneumococcal dose was administered after 12 months post birth-131
@decision: IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)
@decision: IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)
*/
define &quot;The first pneumococcal dose was administered after 12 months post birth&quot;:
  </a:s>
               <a:s r="443">
                  <a:s r="449">
                     <a:s>AgeInMonthsAt(</a:s>
                     <a:s r="444">
                        <a:s>&quot;Date of First Pneumococcal Dose&quot;</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
                  <a:s r="452"> >= 12</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="443" locator="193:3-193:56" xsi:type="GreaterOrEqual">
            <signature localId="453" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <signature localId="454" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <operand localId="449" locator="193:3-193:50" precision="Month" xsi:type="CalculateAgeAt">
               <signature localId="450" name="t:Date" xsi:type="NamedTypeSpecifier"/>
               <signature localId="451" name="t:Date" xsi:type="NamedTypeSpecifier"/>
               <operand localId="448" path="birthDate.value" xsi:type="Property">
                  <source localId="447" name="Patient" xsi:type="ExpressionRef"/>
               </operand>
               <operand localId="444" locator="193:17-193:49" name="Date of First Pneumococcal Dose" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="452" locator="193:55-193:56" valueType="t:Integer" value="12" xsi:type="Literal"/>
         </expression>
      </def>
      <def localId="457" locator="202:1-203:64" name="One pneumococcal booster dose was administered" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="One pneumococcal booster dose was administered"/>
            <a:t name="pseudocode" value="&quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot; and &quot;Type of dose&quot; = &quot;Booster dose&quot;) = 1"/>
            <a:t name="code" value="One pneumococcal booster dose was administered-119"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)"/>
            <a:s r="457">
               <a:s>/*
@input: One pneumococcal booster dose was administered
@pseudocode: Count of vaccines administered (where &quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot; and &quot;Type of dose&quot; = &quot;Booster dose&quot;) = 1
@code: One pneumococcal booster dose was administered-119
@decision: IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)
@decision: IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)
*/
define &quot;One pneumococcal booster dose was administered&quot;:
  </a:s>
               <a:s r="458">
                  <a:s r="459">
                     <a:s>&quot;Number of Pneumococcal Booster Series Doses Administered&quot;</a:s>
                  </a:s>
                  <a:s r="460"> = 1</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="458" locator="203:3-203:64" xsi:type="Equal">
            <signature localId="461" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <signature localId="462" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <operand localId="459" locator="203:3-203:60" name="Number of Pneumococcal Booster Series Doses Administered" xsi:type="ExpressionRef"/>
            <operand localId="460" locator="203:64" valueType="t:Integer" value="1" xsi:type="Literal"/>
         </expression>
      </def>
      <def localId="465" locator="211:1-212:48" name="The client's age is less than 12 months" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="The client's age is less than 12 months"/>
            <a:t name="pseudocode" value="&quot;Date of birth&quot; &lt; 12 months"/>
            <a:t name="code" value="The client's age is less than 12 months-42"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)"/>
            <a:s r="465">
               <a:s>/*
@input: The client's age is less than 12 months
@pseudocode: Today's date − &quot;Date of birth&quot; &lt; 12 months
@code: The client's age is less than 12 months-42
@decision: IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)
*/
define &quot;The client's age is less than 12 months&quot;:
  </a:s>
               <a:s r="466">
                  <a:s r="468">
                     <a:s r="467">
                        <a:s>Encounter</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="468">
                        <a:s>&quot;Current Patient Age In Months&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s r="469"> &lt; 12</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="466" locator="212:3-212:48" xsi:type="Less">
            <signature localId="470" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <signature localId="471" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <operand localId="468" locator="212:3-212:43" name="Current Patient Age In Months" libraryName="Encounter" xsi:type="ExpressionRef"/>
            <operand localId="469" locator="212:47-212:48" valueType="t:Integer" value="12" xsi:type="Literal"/>
         </expression>
      </def>
      <def localId="474" locator="221:1-222:45" name="Client's HIV status is positive" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="Client's HIV status is positive"/>
            <a:t name="pseudocode" value="&quot;HIV status&quot; = &quot;HIV-positive&quot;"/>
            <a:t name="code" value="Client's HIV status is positive-29"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)"/>
            <a:s r="474">
               <a:s>/*
@input: Client's HIV status is positive
@pseudocode: &quot;HIV status&quot; = &quot;HIV-positive&quot;
@code: Client's HIV status is positive-29
@decision: IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)
@decision: IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)
*/
define &quot;Client's HIV status is positive&quot;:
  </a:s>
               <a:s r="476">
                  <a:s r="475">
                     <a:s>Encounter</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="476">
                     <a:s>&quot;Client's HIV status is positive&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="476" locator="222:3-222:45" name="Client's HIV status is positive" libraryName="Encounter" xsi:type="ExpressionRef"/>
      </def>
      <def localId="479" locator="231:1-232:52" name="Client had preterm birth" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="Client had preterm birth"/>
            <a:t name="pseudocode" value="&quot;Preterm birth&quot; = TRUE"/>
            <a:t name="code" value="Client had preterm birth-22"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)"/>
            <a:s r="479">
               <a:s>/*
@input: Client had preterm birth
@pseudocode: &quot;Preterm birth&quot; = TRUE
@code: Client had preterm birth-22
@decision: IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)
@decision: IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)
*/
define &quot;Client had preterm birth&quot;:
  </a:s>
               <a:s r="481">
                  <a:s r="480">
                     <a:s>Encounter</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="481">
                     <a:s>&quot;Client was a premature infant at birth&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="481" locator="232:3-232:52" name="Client was a premature infant at birth" libraryName="Encounter" xsi:type="ExpressionRef"/>
      </def>
      <def localId="484" locator="240:1-242:52" name="The client's age is more than or equal to 12 months and less than 24 months" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="The client's age is more than or equal to 12 months and less than 24 months"/>
            <a:t name="pseudocode" value="&quot;Date of birth&quot; &lt; 24 months"/>
            <a:t name="code" value="The client's age is more than or equal to 12 months and less than 24 months-54"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)"/>
            <a:s r="484">
               <a:s>/*
@input: The client's age is more than or equal to 12 months and less than 24 months
@pseudocode: 12 months ≤ Today's date − &quot;Date of birth&quot; &lt; 24 months
@code: The client's age is more than or equal to 12 months and less than 24 months-54
@decision: IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)
*/
define &quot;The client's age is more than or equal to 12 months and less than 24 months&quot;:
  </a:s>
               <a:s r="485">
                  <a:s r="486">
                     <a:s r="487">12 &lt;= </a:s>
                     <a:s r="489">
                        <a:s r="488">
                           <a:s>Encounter</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="489">
                           <a:s>&quot;Current Patient Age In Months&quot;</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
  and </a:s>
                  <a:s r="492">
                     <a:s r="494">
                        <a:s r="493">
                           <a:s>Encounter</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="494">
                           <a:s>&quot;Current Patient Age In Months&quot;</a:s>
                        </a:s>
                     </a:s>
                     <a:s r="495"> &lt; 24</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="485" locator="241:3-242:52" xsi:type="And">
            <operand localId="486" locator="241:3-241:49" xsi:type="LessOrEqual">
               <signature localId="490" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
               <signature localId="491" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
               <operand localId="487" locator="241:3-241:4" valueType="t:Integer" value="12" xsi:type="Literal"/>
               <operand localId="489" locator="241:9-241:49" name="Current Patient Age In Months" libraryName="Encounter" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="492" locator="242:7-242:52" xsi:type="Less">
               <signature localId="496" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
               <signature localId="497" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
               <operand localId="494" locator="242:7-242:47" name="Current Patient Age In Months" libraryName="Encounter" xsi:type="ExpressionRef"/>
               <operand localId="495" locator="242:51-242:52" valueType="t:Integer" value="24" xsi:type="Literal"/>
            </operand>
         </expression>
      </def>
      <def localId="500" locator="251:1-252:56" name="The latest pneumococcal dose was administered within 12 months post birth" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="The latest pneumococcal dose was administered within 12 months post birth"/>
            <a:t name="pseudocode" value="&quot;Date and time of vaccination&quot; (where &quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot;) − &quot;Date of birth&quot; &lt; 12 months"/>
            <a:t name="code" value="The latest pneumococcal dose was administered within 12 months post birth-116"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)"/>
            <a:s r="500">
               <a:s>/*
@input: The latest pneumococcal dose was administered within 12 months post birth
@pseudocode: Latest &quot;Date and time of vaccination&quot; (where &quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot;) − &quot;Date of birth&quot; &lt; 12 months
@code: The latest pneumococcal dose was administered within 12 months post birth-116
@decision: IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)
@decision: IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)
*/
define &quot;The latest pneumococcal dose was administered within 12 months post birth&quot;:
  </a:s>
               <a:s r="501">
                  <a:s r="507">
                     <a:s>AgeInMonthsAt(</a:s>
                     <a:s r="502">
                        <a:s>&quot;Date of Latest Pneumococcal Dose&quot;</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
                  <a:s r="510"> &lt; 12</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="501" locator="252:3-252:56" xsi:type="Less">
            <signature localId="511" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <signature localId="512" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <operand localId="507" locator="252:3-252:51" precision="Month" xsi:type="CalculateAgeAt">
               <signature localId="508" name="t:Date" xsi:type="NamedTypeSpecifier"/>
               <signature localId="509" name="t:Date" xsi:type="NamedTypeSpecifier"/>
               <operand localId="506" path="birthDate.value" xsi:type="Property">
                  <source localId="505" name="Patient" xsi:type="ExpressionRef"/>
               </operand>
               <operand localId="502" locator="252:17-252:50" name="Date of Latest Pneumococcal Dose" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="510" locator="252:55-252:56" valueType="t:Integer" value="12" xsi:type="Literal"/>
         </expression>
      </def>
      <def localId="515" locator="261:1-262:57" name="The latest pneumococcal dose was administered after 12 months post birth" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="The latest pneumococcal dose was administered after 12 months post birth"/>
            <a:t name="pseudocode" value="&quot;Date and time of vaccination&quot; (where &quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot;) − &quot;Date of birth&quot; ≥ 12 months"/>
            <a:t name="code" value="The latest pneumococcal dose was administered after 12 months post birth-116"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)"/>
            <a:s r="515">
               <a:s>/*
@input: The latest pneumococcal dose was administered after 12 months post birth
@pseudocode: Latest &quot;Date and time of vaccination&quot; (where &quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot;) − &quot;Date of birth&quot; ≥ 12 months
@code: The latest pneumococcal dose was administered after 12 months post birth-116
@decision: IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)
@decision: IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)
*/
define &quot;The latest pneumococcal dose was administered after 12 months post birth&quot;:
  </a:s>
               <a:s r="516">
                  <a:s r="522">
                     <a:s>AgeInMonthsAt(</a:s>
                     <a:s r="517">
                        <a:s>&quot;Date of Latest Pneumococcal Dose&quot;</a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
                  <a:s r="525"> >= 12</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="516" locator="262:3-262:57" xsi:type="GreaterOrEqual">
            <signature localId="526" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <signature localId="527" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <operand localId="522" locator="262:3-262:51" precision="Month" xsi:type="CalculateAgeAt">
               <signature localId="523" name="t:Date" xsi:type="NamedTypeSpecifier"/>
               <signature localId="524" name="t:Date" xsi:type="NamedTypeSpecifier"/>
               <operand localId="521" path="birthDate.value" xsi:type="Property">
                  <source localId="520" name="Patient" xsi:type="ExpressionRef"/>
               </operand>
               <operand localId="517" locator="262:17-262:50" name="Date of Latest Pneumococcal Dose" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="525" locator="262:56-262:57" valueType="t:Integer" value="12" xsi:type="Literal"/>
         </expression>
      </def>
      <def localId="530" locator="271:1-272:56" name="Client's HIV status is negative or unknown" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="Client's HIV status is negative or unknown"/>
            <a:t name="pseudocode" value="&quot;HIV status&quot; ≠ &quot;HIV-positive&quot;"/>
            <a:t name="code" value="Client's HIV status is negative or unknown-29"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)"/>
            <a:s r="530">
               <a:s>/*
@input: Client's HIV status is negative or unknown
@pseudocode: &quot;HIV status&quot; ≠ &quot;HIV-positive&quot;
@code: Client's HIV status is negative or unknown-29
@decision: IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)
@decision: IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)
*/
define &quot;Client's HIV status is negative or unknown&quot;:
  </a:s>
               <a:s r="532">
                  <a:s r="531">
                     <a:s>Encounter</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="532">
                     <a:s>&quot;Client's HIV status is negative or unknown&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="532" locator="272:3-272:56" name="Client's HIV status is negative or unknown" libraryName="Encounter" xsi:type="ExpressionRef"/>
      </def>
      <def localId="535" locator="281:1-282:56" name="Client did not have preterm birth" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="Client did not have preterm birth"/>
            <a:t name="pseudocode" value="&quot;Preterm birth&quot; ≠ TRUE"/>
            <a:t name="code" value="Client did not have preterm birth-22"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)"/>
            <a:s r="535">
               <a:s>/*
@input: Client did not have preterm birth
@pseudocode: &quot;Preterm birth&quot; ≠ TRUE
@code: Client did not have preterm birth-22
@decision: IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)
@decision: IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)
*/
define &quot;Client did not have preterm birth&quot;:
  </a:s>
               <a:s r="537">
                  <a:s r="536">
                     <a:s>Encounter</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="537">
                     <a:s>&quot;Client was not a premature infant at birth&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="537" locator="282:3-282:56" name="Client was not a premature infant at birth" libraryName="Encounter" xsi:type="ExpressionRef"/>
      </def>
      <def localId="540" locator="291:1-292:49" name="The client's age is more than or equal to 24 months" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="The client's age is more than or equal to 24 months"/>
            <a:t name="pseudocode" value="&quot;Date of birth&quot; ≥ 24 months"/>
            <a:t name="code" value="The client's age is more than or equal to 24 months-42"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)"/>
            <a:s r="540">
               <a:s>/*
@input: The client's age is more than or equal to 24 months
@pseudocode: Today's date − &quot;Date of birth&quot; ≥ 24 months
@code: The client's age is more than or equal to 24 months-42
@decision: IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)
@decision: IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)
*/
define &quot;The client's age is more than or equal to 24 months&quot;:
  </a:s>
               <a:s r="541">
                  <a:s r="543">
                     <a:s r="542">
                        <a:s>Encounter</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="543">
                        <a:s>&quot;Current Patient Age In Months&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s r="544"> >= 24</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="541" locator="292:3-292:49" xsi:type="GreaterOrEqual">
            <signature localId="545" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <signature localId="546" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <operand localId="543" locator="292:3-292:43" name="Current Patient Age In Months" libraryName="Encounter" xsi:type="ExpressionRef"/>
            <operand localId="544" locator="292:48-292:49" valueType="t:Integer" value="24" xsi:type="Literal"/>
         </expression>
      </def>
      <def localId="549" locator="300:1-301:64" name="Two pneumococcal booster doses were administered" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="Two pneumococcal booster doses were administered"/>
            <a:t name="pseudocode" value="&quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot; and &quot;Type of dose&quot; = &quot;Booster dose&quot;) = 2"/>
            <a:t name="code" value="Two pneumococcal booster doses were administered-119"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)"/>
            <a:s r="549">
               <a:s>/*
@input: Two pneumococcal booster doses were administered
@pseudocode: Count of vaccines administered (where &quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot; and &quot;Type of dose&quot; = &quot;Booster dose&quot;) = 2
@code: Two pneumococcal booster doses were administered-119
@decision: IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)
*/
define &quot;Two pneumococcal booster doses were administered&quot;:
  </a:s>
               <a:s r="550">
                  <a:s r="551">
                     <a:s>&quot;Number of Pneumococcal Booster Series Doses Administered&quot;</a:s>
                  </a:s>
                  <a:s r="552"> = 2</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="550" locator="301:3-301:64" xsi:type="Equal">
            <signature localId="553" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <signature localId="554" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <operand localId="551" locator="301:3-301:60" name="Number of Pneumococcal Booster Series Doses Administered" xsi:type="ExpressionRef"/>
            <operand localId="552" locator="301:64" valueType="t:Integer" value="2" xsi:type="Literal"/>
         </expression>
      </def>
      <def localId="557" locator="310:1-311:47" name="The client's age is more than 5 years" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="The client's age is more than 5 years"/>
            <a:t name="pseudocode" value="&quot;Date of birth&quot; > 5 years"/>
            <a:t name="code" value="The client's age is more than 5 years-40"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)"/>
            <a:s r="557">
               <a:s>/*
@input: The client's age is more than 5 years
@pseudocode: Today's date − &quot;Date of birth&quot; > 5 years
@code: The client's age is more than 5 years-40
@decision: IMMZ.D2.DT.Pneumococcal.2 doses with booster dose: 2 primary doses with a booster dose (2p+1)
@decision: IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)
*/
define &quot;The client's age is more than 5 years&quot;:
  </a:s>
               <a:s r="558">
                  <a:s r="560">
                     <a:s r="559">
                        <a:s>Encounter</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="560">
                        <a:s>&quot;Current Patient Age In Months&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s r="561"> > 5</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="558" locator="311:3-311:47" xsi:type="Greater">
            <signature localId="562" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <signature localId="563" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <operand localId="560" locator="311:3-311:43" name="Current Patient Age In Months" libraryName="Encounter" xsi:type="ExpressionRef"/>
            <operand localId="561" locator="311:47" valueType="t:Integer" value="5" xsi:type="Literal"/>
         </expression>
      </def>
      <def localId="566" locator="319:1-320:53" name="The client's age is less than or equal to five years" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="The client's age is less than or equal to five years"/>
            <a:t name="pseudocode" value="&quot;Date of birth&quot; ≤ 5 years"/>
            <a:t name="code" value="The client's age is less than or equal to five years-40"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)"/>
            <a:s r="566">
               <a:s>/*
@input: The client's age is less than or equal to five years
@pseudocode: Today's date − &quot;Date of birth&quot; ≤ 5 years
@code: The client's age is less than or equal to five years-40
@decision: IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)
*/
define &quot;The client's age is less than or equal to five years&quot;:
  </a:s>
               <a:s r="567">
                  <a:s>&quot;The client's age is less than or equal to 5 years&quot;</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="567" locator="320:3-320:53" name="The client's age is less than or equal to 5 years" xsi:type="ExpressionRef"/>
      </def>
      <def localId="570" locator="328:1-330:82" name="The latest pneumococcal dose was administered less than 4 weeks ago" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="The latest pneumococcal dose was administered less than 4 weeks ago"/>
            <a:t name="pseudocode" value="&quot;Date and time of vaccination&quot; (where &quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot;) &lt; 4 weeks"/>
            <a:t name="code" value="The latest pneumococcal dose was administered less than 4 weeks ago-104"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)"/>
            <a:s r="570">
               <a:s>/*
@input: The latest pneumococcal dose was administered less than 4 weeks ago
@pseudocode: Today's date − &quot;Date and time of vaccination&quot; (where &quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot;) &lt; 4 weeks
@code: The latest pneumococcal dose was administered less than 4 weeks ago-104
@decision: IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)
*/
define &quot;The latest pneumococcal dose was administered less than 4 weeks ago&quot;:
  </a:s>
               <a:s r="571">
                  <a:s r="574">
                     <a:s r="572">
                        <a:s>&quot;Date of Latest Pneumococcal Dose&quot;</a:s>
                     </a:s>
                     <a:s> is not null</a:s>
                  </a:s>
                  <a:s>
    and </a:s>
                  <a:s r="575">
                     <a:s r="576">
                        <a:s>duration in weeks between </a:s>
                        <a:s r="577">
                           <a:s>&quot;Date of Latest Pneumococcal Dose&quot;</a:s>
                        </a:s>
                        <a:s> and </a:s>
                        <a:s r="578">
                           <a:s>Today</a:s>
                        </a:s>
                     </a:s>
                     <a:s r="581"> &lt; 4</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="571" locator="329:3-330:82" xsi:type="And">
            <operand localId="574" locator="329:3-329:48" xsi:type="Not">
               <operand localId="573" locator="329:3-329:48" xsi:type="IsNull">
                  <operand localId="572" locator="329:3-329:36" name="Date of Latest Pneumococcal Dose" xsi:type="ExpressionRef"/>
               </operand>
            </operand>
            <operand localId="575" locator="330:9-330:82" xsi:type="Less">
               <signature localId="582" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
               <signature localId="583" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
               <operand localId="576" locator="330:9-330:78" precision="Week" xsi:type="DurationBetween">
                  <signature localId="579" name="t:Date" xsi:type="NamedTypeSpecifier"/>
                  <signature localId="580" name="t:Date" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="577" locator="330:35-330:68" name="Date of Latest Pneumococcal Dose" xsi:type="ExpressionRef"/>
                  <operand localId="578" locator="330:74-330:78" name="Today" xsi:type="ParameterRef"/>
               </operand>
               <operand localId="581" locator="330:82" valueType="t:Integer" value="4" xsi:type="Literal"/>
            </operand>
         </expression>
      </def>
      <def localId="586" locator="338:1-339:75" name="The latest pneumococcal dose was administered more than 4 weeks ago" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="The latest pneumococcal dose was administered more than 4 weeks ago"/>
            <a:t name="pseudocode" value="&quot;Date and time of vaccination&quot; (where &quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot;) ≥ 4 weeks"/>
            <a:t name="code" value="The latest pneumococcal dose was administered more than 4 weeks ago-104"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)"/>
            <a:s r="586">
               <a:s>/*
@input: The latest pneumococcal dose was administered more than 4 weeks ago
@pseudocode: Today's date − &quot;Date and time of vaccination&quot; (where &quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot;) ≥ 4 weeks
@code: The latest pneumococcal dose was administered more than 4 weeks ago-104
@decision: IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)
*/
define &quot;The latest pneumococcal dose was administered more than 4 weeks ago&quot;:
  </a:s>
               <a:s r="587">
                  <a:s>not </a:s>
                  <a:s r="588">
                     <a:s>&quot;The latest pneumococcal dose was administered less than 4 weeks ago&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="587" locator="339:3-339:75" xsi:type="Not">
            <operand localId="588" locator="339:7-339:75" name="The latest pneumococcal dose was administered less than 4 weeks ago" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="591" locator="347:1-349:59" name="The first pneumococcal dose was administered at 12–24 months post birth" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="The first pneumococcal dose was administered at 12–24 months post birth"/>
            <a:t name="pseudocode" value="&quot;Date and time of vaccination&quot; (where &quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot;) − &quot;Date of birth&quot; &lt; 24 months"/>
            <a:t name="code" value="The first pneumococcal dose was administered at 12–24 months post birth-121"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)"/>
            <a:s r="591">
               <a:s>/*
@input: The first pneumococcal dose was administered at 12–24 months post birth
@pseudocode: 12 months ≤ &quot;Date and time of vaccination&quot; (where &quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot;) − &quot;Date of birth&quot; &lt; 24 months
@code: The first pneumococcal dose was administered at 12–24 months post birth-121
@decision: IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)
*/
define &quot;The first pneumococcal dose was administered at 12–24 months post birth&quot;:
  </a:s>
               <a:s r="592">
                  <a:s r="593">
                     <a:s r="599">
                        <a:s>AgeInMonthsAt(</a:s>
                        <a:s r="594">
                           <a:s>&quot;Date of First Pneumococcal Dose&quot;</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                     <a:s r="602"> >= 12</a:s>
                  </a:s>
                  <a:s>
  and </a:s>
                  <a:s r="605">
                     <a:s r="611">
                        <a:s>AgeInMonthsAt(</a:s>
                        <a:s r="606">
                           <a:s>&quot;Date of First Pneumococcal Dose&quot;</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                     <a:s r="614"> &lt; 24</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="592" locator="348:3-349:59" xsi:type="And">
            <operand localId="593" locator="348:3-348:56" xsi:type="GreaterOrEqual">
               <signature localId="603" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
               <signature localId="604" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
               <operand localId="599" locator="348:3-348:50" precision="Month" xsi:type="CalculateAgeAt">
                  <signature localId="600" name="t:Date" xsi:type="NamedTypeSpecifier"/>
                  <signature localId="601" name="t:Date" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="598" path="birthDate.value" xsi:type="Property">
                     <source localId="597" name="Patient" xsi:type="ExpressionRef"/>
                  </operand>
                  <operand localId="594" locator="348:17-348:49" name="Date of First Pneumococcal Dose" xsi:type="ExpressionRef"/>
               </operand>
               <operand localId="602" locator="348:55-348:56" valueType="t:Integer" value="12" xsi:type="Literal"/>
            </operand>
            <operand localId="605" locator="349:7-349:59" xsi:type="Less">
               <signature localId="615" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
               <signature localId="616" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
               <operand localId="611" locator="349:7-349:54" precision="Month" xsi:type="CalculateAgeAt">
                  <signature localId="612" name="t:Date" xsi:type="NamedTypeSpecifier"/>
                  <signature localId="613" name="t:Date" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="610" path="birthDate.value" xsi:type="Property">
                     <source localId="609" name="Patient" xsi:type="ExpressionRef"/>
                  </operand>
                  <operand localId="606" locator="349:21-349:53" name="Date of First Pneumococcal Dose" xsi:type="ExpressionRef"/>
               </operand>
               <operand localId="614" locator="349:58-349:59" valueType="t:Integer" value="24" xsi:type="Literal"/>
            </operand>
         </expression>
      </def>
      <def localId="619" locator="357:1-358:64" name="Three pneumococcal primary series doses were administered" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="Three pneumococcal primary series doses were administered"/>
            <a:t name="pseudocode" value="&quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot; and &quot;Type of dose&quot; = &quot;Primary series&quot;) = 3"/>
            <a:t name="code" value="Three pneumococcal primary series doses were administered-121"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)"/>
            <a:s r="619">
               <a:s>/*
@input: Three pneumococcal primary series doses were administered
@pseudocode: Count of vaccines administered (where &quot;Vaccine type&quot; = &quot;Pneumococcal vaccines&quot; and &quot;Type of dose&quot; = &quot;Primary series&quot;) = 3
@code: Three pneumococcal primary series doses were administered-121
@decision: IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)
*/
define &quot;Three pneumococcal primary series doses were administered&quot;:
  </a:s>
               <a:s r="620">
                  <a:s r="621">
                     <a:s>&quot;Number of Pneumococcal Primary Series Doses Administered&quot;</a:s>
                  </a:s>
                  <a:s r="622"> = 3</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="620" locator="358:3-358:64" xsi:type="Equal">
            <signature localId="623" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <signature localId="624" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <operand localId="621" locator="358:3-358:60" name="Number of Pneumococcal Primary Series Doses Administered" xsi:type="ExpressionRef"/>
            <operand localId="622" locator="358:64" valueType="t:Integer" value="3" xsi:type="Literal"/>
         </expression>
      </def>
      <def localId="627" locator="366:1-367:48" name="The client's age is less than 24 months" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:t name="input" value="The client's age is less than 24 months"/>
            <a:t name="pseudocode" value="&quot;Date of birth&quot; &lt; 24 months"/>
            <a:t name="code" value="The client's age is less than 24 months-42"/>
            <a:t name="decision" value="IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)"/>
            <a:s r="627">
               <a:s>/*
@input: The client's age is less than 24 months
@pseudocode: Today's date − &quot;Date of birth&quot; &lt; 24 months
@code: The client's age is less than 24 months-42
@decision: IMMZ.D2.DT.Pneumococcal.3 doses: 3 primary doses (3p+0)
*/
define &quot;The client's age is less than 24 months&quot;:
  </a:s>
               <a:s r="628">
                  <a:s r="630">
                     <a:s r="629">
                        <a:s>Encounter</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="630">
                        <a:s>&quot;Current Patient Age In Months&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s r="631"> &lt; 24</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="628" locator="367:3-367:48" xsi:type="Less">
            <signature localId="632" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <signature localId="633" name="t:Integer" xsi:type="NamedTypeSpecifier"/>
            <operand localId="630" locator="367:3-367:43" name="Current Patient Age In Months" libraryName="Encounter" xsi:type="ExpressionRef"/>
            <operand localId="631" locator="367:47-367:48" valueType="t:Integer" value="24" xsi:type="Literal"/>
         </expression>
      </def>
   </statements>
</library>
