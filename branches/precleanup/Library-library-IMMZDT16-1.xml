<?xml version="1.0" encoding="UTF-8"?>
<library xmlns="urn:hl7-org:elm:r1" xmlns:t="urn:hl7-org:elm-types:r1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:fhir="http://hl7.org/fhir" xmlns:qdm43="urn:healthit-gov:qdm:v4_3" xmlns:qdm53="urn:healthit-gov:qdm:v5_3" xmlns:a="urn:hl7-org:cql-annotations:r1">
   <annotation translatorVersion="1.4" translatorOptions="EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion" xsi:type="a:CqlToElmInfo"/>
   <annotation xsi:type="a:Annotation">
      <a:s r="557">
         <a:s>/*
 * Library: IMMZDT16 (IMMZ.DT.16.Meningococcal)
 * Rule: If child or person has not been vaccinated, give Meningococcal vaccine according to the defined schedule 
 * Trigger: Patient has never received Meningococcal vaccination
 */
library IMMZDT16</a:s>
      </a:s>
   </annotation>
   <identifier id="IMMZDT16" system="http://fhir.org/guides/who/smart-immunization"/>
   <schemaIdentifier id="urn:hl7-org:elm" version="r1"/>
   <usings>
      <def localIdentifier="System" uri="urn:hl7-org:elm-types:r1"/>
      <def localId="1" locator="8:1-8:26" localIdentifier="FHIR" uri="http://hl7.org/fhir" version="4.0.1">
         <annotation xsi:type="a:Annotation">
            <a:s r="1">
               <a:s>// Start Skeleton CQL
using </a:s>
               <a:s>
                  <a:s>FHIR</a:s>
               </a:s>
               <a:s> version '4.0.1'</a:s>
            </a:s>
         </annotation>
      </def>
   </usings>
   <includes>
      <def localId="2" locator="9:1-9:35" localIdentifier="FHIRHelpers" path="http://fhir.org/guides/who/smart-immunization/FHIRHelpers" version="4.0.1">
         <annotation xsi:type="a:Annotation">
            <a:s r="2">
               <a:s>include </a:s>
               <a:s>
                  <a:s>FHIRHelpers</a:s>
               </a:s>
               <a:s> version '4.0.1'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="3" locator="10:1-10:33" localIdentifier="IMMZCom" path="http://fhir.org/guides/who/smart-immunization/IMMZCommon">
         <annotation xsi:type="a:Annotation">
            <a:s r="3">
               <a:s>include </a:s>
               <a:s>
                  <a:s>IMMZCommon</a:s>
               </a:s>
               <a:s> called IMMZCom</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="4" locator="11:1-11:33" localIdentifier="IMMZc" path="http://fhir.org/guides/who/smart-immunization/IMMZConcepts">
         <annotation xsi:type="a:Annotation">
            <a:s r="4">
               <a:s>include </a:s>
               <a:s>
                  <a:s>IMMZConcepts</a:s>
               </a:s>
               <a:s> called IMMZc</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="5" locator="12:1-12:33" localIdentifier="IMMZCon" path="http://fhir.org/guides/who/smart-immunization/IMMZConfig">
         <annotation xsi:type="a:Annotation">
            <a:s r="5">
               <a:s>include </a:s>
               <a:s>
                  <a:s>IMMZConfig</a:s>
               </a:s>
               <a:s> called IMMZCon</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="6" locator="13:1-13:40" localIdentifier="IMMZvl" path="http://fhir.org/guides/who/smart-immunization/IMMZVaccineLibrary">
         <annotation xsi:type="a:Annotation">
            <a:s r="6">
               <a:s>include </a:s>
               <a:s>
                  <a:s>IMMZVaccineLibrary</a:s>
               </a:s>
               <a:s> called IMMZvl</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="7" locator="14:1-14:28" localIdentifier="FC" path="http://fhir.org/guides/who/smart-immunization/FHIRCommon">
         <annotation xsi:type="a:Annotation">
            <a:s r="7">
               <a:s>include </a:s>
               <a:s>
                  <a:s>FHIRCommon</a:s>
               </a:s>
               <a:s> called FC</a:s>
            </a:s>
         </annotation>
      </def>
   </includes>
   <parameters>
      <def localId="10" locator="16:1-16:109" name="Individual has a continued high risk of exposure (including health workers)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="10">
               <a:s>// End Skeleton CQL
parameter &quot;Individual has a continued high risk of exposure (including health workers)&quot; </a:s>
               <a:s r="9">
                  <a:s>Boolean</a:s>
               </a:s>
               <a:s r="8"> default false</a:s>
            </a:s>
         </annotation>
         <default localId="8" locator="16:105-16:109" valueType="t:Boolean" value="false" xsi:type="Literal"/>
         <parameterTypeSpecifier localId="9" locator="16:89-16:95" name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
      </def>
   </parameters>
   <statements>
      <def locator="17:1-17:15" name="Patient" context="Patient">
         <expression xsi:type="SingletonFrom">
            <operand locator="17:1-17:15" dataType="fhir:Patient" templateId="http://hl7.org/fhir/StructureDefinition/Patient" xsi:type="Retrieve"/>
         </expression>
      </def>
      <def localId="13" locator="23:1-24:54" name="Meningococcal vaccine immunization history" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="13">
               <a:s>/* 
 * @dataElement Meningococcal vaccine immunization history
 */
define &quot;Meningococcal vaccine immunization history&quot;:
	</a:s>
               <a:s r="12">
                  <a:s r="11">
                     <a:s>IMMZCom</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="12">
                     <a:s>&quot;Meningococcal Doses Administered to Patient&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="12" locator="24:2-24:54" name="Meningococcal Doses Administered to Patient" libraryName="IMMZCom" xsi:type="ExpressionRef"/>
      </def>
      <def localId="17" locator="29:1-30:57" name="No-doses" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="17">
               <a:s>/* 
 * @dataElement No-doses
 */
define &quot;No-doses&quot;:
	</a:s>
               <a:s r="16">
                  <a:s>not </a:s>
                  <a:s r="15">
                     <a:s>exists</a:s>
                     <a:s r="14">
                        <a:s>(</a:s>
                        <a:s r="14">
                           <a:s>&quot;Meningococcal vaccine immunization history&quot;</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="16" locator="30:2-30:57" xsi:type="Not">
            <operand localId="15" locator="30:6-30:57" xsi:type="Exists">
               <operand localId="14" locator="30:12-30:57" name="Meningococcal vaccine immunization history" xsi:type="ExpressionRef"/>
            </operand>
         </expression>
      </def>
      <def localId="20" locator="35:1-36:40" name="Current Patient Age in Months" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="20">
               <a:s>/* 
 * @dataElement Current Patient Age in Months
 */
define &quot;Current Patient Age in Months&quot;:
	</a:s>
               <a:s r="19">
                  <a:s r="18">
                     <a:s>IMMZCom</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="19">
                     <a:s>&quot;Current Patient Age In Months&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="19" locator="36:2-36:40" name="Current Patient Age In Months" libraryName="IMMZCom" xsi:type="ExpressionRef"/>
      </def>
      <def localId="23" locator="41:1-42:105" name="There is a compelling reason to vaccinate infants with Meningococcal between 3 to 9 months old" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="23">
               <a:s>/* 
 * @dataElement There is a compelling reason to vaccinate infants with Meningococcal between 3 to 9 months old
 */
define &quot;There is a compelling reason to vaccinate infants with Meningococcal between 3 to 9 months old&quot;:
	</a:s>
               <a:s r="22">
                  <a:s r="21">
                     <a:s>IMMZCon</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="22">
                     <a:s>&quot;There is a compelling reason to vaccinate infants with Meningococcal between 3 to 9 months old&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="22" locator="42:2-42:105" name="There is a compelling reason to vaccinate infants with Meningococcal between 3 to 9 months old" libraryName="IMMZCon" xsi:type="ExpressionRef"/>
      </def>
      <def localId="35" locator="56:1-57:207" name="Should vaccinate patient with MenA conjugate vaccine (5µg) because no doses on 2 dose scheme" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="35">
               <a:s>//Seek clarity 

/*
 * Rule: Should vaccinate patient with MenA conjugate vaccine (5µg) because no doses on 2 dose scheme
 * Annotations:
 * 	 - Provide Meningococcal immunizations – using the &quot;MenA conjugate vaccine (5µg) immunization – NO PREVIOUS&quot; schedule (2 dose scheme)
 * Outputs:
 * 	 - Immunize Patient for Meningococcal - No Doses
 * References:
 * 	- WHO recommendations for routine immunization - summary tables: https://www.who.int/teams/immunization-vaccines-and-biologicals/policies/who-recommendations-for-routine-immunization---summary-tables
 * Logic:
 *	 ((((&quot;Meningococcal vaccine immunization history&quot; = &quot;No-doses&quot;) and (&quot;Current Patient Age in Months&quot; >= 3)) and (&quot;Current Patient Age in Months&quot; &lt; 9)) and (&quot;There is a compelling reason to vaccinate infants with Meningococcal between 3 to 9 months old&quot; = true))
 */
define &quot;Should vaccinate patient with MenA conjugate vaccine (5µg) because no doses on 2 dose scheme&quot;:
	</a:s>
               <a:s r="34">
                  <a:s>(</a:s>
                  <a:s r="34">
                     <a:s r="32">
                        <a:s>(</a:s>
                        <a:s r="32">
                           <a:s r="28">
                              <a:s>(</a:s>
                              <a:s r="28">
                                 <a:s r="24">
                                    <a:s>(</a:s>
                                    <a:s r="24">
                                       <a:s>&quot;No-doses&quot;</a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                                 <a:s> and </a:s>
                                 <a:s r="27">
                                    <a:s>(</a:s>
                                    <a:s r="27">
                                       <a:s r="25">
                                          <a:s>&quot;Current Patient Age in Months&quot;</a:s>
                                       </a:s>
                                       <a:s r="26"> >= 3</a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> and </a:s>
                           <a:s r="31">
                              <a:s>(</a:s>
                              <a:s r="31">
                                 <a:s r="29">
                                    <a:s>&quot;Current Patient Age in Months&quot;</a:s>
                                 </a:s>
                                 <a:s r="30"> &lt; 9</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                     <a:s> and </a:s>
                     <a:s r="33">
                        <a:s>(</a:s>
                        <a:s r="33">
                           <a:s>&quot;There is a compelling reason to vaccinate infants with Meningococcal between 3 to 9 months old&quot;</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
                  <a:s>)</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="34" locator="57:2-57:207" xsi:type="And">
            <operand localId="32" locator="57:3-57:103" xsi:type="And">
               <operand localId="28" locator="57:4-57:60" xsi:type="And">
                  <operand localId="24" locator="57:5-57:16" name="No-doses" xsi:type="ExpressionRef"/>
                  <operand localId="27" locator="57:22-57:59" xsi:type="GreaterOrEqual">
                     <operand localId="25" locator="57:23-57:53" name="Current Patient Age in Months" xsi:type="ExpressionRef"/>
                     <operand localId="26" locator="57:58" valueType="t:Integer" value="3" xsi:type="Literal"/>
                  </operand>
               </operand>
               <operand localId="31" locator="57:66-57:102" xsi:type="Less">
                  <operand localId="29" locator="57:67-57:97" name="Current Patient Age in Months" xsi:type="ExpressionRef"/>
                  <operand localId="30" locator="57:101" valueType="t:Integer" value="9" xsi:type="Literal"/>
               </operand>
            </operand>
            <operand localId="33" locator="57:109-57:206" name="There is a compelling reason to vaccinate infants with Meningococcal between 3 to 9 months old" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="40" locator="62:1-63:68" name="1 dose" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="40">
               <a:s>/* 
 * @dataElement 1 dose
 */
define &quot;1 dose&quot;:
	</a:s>
               <a:s r="39">
                  <a:s r="37">
                     <a:s r="36">
                        <a:s>IMMZCom</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="37">
                        <a:s>&quot;Number of Meningococcal Doses Administered to Patient&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s r="38"> = 1</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="39" locator="63:2-63:68" xsi:type="Equal">
            <operand localId="37" locator="63:2-63:64" name="Number of Meningococcal Doses Administered to Patient" libraryName="IMMZCom" xsi:type="ExpressionRef"/>
            <operand localId="38" locator="63:68" valueType="t:Integer" value="1" xsi:type="Literal"/>
         </expression>
      </def>
      <def localId="53" locator="68:1-70:102" name="Date last Meningococcal dose given >= 8 weeks" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="53">
               <a:s>/* 
 * @dataElement Date last Meningococcal dose given >= 8 weeks
 */
define &quot;Date last Meningococcal dose given >= 8 weeks&quot;:
	 </a:s>
               <a:s r="52">
                  <a:s r="46">
                     <a:s r="43">
                        <a:s>
                           <a:s r="42">
                              <a:s r="41">
                                 <a:s>
                                    <a:s>IMMZCom.&quot;Date last Meningococcal dose Administered to Patient&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> equal</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s> </a:s>
                     <a:s r="46">
                        <a:s r="45">
                           <a:s>8 'weeks'</a:s>
                        </a:s>
                        <a:s> before</a:s>
                     </a:s>
                     <a:s> </a:s>
                     <a:s r="44">
                        <a:s>Today()</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
	 or </a:s>
                  <a:s r="51">
                     <a:s r="48">
                        <a:s r="47">
                           <a:s>IMMZCom</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="48">
                           <a:s>&quot;Date last Meningococcal dose Administered to Patient&quot;</a:s>
                        </a:s>
                     </a:s>
                     <a:s> </a:s>
                     <a:s r="51">
                        <a:s>more than </a:s>
                        <a:s r="50">
                           <a:s>8 'weeks'</a:s>
                        </a:s>
                        <a:s> before</a:s>
                     </a:s>
                     <a:s> </a:s>
                     <a:s r="49">
                        <a:s>Today()</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="52" locator="69:3-70:102" xsi:type="Or">
            <operand localId="46" locator="69:3-69:95" xsi:type="SameAs">
               <operand localId="43" locator="69:3-69:70" xsi:type="Query">
                  <source localId="42" locator="69:3-69:70" alias="equal">
                     <expression localId="41" locator="69:3-69:64" name="Date last Meningococcal dose Administered to Patient" libraryName="IMMZCom" xsi:type="ExpressionRef"/>
                  </source>
               </operand>
               <operand locator="69:89-69:95" xsi:type="Subtract">
                  <operand localId="44" locator="69:89-69:95" xsi:type="Today"/>
                  <operand localId="45" locator="69:72-69:80" value="8" unit="weeks" xsi:type="Quantity"/>
               </operand>
            </operand>
            <operand localId="51" locator="70:6-70:102" xsi:type="Before">
               <operand localId="48" locator="70:6-70:67" name="Date last Meningococcal dose Administered to Patient" libraryName="IMMZCom" xsi:type="ExpressionRef"/>
               <operand locator="70:96-70:102" xsi:type="Subtract">
                  <operand localId="49" locator="70:96-70:102" xsi:type="Today"/>
                  <operand localId="50" locator="70:79-70:87" value="8" unit="weeks" xsi:type="Quantity"/>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="56" locator="75:1-76:66" name="Type of last Meningococcal dose" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="56">
               <a:s>/* 
 * @dataElement Type of last Meningococcal dose
 */
define &quot;Type of last Meningococcal dose&quot;:
	</a:s>
               <a:s r="55">
                  <a:s r="54">
                     <a:s>IMMZCom</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="55">
                     <a:s>&quot;Type of last Meningococcal Dose Administered to Patient&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="55" locator="76:2-76:66" name="Type of last Meningococcal Dose Administered to Patient" libraryName="IMMZCom" xsi:type="ExpressionRef"/>
      </def>
      <def localId="59" locator="81:1-82:37" name="MenA conjugate vaccine (5µg)" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="59">
               <a:s>/* 
 * @dataElement MenA conjugate vaccine (5µg)
 */
define &quot;MenA conjugate vaccine (5µg)&quot;:
	</a:s>
               <a:s r="58">
                  <a:s r="57">
                     <a:s>IMMZc</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="58">
                     <a:s>&quot;MenA conjugate vaccine (5µg)&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="58" locator="82:2-82:37" name="MenA conjugate vaccine (5µg)" libraryName="IMMZc" xsi:type="ValueSetRef"/>
      </def>
      <def localId="80" locator="95:1-96:350" name="Should vaccinate patient with MenA conjugate vaccine (5µg) because 1 dose on 2 dose scheme" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="80">
               <a:s>/*
 * Rule: Should vaccinate patient with MenA conjugate vaccine (5µg) because 1 dose on 2 dose scheme
 * Annotations:
 * 	 - Provide Meningococcal immunizations – using the &quot;MenA conjugate vaccine (5µg) immunization – 1 PREVIOUS&quot; schedule (2 dose scheme)
 * Outputs:
 * 	 - Immunize Patient for Meningococcal - 1 Dose
 * References:
 * 	- WHO recommendations for routine immunization - summary tables: https://www.who.int/teams/immunization-vaccines-and-biologicals/policies/who-recommendations-for-routine-immunization---summary-tables
 * Logic:
 *	 ((((((&quot;Meningococcal vaccine immunization history&quot; = &quot;1 dose&quot;) and (&quot;Current Patient Age in Months&quot; >= 3)) and (&quot;Current Patient Age in Months&quot; &lt; 9)) and (&quot;Date last Meningococcal dose given&quot; >= &quot;8 weeks&quot; = true)) and (&quot;Type of last Meningococcal dose&quot; = &quot;MenA conjugate vaccine (5µg)&quot;)) and (&quot;There is a compelling reason to vaccinate infants with Meningococcal between 3 to 9 months old&quot; = true))
 */
define &quot;Should vaccinate patient with MenA conjugate vaccine (5µg) because 1 dose on 2 dose scheme&quot;:
	</a:s>
               <a:s r="79">
                  <a:s>(</a:s>
                  <a:s r="79">
                     <a:s r="75">
                        <a:s>(</a:s>
                        <a:s r="75">
                           <a:s r="70">
                              <a:s>(</a:s>
                              <a:s r="70">
                                 <a:s r="68">
                                    <a:s>(</a:s>
                                    <a:s r="68">
                                       <a:s r="64">
                                          <a:s>(</a:s>
                                          <a:s r="64">
                                             <a:s r="60">
                                                <a:s>(</a:s>
                                                <a:s r="60">
                                                   <a:s>&quot;1 dose&quot;</a:s>
                                                </a:s>
                                                <a:s>)</a:s>
                                             </a:s>
                                             <a:s> and </a:s>
                                             <a:s r="63">
                                                <a:s>(</a:s>
                                                <a:s r="63">
                                                   <a:s r="61">
                                                      <a:s>&quot;Current Patient Age in Months&quot;</a:s>
                                                   </a:s>
                                                   <a:s r="62"> >= 3</a:s>
                                                </a:s>
                                                <a:s>)</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> and </a:s>
                                       <a:s r="67">
                                          <a:s>(</a:s>
                                          <a:s r="67">
                                             <a:s r="65">
                                                <a:s>&quot;Current Patient Age in Months&quot;</a:s>
                                             </a:s>
                                             <a:s r="66"> &lt; 9</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                                 <a:s> and </a:s>
                                 <a:s r="69">
                                    <a:s>(</a:s>
                                    <a:s r="69">
                                       <a:s>&quot;Date last Meningococcal dose given >= 8 weeks&quot;</a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> and </a:s>
                           <a:s r="74">
                              <a:s>(</a:s>
                              <a:s r="74">
                                 <a:s r="71">
                                    <a:s>&quot;Type of last Meningococcal dose&quot;</a:s>
                                 </a:s>
                                 <a:s> in </a:s>
                                 <a:s r="73">
                                    <a:s r="72">
                                       <a:s>IMMZc</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="73">
                                       <a:s>&quot;MenA conjugate vaccine (5µg)&quot;</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                     <a:s> and </a:s>
                     <a:s r="78">
                        <a:s>(</a:s>
                        <a:s r="78">
                           <a:s r="76">
                              <a:s>&quot;There is a compelling reason to vaccinate infants with Meningococcal between 3 to 9 months old&quot;</a:s>
                           </a:s>
                           <a:s r="77"> = true</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
                  <a:s>)</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="79" locator="96:2-96:350" xsi:type="And">
            <operand localId="75" locator="96:3-96:239" xsi:type="And">
               <operand localId="70" locator="96:4-96:158" xsi:type="And">
                  <operand localId="68" locator="96:5-96:103" xsi:type="And">
                     <operand localId="64" locator="96:6-96:60" xsi:type="And">
                        <operand localId="60" locator="96:7-96:16" name="1 dose" xsi:type="ExpressionRef"/>
                        <operand localId="63" locator="96:22-96:59" xsi:type="GreaterOrEqual">
                           <operand localId="61" locator="96:23-96:53" name="Current Patient Age in Months" xsi:type="ExpressionRef"/>
                           <operand localId="62" locator="96:58" valueType="t:Integer" value="3" xsi:type="Literal"/>
                        </operand>
                     </operand>
                     <operand localId="67" locator="96:66-96:102" xsi:type="Less">
                        <operand localId="65" locator="96:67-96:97" name="Current Patient Age in Months" xsi:type="ExpressionRef"/>
                        <operand localId="66" locator="96:101" valueType="t:Integer" value="9" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="69" locator="96:109-96:157" name="Date last Meningococcal dose given >= 8 weeks" xsi:type="ExpressionRef"/>
               </operand>
               <operand localId="74" locator="96:164-96:238" xsi:type="InValueSet">
                  <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <operand localId="71" locator="96:165-96:197" name="Type of last Meningococcal dose" xsi:type="ExpressionRef"/>
                  </code>
                  <valueset localId="73" locator="96:202-96:237" name="MenA conjugate vaccine (5µg)" libraryName="IMMZc"/>
               </operand>
            </operand>
            <operand localId="78" locator="96:245-96:349" xsi:type="Equal">
               <operand localId="76" locator="96:246-96:341" name="There is a compelling reason to vaccinate infants with Meningococcal between 3 to 9 months old" xsi:type="ExpressionRef"/>
               <operand localId="77" locator="96:345-96:348" valueType="t:Boolean" value="true" xsi:type="Literal"/>
            </operand>
         </expression>
      </def>
      <def localId="84" locator="101:1-102:57" name="Meningococcal vaccine immunization history = No-doses" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="84">
               <a:s>/* 
 * @dataElement Meningococcal vaccine immunization history = No-doses
 */
define &quot;Meningococcal vaccine immunization history = No-doses&quot;:
	</a:s>
               <a:s r="83">
                  <a:s>not </a:s>
                  <a:s r="82">
                     <a:s>exists</a:s>
                     <a:s r="81">
                        <a:s>(</a:s>
                        <a:s r="81">
                           <a:s>&quot;Meningococcal vaccine immunization history&quot;</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="83" locator="102:2-102:57" xsi:type="Not">
            <operand localId="82" locator="102:6-102:57" xsi:type="Exists">
               <operand localId="81" locator="102:12-102:57" name="Meningococcal vaccine immunization history" xsi:type="ExpressionRef"/>
            </operand>
         </expression>
      </def>
      <def localId="87" locator="107:1-108:54" name="Region recommends Meningococcal vaccination" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="87">
               <a:s>/* 
 * @dataElement Region recommends Meningococcal vaccination
 */
define &quot;Region recommends Meningococcal vaccination&quot;:
	</a:s>
               <a:s r="86">
                  <a:s r="85">
                     <a:s>IMMZCon</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="86">
                     <a:s>&quot;Region recommends Meningococcal vaccination&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="86" locator="108:2-108:54" name="Region recommends Meningococcal vaccination" libraryName="IMMZCon" xsi:type="ExpressionRef"/>
      </def>
      <def localId="99" locator="121:1-122:203" name="Should vaccinate patient with MenA conjugate vaccine (5µg) on 1 dose scheme" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="99">
               <a:s>/*
 * Rule: Should vaccinate patient with MenA conjugate vaccine (5µg) on 1 dose scheme
 * Annotations:
 * 	 - Provide Meningococcal immunizations – using the &quot;MenA conjugate vaccine (5µg) immunization – NO PREVIOUS&quot; schedule (1 dose scheme)
 * Outputs:
 * 	 - Immunize Patient for Meningococcal - No Doses
 * References:
 * 	- WHO recommendations for routine immunization - summary tables: https://www.who.int/teams/immunization-vaccines-and-biologicals/policies/who-recommendations-for-routine-immunization---summary-tables
 * Logic:
 *	 ((((&quot;Meningococcal vaccine immunization history&quot; = &quot;No-doses&quot; = true) and (&quot;Current Patient Age in Months&quot; >= 9)) and (&quot;Current Patient Age in Months&quot; &lt;= 24)) and (&quot;Region recommends Meningococcal vaccination&quot; = true))
 */
define &quot;Should vaccinate patient with MenA conjugate vaccine (5µg) on 1 dose scheme&quot;:
	</a:s>
               <a:s r="98">
                  <a:s>(</a:s>
                  <a:s r="98">
                     <a:s r="96">
                        <a:s>(</a:s>
                        <a:s r="96">
                           <a:s r="92">
                              <a:s>(</a:s>
                              <a:s r="92">
                                 <a:s r="88">
                                    <a:s>(</a:s>
                                    <a:s r="88">
                                       <a:s>&quot;Meningococcal vaccine immunization history = No-doses&quot;</a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                                 <a:s> and </a:s>
                                 <a:s r="91">
                                    <a:s>(</a:s>
                                    <a:s r="91">
                                       <a:s r="89">
                                          <a:s>&quot;Current Patient Age in Months&quot;</a:s>
                                       </a:s>
                                       <a:s r="90"> >= 9</a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> and </a:s>
                           <a:s r="95">
                              <a:s>(</a:s>
                              <a:s r="95">
                                 <a:s r="93">
                                    <a:s>&quot;Current Patient Age in Months&quot;</a:s>
                                 </a:s>
                                 <a:s r="94"> &lt;= 24</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                     <a:s> and </a:s>
                     <a:s r="97">
                        <a:s>(</a:s>
                        <a:s r="97">
                           <a:s>&quot;Region recommends Meningococcal vaccination&quot;</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
                  <a:s>)</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="98" locator="122:2-122:203" xsi:type="And">
            <operand localId="96" locator="122:3-122:150" xsi:type="And">
               <operand localId="92" locator="122:4-122:105" xsi:type="And">
                  <operand localId="88" locator="122:5-122:61" name="Meningococcal vaccine immunization history = No-doses" xsi:type="ExpressionRef"/>
                  <operand localId="91" locator="122:67-122:104" xsi:type="GreaterOrEqual">
                     <operand localId="89" locator="122:68-122:98" name="Current Patient Age in Months" xsi:type="ExpressionRef"/>
                     <operand localId="90" locator="122:103" valueType="t:Integer" value="9" xsi:type="Literal"/>
                  </operand>
               </operand>
               <operand localId="95" locator="122:111-122:149" xsi:type="LessOrEqual">
                  <operand localId="93" locator="122:112-122:142" name="Current Patient Age in Months" xsi:type="ExpressionRef"/>
                  <operand localId="94" locator="122:147-122:148" valueType="t:Integer" value="24" xsi:type="Literal"/>
               </operand>
            </operand>
            <operand localId="97" locator="122:156-122:202" name="Region recommends Meningococcal vaccination" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="118" locator="128:1-131:79" name="Patient has completed MenA primary series" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="118">
               <a:s>/* 
 * @dataElement Patient has completed Meningococcal primary series
 * TODO: Update so that this is true if &lt; 9 months then doses >= 2 otherwise >= 1
 */
define &quot;Patient has completed MenA primary series&quot;:
	</a:s>
               <a:s r="117">
                  <a:s r="115">
                     <a:s>Max(</a:s>
                     <a:s r="114">
                        <a:s>
                           <a:s r="101">
                              <a:s r="100">
                                 <a:s>
                                    <a:s>IMMZCom.&quot;Meningococcal Doses Administered to Patient&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> I</a:s>
                           </a:s>
                        </a:s>
                        <a:s> </a:s>
                        <a:s r="106">
                           <a:s>where 
		</a:s>
                           <a:s r="106">
                              <a:s r="103">
                                 <a:s r="102">
                                    <a:s>I</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="103">
                                    <a:s>vaccineCode</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> in </a:s>
                              <a:s r="105">
                                 <a:s r="104">
                                    <a:s>IMMZc</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="105">
                                    <a:s>&quot;MenA conjugate vaccine (5µg)&quot;</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s> 
	</a:s>
                        <a:s r="113">
                           <a:s>return </a:s>
                           <a:s r="112">
                              <a:s r="110">
                                 <a:s r="109">
                                    <a:s>(</a:s>
                                    <a:s r="109">
                                       <a:s>singleton from </a:s>
                                       <a:s r="108">
                                          <a:s r="107">
                                             <a:s>I</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="108">
                                             <a:s>protocolApplied</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="110">
                                    <a:s>doseNumber</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> as </a:s>
                              <a:s r="111">
                                 <a:s>FHIR.positiveInt</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
                  <a:s r="116"> >= 3</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="117" locator="129:2-131:79" xsi:type="GreaterOrEqual">
            <operand localId="115" locator="129:2-131:74" xsi:type="Max">
               <source xsi:type="Query">
                  <source alias="X">
                     <expression localId="114" locator="129:6-131:73" xsi:type="Query">
                        <source localId="101" locator="129:6-129:60" alias="I">
                           <expression localId="100" locator="129:6-129:58" name="Meningococcal Doses Administered to Patient" libraryName="IMMZCom" xsi:type="ExpressionRef"/>
                        </source>
                        <where localId="106" locator="129:62-130:55" xsi:type="InValueSet">
                           <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="103" locator="130:3-130:15" path="vaccineCode" scope="I" xsi:type="Property"/>
                           </code>
                           <valueset localId="105" locator="130:20-130:55" name="MenA conjugate vaccine (5µg)" libraryName="IMMZc"/>
                        </where>
                        <return localId="113" locator="131:2-131:73">
                           <expression localId="112" locator="131:9-131:73" strict="false" xsi:type="As">
                              <operand localId="110" locator="131:9-131:53" path="doseNumber" xsi:type="Property">
                                 <source localId="109" locator="131:9-131:42" xsi:type="SingletonFrom">
                                    <operand localId="108" locator="131:25-131:41" path="protocolApplied" scope="I" xsi:type="Property"/>
                                 </source>
                              </operand>
                              <asTypeSpecifier localId="111" locator="131:58-131:73" name="fhir:positiveInt" xsi:type="NamedTypeSpecifier"/>
                           </expression>
                        </return>
                     </expression>
                  </source>
                  <return distinct="false">
                     <expression name="ToInteger" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                        <operand name="X" xsi:type="AliasRef"/>
                     </expression>
                  </return>
               </source>
            </operand>
            <operand localId="116" locator="131:79" valueType="t:Integer" value="3" xsi:type="Literal"/>
         </expression>
      </def>
      <def localId="131" locator="136:1-138:101" name="Date last Meningococcal dose given >= 3 years" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="131">
               <a:s>/* 
 * @dataElement Date last Meningococcal dose given >= 3 years
 */
define &quot;Date last Meningococcal dose given >= 3 years&quot;:
	</a:s>
               <a:s r="130">
                  <a:s r="124">
                     <a:s r="121">
                        <a:s>
                           <a:s r="120">
                              <a:s r="119">
                                 <a:s>
                                    <a:s>IMMZCom.&quot;Date last Meningococcal dose Administered to Patient&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> equal</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s> </a:s>
                     <a:s r="124">
                        <a:s r="123">
                           <a:s>3 'years'</a:s>
                        </a:s>
                        <a:s> before</a:s>
                     </a:s>
                     <a:s> </a:s>
                     <a:s r="122">
                        <a:s>Today()</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
	or </a:s>
                  <a:s r="129">
                     <a:s r="126">
                        <a:s r="125">
                           <a:s>IMMZCom</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="126">
                           <a:s>&quot;Date last Meningococcal dose Administered to Patient&quot;</a:s>
                        </a:s>
                     </a:s>
                     <a:s> </a:s>
                     <a:s r="129">
                        <a:s>more than </a:s>
                        <a:s r="128">
                           <a:s>3 'years'</a:s>
                        </a:s>
                        <a:s> before</a:s>
                     </a:s>
                     <a:s> </a:s>
                     <a:s r="127">
                        <a:s>Today()</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="130" locator="137:2-138:101" xsi:type="Or">
            <operand localId="124" locator="137:2-137:94" xsi:type="SameAs">
               <operand localId="121" locator="137:2-137:69" xsi:type="Query">
                  <source localId="120" locator="137:2-137:69" alias="equal">
                     <expression localId="119" locator="137:2-137:63" name="Date last Meningococcal dose Administered to Patient" libraryName="IMMZCom" xsi:type="ExpressionRef"/>
                  </source>
               </operand>
               <operand locator="137:88-137:94" xsi:type="Subtract">
                  <operand localId="122" locator="137:88-137:94" xsi:type="Today"/>
                  <operand localId="123" locator="137:71-137:79" value="3" unit="years" xsi:type="Quantity"/>
               </operand>
            </operand>
            <operand localId="129" locator="138:5-138:101" xsi:type="Before">
               <operand localId="126" locator="138:5-138:66" name="Date last Meningococcal dose Administered to Patient" libraryName="IMMZCom" xsi:type="ExpressionRef"/>
               <operand locator="138:95-138:101" xsi:type="Subtract">
                  <operand localId="127" locator="138:95-138:101" xsi:type="Today"/>
                  <operand localId="128" locator="138:78-138:86" value="3" unit="years" xsi:type="Quantity"/>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="144" locator="143:1-145:101" name="Date last Meningococcal dose given &lt;= 5 years" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="144">
               <a:s>/* 
 * @dataElement Date last Meningococcal dose given &lt;= 5 years
 */
define &quot;Date last Meningococcal dose given &lt;= 5 years&quot;:
	</a:s>
               <a:s r="143">
                  <a:s r="137">
                     <a:s r="134">
                        <a:s>
                           <a:s r="133">
                              <a:s r="132">
                                 <a:s>
                                    <a:s>IMMZCom.&quot;Date last Meningococcal dose Administered to Patient&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> equal</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s> </a:s>
                     <a:s r="137">
                        <a:s r="136">
                           <a:s>5 'years'</a:s>
                        </a:s>
                        <a:s> before</a:s>
                     </a:s>
                     <a:s> </a:s>
                     <a:s r="135">
                        <a:s>Today()</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
	or </a:s>
                  <a:s r="142">
                     <a:s r="139">
                        <a:s r="138">
                           <a:s>IMMZCom</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="139">
                           <a:s>&quot;Date last Meningococcal dose Administered to Patient&quot;</a:s>
                        </a:s>
                     </a:s>
                     <a:s> </a:s>
                     <a:s r="142">
                        <a:s>less than </a:s>
                        <a:s r="141">
                           <a:s>5 'years'</a:s>
                        </a:s>
                        <a:s> before</a:s>
                     </a:s>
                     <a:s> </a:s>
                     <a:s r="140">
                        <a:s>Today()</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="143" locator="144:2-145:101" xsi:type="Or">
            <operand localId="137" locator="144:2-144:94" xsi:type="SameAs">
               <operand localId="134" locator="144:2-144:69" xsi:type="Query">
                  <source localId="133" locator="144:2-144:69" alias="equal">
                     <expression localId="132" locator="144:2-144:63" name="Date last Meningococcal dose Administered to Patient" libraryName="IMMZCom" xsi:type="ExpressionRef"/>
                  </source>
               </operand>
               <operand locator="144:88-144:94" xsi:type="Subtract">
                  <operand localId="135" locator="144:88-144:94" xsi:type="Today"/>
                  <operand localId="136" locator="144:71-144:79" value="5" unit="years" xsi:type="Quantity"/>
               </operand>
            </operand>
            <operand localId="142" locator="145:5-145:101" xsi:type="In">
               <operand localId="139" locator="145:5-145:66" name="Date last Meningococcal dose Administered to Patient" libraryName="IMMZCom" xsi:type="ExpressionRef"/>
               <operand locator="145:68-145:86" lowClosed="false" highClosed="false" xsi:type="Interval">
                  <low locator="145:95-145:101" xsi:type="Subtract">
                     <operand localId="140" locator="145:95-145:101" xsi:type="Today"/>
                     <operand localId="141" locator="145:78-145:86" value="5" unit="years" xsi:type="Quantity"/>
                  </low>
                  <high localId="140" locator="145:95-145:101" xsi:type="Today"/>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="168" locator="241:1-244:23" name="Age when patient received 1st dose" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="168">
               <a:s>/* 
 * @dataElement Age when patient received 1st dose
 */
define &quot;Age when patient received 1st dose&quot;:
	</a:s>
               <a:s r="167">
                  <a:s>AgeInMonthsAt(</a:s>
                  <a:s r="166">
                     <a:s>First(</a:s>
                     <a:s r="165">
                        <a:s>
                           <a:s r="155">
                              <a:s r="154">
                                 <a:s>
                                    <a:s>IMMZCom.&quot;Meningococcal Doses Administered to Patient&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> I</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
		</a:s>
                        <a:s r="161">
                           <a:s>where </a:s>
                           <a:s r="161">
                              <a:s r="159">
                                 <a:s r="158">
                                    <a:s>(</a:s>
                                    <a:s r="158">
                                       <a:s>singleton from </a:s>
                                       <a:s r="157">
                                          <a:s r="156">
                                             <a:s>I</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="157">
                                             <a:s>protocolApplied</a:s>
                                          </a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="159">
                                    <a:s>doseNumber</a:s>
                                 </a:s>
                              </a:s>
                              <a:s r="160"> = 1</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
		</a:s>
                        <a:s r="164">
                           <a:s>return </a:s>
                           <a:s r="163">
                              <a:s r="162">
                                 <a:s>I</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="163">
                                 <a:s>occurrence</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
                  <a:s>)</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="167" locator="242:2-244:23" precision="Month" xsi:type="CalculateAgeAt">
            <operand xsi:type="ToDateTime">
               <operand path="birthDate.value" xsi:type="Property">
                  <source name="Patient" xsi:type="ExpressionRef"/>
               </operand>
            </operand>
            <operand name="ToDateTime" libraryName="FHIRHelpers" xsi:type="FunctionRef">
               <operand asType="fhir:dateTime" xsi:type="As">
                  <operand localId="166" locator="242:16-244:22" xsi:type="First">
                     <source localId="165" locator="242:22-244:21" xsi:type="Query">
                        <source localId="155" locator="242:22-242:76" alias="I">
                           <expression localId="154" locator="242:22-242:74" name="Meningococcal Doses Administered to Patient" libraryName="IMMZCom" xsi:type="ExpressionRef"/>
                        </source>
                        <where localId="161" locator="243:3-243:57" xsi:type="Equal">
                           <operand xsi:type="ToInteger">
                              <operand localId="159" locator="243:9-243:53" path="doseNumber" xsi:type="Property">
                                 <source localId="158" locator="243:9-243:42" xsi:type="SingletonFrom">
                                    <operand localId="157" locator="243:25-243:41" path="protocolApplied" scope="I" xsi:type="Property"/>
                                 </source>
                              </operand>
                           </operand>
                           <operand localId="160" locator="243:57" valueType="t:Integer" value="1" xsi:type="Literal"/>
                        </where>
                        <return localId="164" locator="244:3-244:21">
                           <expression localId="163" locator="244:10-244:21" path="occurrence" scope="I" xsi:type="Property"/>
                        </return>
                     </source>
                  </operand>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="192" locator="150:1-157:5" name="Patient Has Not Received MenA Booster" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="192">
               <a:s>/** 
 * @dataElement Patient not received a MenA booster
 */
define &quot;Patient Has Not Received MenA Booster&quot;:
	</a:s>
               <a:s r="191">
                  <a:s>not </a:s>
                  <a:s r="190">
                     <a:s>exists</a:s>
                     <a:s r="189">
                        <a:s>(
		</a:s>
                        <a:s r="189">
                           <a:s>
                              <a:s r="146">
                                 <a:s r="145">
                                    <a:s>
                                       <a:s>IMMZCom.&quot;Meningococcal Doses Administered to Patient&quot;</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> I</a:s>
                              </a:s>
                           </a:s>
                           <a:s> 
		</a:s>
                           <a:s r="188">
                              <a:s>where </a:s>
                              <a:s r="188">
                                 <a:s r="151">
                                    <a:s r="148">
                                       <a:s r="147">
                                          <a:s>I</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="148">
                                          <a:s>vaccineCode</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="150">
                                       <a:s r="149">
                                          <a:s>IMMZc</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="150">
                                          <a:s>&quot;MenA conjugate vaccine (5µg)&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> 
		and </a:s>
                                 <a:s r="187">
                                    <a:s>exists</a:s>
                                    <a:s r="186">
                                       <a:s>(</a:s>
                                       <a:s r="186">
                                          <a:s>
                                             <a:s r="153">
                                                <a:s r="152">
                                                   <a:s>
                                                      <a:s>I.protocolApplied</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s> P</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> 
			</a:s>
                                          <a:s r="185">
                                             <a:s>where </a:s>
                                             <a:s r="185">
                                                <a:s r="176">
                                                   <a:s>(</a:s>
                                                   <a:s r="176">
                                                      <a:s r="171">
                                                         <a:s r="169">
                                                            <a:s>&quot;Age when patient received 1st dose&quot;</a:s>
                                                         </a:s>
                                                         <a:s r="170"> &lt; 9</a:s>
                                                      </a:s>
                                                      <a:s> and </a:s>
                                                      <a:s r="175">
                                                         <a:s r="173">
                                                            <a:s r="172">
                                                               <a:s>P</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="173">
                                                               <a:s>doseNumber</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s r="174"> = 3</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>)</a:s>
                                                </a:s>
                                                <a:s> or
			</a:s>
                                                <a:s r="184">
                                                   <a:s>(</a:s>
                                                   <a:s r="184">
                                                      <a:s r="179">
                                                         <a:s r="177">
                                                            <a:s>&quot;Age when patient received 1st dose&quot;</a:s>
                                                         </a:s>
                                                         <a:s r="178"> >= 9</a:s>
                                                      </a:s>
                                                      <a:s> and </a:s>
                                                      <a:s r="183">
                                                         <a:s r="181">
                                                            <a:s r="180">
                                                               <a:s>P</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="181">
                                                               <a:s>doseNumber</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s r="182"> = 2</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>)</a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
			)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="191" locator="151:2-157:5" xsi:type="Not">
            <operand localId="190" locator="151:6-157:5" xsi:type="Exists">
               <operand localId="189" locator="151:12-157:5" xsi:type="Query">
                  <source localId="146" locator="152:3-152:57" alias="I">
                     <expression localId="145" locator="152:3-152:55" name="Meningococcal Doses Administered to Patient" libraryName="IMMZCom" xsi:type="ExpressionRef"/>
                  </source>
                  <where localId="188" locator="153:3-157:4" xsi:type="And">
                     <operand localId="151" locator="153:9-153:61" xsi:type="InValueSet">
                        <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="148" locator="153:9-153:21" path="vaccineCode" scope="I" xsi:type="Property"/>
                        </code>
                        <valueset localId="150" locator="153:26-153:61" name="MenA conjugate vaccine (5µg)" libraryName="IMMZc"/>
                     </operand>
                     <operand localId="187" locator="154:7-157:4" xsi:type="Exists">
                        <operand localId="186" locator="154:13-157:4" xsi:type="Query">
                           <source localId="153" locator="154:14-154:32" alias="P">
                              <expression localId="152" locator="154:14-154:30" path="protocolApplied" scope="I" xsi:type="Property"/>
                           </source>
                           <where localId="185" locator="155:4-156:67" xsi:type="Or">
                              <operand localId="176" locator="155:10-155:72" xsi:type="And">
                                 <operand localId="171" locator="155:11-155:50" xsi:type="Less">
                                    <operand localId="169" locator="155:11-155:46" name="Age when patient received 1st dose" xsi:type="ExpressionRef"/>
                                    <operand localId="170" locator="155:50" valueType="t:Integer" value="9" xsi:type="Literal"/>
                                 </operand>
                                 <operand localId="175" locator="155:56-155:71" xsi:type="Equal">
                                    <operand xsi:type="ToInteger">
                                       <operand localId="173" locator="155:56-155:67" path="doseNumber" scope="P" xsi:type="Property"/>
                                    </operand>
                                    <operand localId="174" locator="155:71" valueType="t:Integer" value="3" xsi:type="Literal"/>
                                 </operand>
                              </operand>
                              <operand localId="184" locator="156:4-156:67" xsi:type="And">
                                 <operand localId="179" locator="156:5-156:45" xsi:type="GreaterOrEqual">
                                    <operand localId="177" locator="156:5-156:40" name="Age when patient received 1st dose" xsi:type="ExpressionRef"/>
                                    <operand localId="178" locator="156:45" valueType="t:Integer" value="9" xsi:type="Literal"/>
                                 </operand>
                                 <operand localId="183" locator="156:51-156:66" xsi:type="Equal">
                                    <operand xsi:type="ToInteger">
                                       <operand localId="181" locator="156:51-156:62" path="doseNumber" scope="P" xsi:type="Property"/>
                                    </operand>
                                    <operand localId="182" locator="156:66" valueType="t:Integer" value="2" xsi:type="Literal"/>
                                 </operand>
                              </operand>
                           </where>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="209" locator="172:1-174:44" name="Should vaccinate patient with MenA conjugate vaccine (5µg) non-recurring booster 3-5 years after last shot" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="209">
               <a:s>/*
 * Rule: Should vaccinate patient with MenA conjugate vaccine (5µg) non-recurring booster 3-5 years after last shot
 * Annotations:
 * 	 - Provide Meningococcal immunizations – using the &quot;MenA conjugate vaccine (5µg) immunization – Single non-recurring BOOSTER&quot; schedule (1 dose booster)
 * Outputs:
 * 	 - Immunize Patient for Meningococcal - Non-recurring Booster
 * References:
 * 	- WHO recommendations for routine immunization - summary tables: https://www.who.int/teams/immunization-vaccines-and-biologicals/policies/who-recommendations-for-routine-immunization---summary-tables
 * Logic:
 *	 ((((((&quot;Patient has completed Meningococcal primary series&quot; = true) and (&quot;Date last Meningococcal dose given&quot; >= &quot;3 years&quot; = true)) and (&quot;Date last Meningococcal dose given&quot; &lt;= &quot;5 years&quot; = true)) and (&quot;Type of last Meningococcal dose&quot; = &quot;MenA conjugate vaccine (5µg)&quot;)) and (&quot;Individual has a continued high risk of exposure (including health workers)&quot; = true)) and (&quot;Region recommends Meningococcal vaccination&quot; = true))
 */
define &quot;Should vaccinate patient with MenA conjugate vaccine (5µg) non-recurring booster 3-5 years after last shot&quot;:
	</a:s>
               <a:s r="208">
                  <a:s r="206">
                     <a:s>(</a:s>
                     <a:s r="206">
                        <a:s r="204">
                           <a:s>(</a:s>
                           <a:s r="204">
                              <a:s r="202">
                                 <a:s>(</a:s>
                                 <a:s r="202">
                                    <a:s r="197">
                                       <a:s>(</a:s>
                                       <a:s r="197">
                                          <a:s r="195">
                                             <a:s>(</a:s>
                                             <a:s r="195">
                                                <a:s r="193">
                                                   <a:s>(</a:s>
                                                   <a:s r="193">
                                                      <a:s>&quot;Patient has completed MenA primary series&quot;</a:s>
                                                   </a:s>
                                                   <a:s>)</a:s>
                                                </a:s>
                                                <a:s> and </a:s>
                                                <a:s r="194">
                                                   <a:s>(</a:s>
                                                   <a:s r="194">
                                                      <a:s>&quot;Date last Meningococcal dose given >= 3 years&quot;</a:s>
                                                   </a:s>
                                                   <a:s>)</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s> and </a:s>
                                          <a:s r="196">
                                             <a:s>(</a:s>
                                             <a:s r="196">
                                                <a:s>&quot;Date last Meningococcal dose given &lt;= 5 years&quot;</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> and </a:s>
                                    <a:s r="201">
                                       <a:s>(</a:s>
                                       <a:s r="201">
                                          <a:s r="198">
                                             <a:s>&quot;Type of last Meningococcal dose&quot;</a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="200">
                                             <a:s r="199">
                                                <a:s>IMMZc</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="200">
                                                <a:s>&quot;MenA conjugate vaccine (5µg)&quot;</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s> and </a:s>
                              <a:s r="203">
                                 <a:s>(</a:s>
                                 <a:s r="203">
                                    <a:s>&quot;Individual has a continued high risk of exposure (including health workers)&quot;</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                        <a:s> and </a:s>
                        <a:s r="205">
                           <a:s>(</a:s>
                           <a:s r="205">
                              <a:s>&quot;Region recommends Meningococcal vaccination&quot;</a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
                  <a:s>
	and </a:s>
                  <a:s r="207">
                     <a:s>&quot;Patient Has Not Received MenA Booster&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="208" locator="173:2-174:44" xsi:type="And">
            <operand localId="206" locator="173:2-173:380" xsi:type="And">
               <operand localId="204" locator="173:3-173:327" xsi:type="And">
                  <operand localId="202" locator="173:4-173:242" xsi:type="And">
                     <operand localId="197" locator="173:5-173:161" xsi:type="And">
                        <operand localId="195" locator="173:6-173:106" xsi:type="And">
                           <operand localId="193" locator="173:7-173:51" name="Patient has completed MenA primary series" xsi:type="ExpressionRef"/>
                           <operand localId="194" locator="173:57-173:105" name="Date last Meningococcal dose given >= 3 years" xsi:type="ExpressionRef"/>
                        </operand>
                        <operand localId="196" locator="173:112-173:160" name="Date last Meningococcal dose given &lt;= 5 years" xsi:type="ExpressionRef"/>
                     </operand>
                     <operand localId="201" locator="173:167-173:241" xsi:type="InValueSet">
                        <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="198" locator="173:168-173:200" name="Type of last Meningococcal dose" xsi:type="ExpressionRef"/>
                        </code>
                        <valueset localId="200" locator="173:205-173:240" name="MenA conjugate vaccine (5µg)" libraryName="IMMZc"/>
                     </operand>
                  </operand>
                  <operand localId="203" locator="173:248-173:326" name="Individual has a continued high risk of exposure (including health workers)" xsi:type="ParameterRef"/>
               </operand>
               <operand localId="205" locator="173:333-173:379" name="Region recommends Meningococcal vaccination" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="207" locator="174:6-174:44" name="Patient Has Not Received MenA Booster" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="217" locator="187:1-188:113" name="Should vaccinate patient with monovalent MenC conjugate vaccine because no dose on 1 dose scheme" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="217">
               <a:s>/*
 * Rule: Should vaccinate patient with monovalent MenC conjugate vaccine because no dose on 1 dose scheme
 * Annotations:
 * 	 - Provide Meningococcal immunizations – using the &quot;monovalent MenC conjugate vaccine immunization – NO PREVIOUS&quot; schedule (1 dose scheme)
 * Outputs:
 * 	 - Immunize Patient for Meningococcal - No Doses
 * References:
 * 	- WHO recommendations for routine immunization - summary tables: https://www.who.int/teams/immunization-vaccines-and-biologicals/policies/who-recommendations-for-routine-immunization---summary-tables
 * Logic:
 *	 (((&quot;Meningococcal vaccine immunization history&quot; = &quot;No-doses&quot;) and (&quot;Current Patient Age in Months&quot; >= 12)) and (&quot;Region recommends Meningococcal vaccination&quot; = true))
 */
define &quot;Should vaccinate patient with monovalent MenC conjugate vaccine because no dose on 1 dose scheme&quot;:
	</a:s>
               <a:s r="216">
                  <a:s>(</a:s>
                  <a:s r="216">
                     <a:s r="214">
                        <a:s>(</a:s>
                        <a:s r="214">
                           <a:s r="210">
                              <a:s>(</a:s>
                              <a:s r="210">
                                 <a:s>&quot;No-doses&quot;</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> and </a:s>
                           <a:s r="213">
                              <a:s>(</a:s>
                              <a:s r="213">
                                 <a:s r="211">
                                    <a:s>&quot;Current Patient Age in Months&quot;</a:s>
                                 </a:s>
                                 <a:s r="212"> >= 12</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                     <a:s> and </a:s>
                     <a:s r="215">
                        <a:s>(</a:s>
                        <a:s r="215">
                           <a:s>&quot;Region recommends Meningococcal vaccination&quot;</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
                  <a:s>)</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="216" locator="188:2-188:113" xsi:type="And">
            <operand localId="214" locator="188:3-188:60" xsi:type="And">
               <operand localId="210" locator="188:4-188:15" name="No-doses" xsi:type="ExpressionRef"/>
               <operand localId="213" locator="188:21-188:59" xsi:type="GreaterOrEqual">
                  <operand localId="211" locator="188:22-188:52" name="Current Patient Age in Months" xsi:type="ExpressionRef"/>
                  <operand localId="212" locator="188:57-188:58" valueType="t:Integer" value="12" xsi:type="Literal"/>
               </operand>
            </operand>
            <operand localId="215" locator="188:66-188:112" name="Region recommends Meningococcal vaccination" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="229" locator="201:1-202:158" name="Should vaccinate patient with monovalent MenC conjugate vaccine because no dose on 2 dose scheme" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="229">
               <a:s>/*
 * Rule: Should vaccinate patient with monovalent MenC conjugate vaccine because no dose on 2 dose scheme
 * Annotations:
 * 	 - Provide Meningococcal immunizations – using the &quot;monovalent MenC conjugate vaccine immunization – NO PREVIOUS&quot; schedule (2 dose scheme)
 * Outputs:
 * 	 - Immunize Patient for Meningococcal - No Doses
 * References:
 * 	- WHO recommendations for routine immunization - summary tables: https://www.who.int/teams/immunization-vaccines-and-biologicals/policies/who-recommendations-for-routine-immunization---summary-tables
 * Logic:
 *	 ((((&quot;Meningococcal vaccine immunization history&quot; = &quot;No-doses&quot;) and (&quot;Current Patient Age in Months&quot; >= 2)) and (&quot;Current Patient Age in Months&quot; &lt;= 11)) and (&quot;Region recommends Meningococcal vaccination&quot; = true))
 */
define &quot;Should vaccinate patient with monovalent MenC conjugate vaccine because no dose on 2 dose scheme&quot;:
	</a:s>
               <a:s r="228">
                  <a:s>(</a:s>
                  <a:s r="228">
                     <a:s r="226">
                        <a:s>(</a:s>
                        <a:s r="226">
                           <a:s r="222">
                              <a:s>(</a:s>
                              <a:s r="222">
                                 <a:s r="218">
                                    <a:s>(</a:s>
                                    <a:s r="218">
                                       <a:s>&quot;No-doses&quot;</a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                                 <a:s> and </a:s>
                                 <a:s r="221">
                                    <a:s>(</a:s>
                                    <a:s r="221">
                                       <a:s r="219">
                                          <a:s>&quot;Current Patient Age in Months&quot;</a:s>
                                       </a:s>
                                       <a:s r="220"> >= 2</a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> and </a:s>
                           <a:s r="225">
                              <a:s>(</a:s>
                              <a:s r="225">
                                 <a:s r="223">
                                    <a:s>&quot;Current Patient Age in Months&quot;</a:s>
                                 </a:s>
                                 <a:s r="224"> &lt;= 11</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                     <a:s> and </a:s>
                     <a:s r="227">
                        <a:s>(</a:s>
                        <a:s r="227">
                           <a:s>&quot;Region recommends Meningococcal vaccination&quot;</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
                  <a:s>)</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="228" locator="202:2-202:158" xsi:type="And">
            <operand localId="226" locator="202:3-202:105" xsi:type="And">
               <operand localId="222" locator="202:4-202:60" xsi:type="And">
                  <operand localId="218" locator="202:5-202:16" name="No-doses" xsi:type="ExpressionRef"/>
                  <operand localId="221" locator="202:22-202:59" xsi:type="GreaterOrEqual">
                     <operand localId="219" locator="202:23-202:53" name="Current Patient Age in Months" xsi:type="ExpressionRef"/>
                     <operand localId="220" locator="202:58" valueType="t:Integer" value="2" xsi:type="Literal"/>
                  </operand>
               </operand>
               <operand localId="225" locator="202:66-202:104" xsi:type="LessOrEqual">
                  <operand localId="223" locator="202:67-202:97" name="Current Patient Age in Months" xsi:type="ExpressionRef"/>
                  <operand localId="224" locator="202:102-202:103" valueType="t:Integer" value="11" xsi:type="Literal"/>
               </operand>
            </operand>
            <operand localId="227" locator="202:111-202:157" name="Region recommends Meningococcal vaccination" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="232" locator="207:1-208:34" name="monovalent MenC conjugate" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="232">
               <a:s>/* 
 * @dataElement monovalent MenC conjugate
 */
define &quot;monovalent MenC conjugate&quot;:
	</a:s>
               <a:s r="231">
                  <a:s r="230">
                     <a:s>IMMZc</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="231">
                     <a:s>&quot;monovalent MenC conjugate&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="231" locator="208:2-208:34" name="monovalent MenC conjugate" libraryName="IMMZc" xsi:type="ValueSetRef"/>
      </def>
      <def localId="249" locator="222:1-223:237" name="Should vaccinate patient with monovalent MenC conjugate vaccine because 1 dose on 2 dose scheme" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="249">
               <a:s>/*
 * Rule: Should vaccinate patient with monovalent MenC conjugate vaccine because 1 dose on 2 dose scheme
 * Annotations:
 * 	 - Provide Meningococcal immunizations – using the &quot;monovalent MenC conjugate vaccine immunization – 1 PREVIOUS&quot; schedule (2 dose scheme)
 * Outputs:
 * 	 - Immunize Patient for Meningococcal - 1 Dose
 * References:
 * 	- WHO recommendations for routine immunization - summary tables: https://www.who.int/teams/immunization-vaccines-and-biologicals/policies/who-recommendations-for-routine-immunization---summary-tables
 * Logic:
 *	 (((((&quot;Meningococcal vaccine immunization history&quot; = &quot;1 dose&quot;) and (&quot;Current Patient Age in Months&quot; >= 2)) and (&quot;Current Patient Age in Months&quot; &lt;= 11)) and (&quot;Date last Meningococcal dose given&quot; >= &quot;8 weeks&quot; = true)) and (&quot;Type of last Meningococcal dose&quot; = &quot;monovalent MenC conjugate&quot;))
 */
define &quot;Should vaccinate patient with monovalent MenC conjugate vaccine because 1 dose on 2 dose scheme&quot;:
	</a:s>
               <a:s r="248">
                  <a:s>(</a:s>
                  <a:s r="248">
                     <a:s r="243">
                        <a:s>(</a:s>
                        <a:s r="243">
                           <a:s r="241">
                              <a:s>(</a:s>
                              <a:s r="241">
                                 <a:s r="237">
                                    <a:s>(</a:s>
                                    <a:s r="237">
                                       <a:s r="233">
                                          <a:s>(</a:s>
                                          <a:s r="233">
                                             <a:s>&quot;1 dose&quot;</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                       <a:s> and </a:s>
                                       <a:s r="236">
                                          <a:s>(</a:s>
                                          <a:s r="236">
                                             <a:s r="234">
                                                <a:s>&quot;Current Patient Age in Months&quot;</a:s>
                                             </a:s>
                                             <a:s r="235"> >= 2</a:s>
                                          </a:s>
                                          <a:s>)</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                                 <a:s> and </a:s>
                                 <a:s r="240">
                                    <a:s>(</a:s>
                                    <a:s r="240">
                                       <a:s r="238">
                                          <a:s>&quot;Current Patient Age in Months&quot;</a:s>
                                       </a:s>
                                       <a:s r="239"> &lt;= 11</a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> and </a:s>
                           <a:s r="242">
                              <a:s>(</a:s>
                              <a:s r="242">
                                 <a:s>&quot;Date last Meningococcal dose given >= 8 weeks&quot;</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                     <a:s> and </a:s>
                     <a:s r="247">
                        <a:s>(</a:s>
                        <a:s r="247">
                           <a:s r="244">
                              <a:s>&quot;Type of last Meningococcal dose&quot;</a:s>
                           </a:s>
                           <a:s> in </a:s>
                           <a:s r="246">
                              <a:s r="245">
                                 <a:s>IMMZc</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="246">
                                 <a:s>&quot;monovalent MenC conjugate&quot;</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
                  <a:s>)</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="248" locator="223:2-223:237" xsi:type="And">
            <operand localId="243" locator="223:3-223:159" xsi:type="And">
               <operand localId="241" locator="223:4-223:104" xsi:type="And">
                  <operand localId="237" locator="223:5-223:59" xsi:type="And">
                     <operand localId="233" locator="223:6-223:15" name="1 dose" xsi:type="ExpressionRef"/>
                     <operand localId="236" locator="223:21-223:58" xsi:type="GreaterOrEqual">
                        <operand localId="234" locator="223:22-223:52" name="Current Patient Age in Months" xsi:type="ExpressionRef"/>
                        <operand localId="235" locator="223:57" valueType="t:Integer" value="2" xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <operand localId="240" locator="223:65-223:103" xsi:type="LessOrEqual">
                     <operand localId="238" locator="223:66-223:96" name="Current Patient Age in Months" xsi:type="ExpressionRef"/>
                     <operand localId="239" locator="223:101-223:102" valueType="t:Integer" value="11" xsi:type="Literal"/>
                  </operand>
               </operand>
               <operand localId="242" locator="223:110-223:158" name="Date last Meningococcal dose given >= 8 weeks" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="247" locator="223:165-223:236" xsi:type="InValueSet">
               <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                  <operand localId="244" locator="223:166-223:198" name="Type of last Meningococcal dose" xsi:type="ExpressionRef"/>
               </code>
               <valueset localId="246" locator="223:203-223:235" name="monovalent MenC conjugate" libraryName="IMMZc"/>
            </operand>
         </expression>
      </def>
      <def localId="254" locator="228:1-229:68" name="2 doses" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="254">
               <a:s>/* 
 * @dataElement 2 doses
 */
define &quot;2 doses&quot;:
	</a:s>
               <a:s r="253">
                  <a:s r="251">
                     <a:s r="250">
                        <a:s>IMMZCom</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="251">
                        <a:s>&quot;Number of Meningococcal Doses Administered to Patient&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s r="252"> = 2</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="253" locator="229:2-229:68" xsi:type="Equal">
            <operand localId="251" locator="229:2-229:64" name="Number of Meningococcal Doses Administered to Patient" libraryName="IMMZCom" xsi:type="ExpressionRef"/>
            <operand localId="252" locator="229:68" valueType="t:Integer" value="2" xsi:type="Literal"/>
         </expression>
      </def>
      <def localId="267" locator="234:1-236:101" name="Date last Meningococcal dose given >= 1 year" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="267">
               <a:s>/* 
 * @dataElement Date last Meningococcal dose given >= 1 year
 */
define &quot;Date last Meningococcal dose given >= 1 year&quot;:
	</a:s>
               <a:s r="266">
                  <a:s r="260">
                     <a:s r="257">
                        <a:s>
                           <a:s r="256">
                              <a:s r="255">
                                 <a:s>
                                    <a:s>IMMZCom.&quot;Date last Meningococcal dose Administered to Patient&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> equal</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s> </a:s>
                     <a:s r="260">
                        <a:s r="259">
                           <a:s>1 'years'</a:s>
                        </a:s>
                        <a:s> before</a:s>
                     </a:s>
                     <a:s> </a:s>
                     <a:s r="258">
                        <a:s>Today()</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
	or </a:s>
                  <a:s r="265">
                     <a:s r="262">
                        <a:s r="261">
                           <a:s>IMMZCom</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="262">
                           <a:s>&quot;Date last Meningococcal dose Administered to Patient&quot;</a:s>
                        </a:s>
                     </a:s>
                     <a:s> </a:s>
                     <a:s r="265">
                        <a:s>more than </a:s>
                        <a:s r="264">
                           <a:s>1 'years'</a:s>
                        </a:s>
                        <a:s> before</a:s>
                     </a:s>
                     <a:s> </a:s>
                     <a:s r="263">
                        <a:s>Today()</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="266" locator="235:2-236:101" xsi:type="Or">
            <operand localId="260" locator="235:2-235:94" xsi:type="SameAs">
               <operand localId="257" locator="235:2-235:69" xsi:type="Query">
                  <source localId="256" locator="235:2-235:69" alias="equal">
                     <expression localId="255" locator="235:2-235:63" name="Date last Meningococcal dose Administered to Patient" libraryName="IMMZCom" xsi:type="ExpressionRef"/>
                  </source>
               </operand>
               <operand locator="235:88-235:94" xsi:type="Subtract">
                  <operand localId="258" locator="235:88-235:94" xsi:type="Today"/>
                  <operand localId="259" locator="235:71-235:79" value="1" unit="years" xsi:type="Quantity"/>
               </operand>
            </operand>
            <operand localId="265" locator="236:5-236:101" xsi:type="Before">
               <operand localId="262" locator="236:5-236:66" name="Date last Meningococcal dose Administered to Patient" libraryName="IMMZCom" xsi:type="ExpressionRef"/>
               <operand locator="236:95-236:101" xsi:type="Subtract">
                  <operand localId="263" locator="236:95-236:101" xsi:type="Today"/>
                  <operand localId="264" locator="236:78-236:86" value="1" unit="years" xsi:type="Quantity"/>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="269" locator="249:1-250:11" name="2 months" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="269">
               <a:s>// TODO: Define this

/* 
 * @dataElement 2 months
 */
define &quot;2 months&quot;:
	</a:s>
               <a:s r="268">
                  <a:s>2 'months'</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="268" locator="250:2-250:11" value="2" unit="months" xsi:type="Quantity"/>
      </def>
      <def localId="271" locator="255:1-256:12" name="11 months" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="271">
               <a:s>/* 
 * @dataElement 11 months
 */
define &quot;11 months&quot;:
	</a:s>
               <a:s r="270">
                  <a:s>11 'months'</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="270" locator="256:2-256:12" value="11" unit="months" xsi:type="Quantity"/>
      </def>
      <def localId="305" locator="261:1-268:5" name="Patient Has Not Received 1st MenC Booster" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="305">
               <a:s>/**
 * @dataElement Patient has received dose 3 (booster) if beween 2 and 11 months or dose 2 (booster) if > 12 months
 */
define &quot;Patient Has Not Received 1st MenC Booster&quot;:
	</a:s>
               <a:s r="304">
                  <a:s>not </a:s>
                  <a:s r="303">
                     <a:s>exists</a:s>
                     <a:s r="302">
                        <a:s>(
		</a:s>
                        <a:s r="302">
                           <a:s>
                              <a:s r="273">
                                 <a:s r="272">
                                    <a:s>
                                       <a:s>IMMZCom.&quot;Meningococcal Doses Administered to Patient&quot;</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> I</a:s>
                              </a:s>
                           </a:s>
                           <a:s> 
		</a:s>
                           <a:s r="301">
                              <a:s>where </a:s>
                              <a:s r="301">
                                 <a:s r="278">
                                    <a:s r="275">
                                       <a:s r="274">
                                          <a:s>I</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="275">
                                          <a:s>vaccineCode</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="277">
                                       <a:s r="276">
                                          <a:s>IMMZc</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="277">
                                          <a:s>&quot;monovalent MenC conjugate&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> 
		and </a:s>
                                 <a:s r="300">
                                    <a:s>exists</a:s>
                                    <a:s r="299">
                                       <a:s>(</a:s>
                                       <a:s r="299">
                                          <a:s>
                                             <a:s r="280">
                                                <a:s r="279">
                                                   <a:s>
                                                      <a:s>I.protocolApplied</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s> P</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> 
			</a:s>
                                          <a:s r="298">
                                             <a:s>where </a:s>
                                             <a:s r="298">
                                                <a:s r="289">
                                                   <a:s>(</a:s>
                                                   <a:s r="289">
                                                      <a:s r="284">
                                                         <a:s r="281">
                                                            <a:s>&quot;Age when patient received 1st dose&quot;</a:s>
                                                         </a:s>
                                                         <a:s> between </a:s>
                                                         <a:s r="282">
                                                            <a:s>&quot;2 months&quot;</a:s>
                                                         </a:s>
                                                         <a:s> and </a:s>
                                                         <a:s r="283">
                                                            <a:s>&quot;11 months&quot;</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> and </a:s>
                                                      <a:s r="288">
                                                         <a:s r="286">
                                                            <a:s r="285">
                                                               <a:s>P</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="286">
                                                               <a:s>doseNumber</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s r="287"> = 3</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>)</a:s>
                                                </a:s>
                                                <a:s> or
			</a:s>
                                                <a:s r="297">
                                                   <a:s>(</a:s>
                                                   <a:s r="297">
                                                      <a:s r="292">
                                                         <a:s r="290">
                                                            <a:s>&quot;Age when patient received 1st dose&quot;</a:s>
                                                         </a:s>
                                                         <a:s> > </a:s>
                                                         <a:s r="291">
                                                            <a:s>&quot;11 months&quot;</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> and </a:s>
                                                      <a:s r="296">
                                                         <a:s r="294">
                                                            <a:s r="293">
                                                               <a:s>P</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="294">
                                                               <a:s>doseNumber</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s r="295"> = 2</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>)</a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
			)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="304" locator="262:2-268:5" xsi:type="Not">
            <operand localId="303" locator="262:6-268:5" xsi:type="Exists">
               <operand localId="302" locator="262:12-268:5" xsi:type="Query">
                  <source localId="273" locator="263:3-263:57" alias="I">
                     <expression localId="272" locator="263:3-263:55" name="Meningococcal Doses Administered to Patient" libraryName="IMMZCom" xsi:type="ExpressionRef"/>
                  </source>
                  <where localId="301" locator="264:3-268:4" xsi:type="And">
                     <operand localId="278" locator="264:9-264:58" xsi:type="InValueSet">
                        <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="275" locator="264:9-264:21" path="vaccineCode" scope="I" xsi:type="Property"/>
                        </code>
                        <valueset localId="277" locator="264:26-264:58" name="monovalent MenC conjugate" libraryName="IMMZc"/>
                     </operand>
                     <operand localId="300" locator="265:7-268:4" xsi:type="Exists">
                        <operand localId="299" locator="265:13-268:4" xsi:type="Query">
                           <source localId="280" locator="265:14-265:32" alias="P">
                              <expression localId="279" locator="265:14-265:30" path="protocolApplied" scope="I" xsi:type="Property"/>
                           </source>
                           <where localId="298" locator="266:4-267:76" xsi:type="Or">
                              <operand localId="289" locator="266:10-266:103" xsi:type="And">
                                 <operand localId="284" locator="266:11-266:81" xsi:type="And">
                                    <operand xsi:type="GreaterOrEqual">
                                       <operand xsi:type="ToQuantity">
                                          <operand localId="281" locator="266:11-266:46" name="Age when patient received 1st dose" xsi:type="ExpressionRef"/>
                                       </operand>
                                       <operand localId="282" locator="266:56-266:65" name="2 months" xsi:type="ExpressionRef"/>
                                    </operand>
                                    <operand xsi:type="LessOrEqual">
                                       <operand xsi:type="ToQuantity">
                                          <operand localId="281" locator="266:11-266:46" name="Age when patient received 1st dose" xsi:type="ExpressionRef"/>
                                       </operand>
                                       <operand localId="283" locator="266:71-266:81" name="11 months" xsi:type="ExpressionRef"/>
                                    </operand>
                                 </operand>
                                 <operand localId="288" locator="266:87-266:102" xsi:type="Equal">
                                    <operand xsi:type="ToInteger">
                                       <operand localId="286" locator="266:87-266:98" path="doseNumber" scope="P" xsi:type="Property"/>
                                    </operand>
                                    <operand localId="287" locator="266:102" valueType="t:Integer" value="3" xsi:type="Literal"/>
                                 </operand>
                              </operand>
                              <operand localId="297" locator="267:4-267:76" xsi:type="And">
                                 <operand localId="292" locator="267:5-267:54" xsi:type="Greater">
                                    <operand xsi:type="ToQuantity">
                                       <operand localId="290" locator="267:5-267:40" name="Age when patient received 1st dose" xsi:type="ExpressionRef"/>
                                    </operand>
                                    <operand localId="291" locator="267:44-267:54" name="11 months" xsi:type="ExpressionRef"/>
                                 </operand>
                                 <operand localId="296" locator="267:60-267:75" xsi:type="Equal">
                                    <operand xsi:type="ToInteger">
                                       <operand localId="294" locator="267:60-267:71" path="doseNumber" scope="P" xsi:type="Property"/>
                                    </operand>
                                    <operand localId="295" locator="267:75" valueType="t:Integer" value="2" xsi:type="Literal"/>
                                 </operand>
                              </operand>
                           </where>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="339" locator="274:1-281:5" name="Patient has completed MenC primary series" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="339">
               <a:s>/**
 * @dataElement Patient has received dose 3 (booster) if beween 2 and 11 months or dose 2 (booster) if > 12 months
 */
define &quot;Patient has completed MenC primary series&quot;:
	</a:s>
               <a:s r="338">
                  <a:s>not </a:s>
                  <a:s r="337">
                     <a:s>exists</a:s>
                     <a:s r="336">
                        <a:s>(
		</a:s>
                        <a:s r="336">
                           <a:s>
                              <a:s r="307">
                                 <a:s r="306">
                                    <a:s>
                                       <a:s>IMMZCom.&quot;Meningococcal Doses Administered to Patient&quot;</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> I</a:s>
                              </a:s>
                           </a:s>
                           <a:s> 
		</a:s>
                           <a:s r="335">
                              <a:s>where </a:s>
                              <a:s r="335">
                                 <a:s r="312">
                                    <a:s r="309">
                                       <a:s r="308">
                                          <a:s>I</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="309">
                                          <a:s>vaccineCode</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="311">
                                       <a:s r="310">
                                          <a:s>IMMZc</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="311">
                                          <a:s>&quot;monovalent MenC conjugate&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> 
		and </a:s>
                                 <a:s r="334">
                                    <a:s>exists</a:s>
                                    <a:s r="333">
                                       <a:s>(</a:s>
                                       <a:s r="333">
                                          <a:s>
                                             <a:s r="314">
                                                <a:s r="313">
                                                   <a:s>
                                                      <a:s>I.protocolApplied</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s> P</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> 
			</a:s>
                                          <a:s r="332">
                                             <a:s>where </a:s>
                                             <a:s r="332">
                                                <a:s r="323">
                                                   <a:s>(</a:s>
                                                   <a:s r="323">
                                                      <a:s r="318">
                                                         <a:s r="315">
                                                            <a:s>&quot;Age when patient received 1st dose&quot;</a:s>
                                                         </a:s>
                                                         <a:s> between </a:s>
                                                         <a:s r="316">
                                                            <a:s>&quot;2 months&quot;</a:s>
                                                         </a:s>
                                                         <a:s> and </a:s>
                                                         <a:s r="317">
                                                            <a:s>&quot;11 months&quot;</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> and </a:s>
                                                      <a:s r="322">
                                                         <a:s r="320">
                                                            <a:s r="319">
                                                               <a:s>P</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="320">
                                                               <a:s>doseNumber</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s r="321"> = 2</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>)</a:s>
                                                </a:s>
                                                <a:s> or
			</a:s>
                                                <a:s r="331">
                                                   <a:s>(</a:s>
                                                   <a:s r="331">
                                                      <a:s r="326">
                                                         <a:s r="324">
                                                            <a:s>&quot;Age when patient received 1st dose&quot;</a:s>
                                                         </a:s>
                                                         <a:s> > </a:s>
                                                         <a:s r="325">
                                                            <a:s>&quot;11 months&quot;</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> and </a:s>
                                                      <a:s r="330">
                                                         <a:s r="328">
                                                            <a:s r="327">
                                                               <a:s>P</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="328">
                                                               <a:s>doseNumber</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s r="329"> = 1</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>)</a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
			)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="338" locator="275:2-281:5" xsi:type="Not">
            <operand localId="337" locator="275:6-281:5" xsi:type="Exists">
               <operand localId="336" locator="275:12-281:5" xsi:type="Query">
                  <source localId="307" locator="276:3-276:57" alias="I">
                     <expression localId="306" locator="276:3-276:55" name="Meningococcal Doses Administered to Patient" libraryName="IMMZCom" xsi:type="ExpressionRef"/>
                  </source>
                  <where localId="335" locator="277:3-281:4" xsi:type="And">
                     <operand localId="312" locator="277:9-277:58" xsi:type="InValueSet">
                        <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="309" locator="277:9-277:21" path="vaccineCode" scope="I" xsi:type="Property"/>
                        </code>
                        <valueset localId="311" locator="277:26-277:58" name="monovalent MenC conjugate" libraryName="IMMZc"/>
                     </operand>
                     <operand localId="334" locator="278:7-281:4" xsi:type="Exists">
                        <operand localId="333" locator="278:13-281:4" xsi:type="Query">
                           <source localId="314" locator="278:14-278:32" alias="P">
                              <expression localId="313" locator="278:14-278:30" path="protocolApplied" scope="I" xsi:type="Property"/>
                           </source>
                           <where localId="332" locator="279:4-280:76" xsi:type="Or">
                              <operand localId="323" locator="279:10-279:103" xsi:type="And">
                                 <operand localId="318" locator="279:11-279:81" xsi:type="And">
                                    <operand xsi:type="GreaterOrEqual">
                                       <operand xsi:type="ToQuantity">
                                          <operand localId="315" locator="279:11-279:46" name="Age when patient received 1st dose" xsi:type="ExpressionRef"/>
                                       </operand>
                                       <operand localId="316" locator="279:56-279:65" name="2 months" xsi:type="ExpressionRef"/>
                                    </operand>
                                    <operand xsi:type="LessOrEqual">
                                       <operand xsi:type="ToQuantity">
                                          <operand localId="315" locator="279:11-279:46" name="Age when patient received 1st dose" xsi:type="ExpressionRef"/>
                                       </operand>
                                       <operand localId="317" locator="279:71-279:81" name="11 months" xsi:type="ExpressionRef"/>
                                    </operand>
                                 </operand>
                                 <operand localId="322" locator="279:87-279:102" xsi:type="Equal">
                                    <operand xsi:type="ToInteger">
                                       <operand localId="320" locator="279:87-279:98" path="doseNumber" scope="P" xsi:type="Property"/>
                                    </operand>
                                    <operand localId="321" locator="279:102" valueType="t:Integer" value="2" xsi:type="Literal"/>
                                 </operand>
                              </operand>
                              <operand localId="331" locator="280:4-280:76" xsi:type="And">
                                 <operand localId="326" locator="280:5-280:54" xsi:type="Greater">
                                    <operand xsi:type="ToQuantity">
                                       <operand localId="324" locator="280:5-280:40" name="Age when patient received 1st dose" xsi:type="ExpressionRef"/>
                                    </operand>
                                    <operand localId="325" locator="280:44-280:54" name="11 months" xsi:type="ExpressionRef"/>
                                 </operand>
                                 <operand localId="330" locator="280:60-280:75" xsi:type="Equal">
                                    <operand xsi:type="ToInteger">
                                       <operand localId="328" locator="280:60-280:71" path="doseNumber" scope="P" xsi:type="Property"/>
                                    </operand>
                                    <operand localId="329" locator="280:75" valueType="t:Integer" value="1" xsi:type="Literal"/>
                                 </operand>
                              </operand>
                           </where>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="360" locator="294:1-296:48" name="Should vaccinate patient with monovalent MenC conjugate vaccine non-recurring booster because 1 year after last shot" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="360">
               <a:s>/*
 * Rule: Should vaccinate patient with monovalent MenC conjugate vaccine non-recurring booster because 1 year after last shot
 * Annotations:
 * 	 - Provide Meningococcal immunizations – using the &quot;monovalent MenC conjugate vaccine immunization – Single non-recurring BOOSTER&quot; schedule (1 dose booster)
 * Outputs:
 * 	 - Immunize Patient for Meningococcal - Non-recurring Booster
 * References:
 * 	- WHO recommendations for routine immunization - summary tables: https://www.who.int/teams/immunization-vaccines-and-biologicals/policies/who-recommendations-for-routine-immunization---summary-tables
 * Logic:
 *	 ((((((&quot;Meningococcal vaccine immunization history&quot; = &quot;2 doses&quot;) and (&quot;Date last Meningococcal dose given&quot; >= &quot;1 year&quot; = true)) and (&quot;Type of last Meningococcal dose&quot; = &quot;monovalent MenC conjugate&quot;)) and (&quot;Age when patient received 1st dose&quot; >= &quot;2 months&quot;)) and (&quot;Age when patient received 1st dose&quot; &lt;= &quot;11 months&quot;)) and (&quot;Region recommends Meningococcal vaccination&quot; = true))
 */
define &quot;Should vaccinate patient with monovalent MenC conjugate vaccine non-recurring booster because 1 year after last shot&quot;:
	</a:s>
               <a:s r="359">
                  <a:s r="357">
                     <a:s>(</a:s>
                     <a:s r="357">
                        <a:s r="355">
                           <a:s>(</a:s>
                           <a:s r="355">
                              <a:s r="351">
                                 <a:s>(</a:s>
                                 <a:s r="351">
                                    <a:s r="347">
                                       <a:s>(</a:s>
                                       <a:s r="347">
                                          <a:s r="342">
                                             <a:s>(</a:s>
                                             <a:s r="342">
                                                <a:s r="340">
                                                   <a:s>(</a:s>
                                                   <a:s r="340">
                                                      <a:s>&quot;2 doses&quot;</a:s>
                                                   </a:s>
                                                   <a:s>)</a:s>
                                                </a:s>
                                                <a:s> and </a:s>
                                                <a:s r="341">
                                                   <a:s>(</a:s>
                                                   <a:s r="341">
                                                      <a:s>&quot;Date last Meningococcal dose given >= 1 year&quot;</a:s>
                                                   </a:s>
                                                   <a:s>)</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s> and </a:s>
                                          <a:s r="346">
                                             <a:s>(</a:s>
                                             <a:s r="346">
                                                <a:s r="343">
                                                   <a:s>&quot;Type of last Meningococcal dose&quot;</a:s>
                                                </a:s>
                                                <a:s> in </a:s>
                                                <a:s r="345">
                                                   <a:s r="344">
                                                      <a:s>IMMZc</a:s>
                                                   </a:s>
                                                   <a:s>.</a:s>
                                                   <a:s r="345">
                                                      <a:s>&quot;monovalent MenC conjugate&quot;</a:s>
                                                   </a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> and </a:s>
                                    <a:s r="350">
                                       <a:s>(</a:s>
                                       <a:s r="350">
                                          <a:s r="348">
                                             <a:s>&quot;Age when patient received 1st dose&quot;</a:s>
                                          </a:s>
                                          <a:s> >= </a:s>
                                          <a:s r="349">
                                             <a:s>&quot;2 months&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s> and </a:s>
                              <a:s r="354">
                                 <a:s>(</a:s>
                                 <a:s r="354">
                                    <a:s r="352">
                                       <a:s>&quot;Age when patient received 1st dose&quot;</a:s>
                                    </a:s>
                                    <a:s> &lt;= </a:s>
                                    <a:s r="353">
                                       <a:s>&quot;11 months&quot;</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                        <a:s> and </a:s>
                        <a:s r="356">
                           <a:s>(</a:s>
                           <a:s r="356">
                              <a:s>&quot;Region recommends Meningococcal vaccination&quot;</a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
                  <a:s>
	and </a:s>
                  <a:s r="358">
                     <a:s>&quot;Patient Has Not Received 1st MenC Booster&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="359" locator="295:2-296:48" xsi:type="And">
            <operand localId="357" locator="295:2-295:319" xsi:type="And">
               <operand localId="355" locator="295:3-295:266" xsi:type="And">
                  <operand localId="351" locator="295:4-295:207" xsi:type="And">
                     <operand localId="347" locator="295:5-295:149" xsi:type="And">
                        <operand localId="342" locator="295:6-295:71" xsi:type="And">
                           <operand localId="340" locator="295:7-295:17" name="2 doses" xsi:type="ExpressionRef"/>
                           <operand localId="341" locator="295:23-295:70" name="Date last Meningococcal dose given >= 1 year" xsi:type="ExpressionRef"/>
                        </operand>
                        <operand localId="346" locator="295:77-295:148" xsi:type="InValueSet">
                           <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                              <operand localId="343" locator="295:78-295:110" name="Type of last Meningococcal dose" xsi:type="ExpressionRef"/>
                           </code>
                           <valueset localId="345" locator="295:115-295:147" name="monovalent MenC conjugate" libraryName="IMMZc"/>
                        </operand>
                     </operand>
                     <operand localId="350" locator="295:155-295:206" xsi:type="GreaterOrEqual">
                        <operand xsi:type="ToQuantity">
                           <operand localId="348" locator="295:156-295:191" name="Age when patient received 1st dose" xsi:type="ExpressionRef"/>
                        </operand>
                        <operand localId="349" locator="295:196-295:205" name="2 months" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
                  <operand localId="354" locator="295:213-295:265" xsi:type="LessOrEqual">
                     <operand xsi:type="ToQuantity">
                        <operand localId="352" locator="295:214-295:249" name="Age when patient received 1st dose" xsi:type="ExpressionRef"/>
                     </operand>
                     <operand localId="353" locator="295:254-295:264" name="11 months" xsi:type="ExpressionRef"/>
                  </operand>
               </operand>
               <operand localId="356" locator="295:272-295:318" name="Region recommends Meningococcal vaccination" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="358" locator="296:6-296:48" name="Patient Has Not Received 1st MenC Booster" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="394" locator="301:1-308:5" name="Patient Has Not Received 2nd MenC Booster" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="394">
               <a:s>/**
 * @dataElement Patient has received dose 3 (booster) if beween 2 and 11 months or dose 2 (booster) if > 12 months
 */
define &quot;Patient Has Not Received 2nd MenC Booster&quot;:
	</a:s>
               <a:s r="393">
                  <a:s>not </a:s>
                  <a:s r="392">
                     <a:s>exists</a:s>
                     <a:s r="391">
                        <a:s>(
		</a:s>
                        <a:s r="391">
                           <a:s>
                              <a:s r="362">
                                 <a:s r="361">
                                    <a:s>
                                       <a:s>IMMZCom.&quot;Meningococcal Doses Administered to Patient&quot;</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> I</a:s>
                              </a:s>
                           </a:s>
                           <a:s> 
		</a:s>
                           <a:s r="390">
                              <a:s>where </a:s>
                              <a:s r="390">
                                 <a:s r="367">
                                    <a:s r="364">
                                       <a:s r="363">
                                          <a:s>I</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="364">
                                          <a:s>vaccineCode</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="366">
                                       <a:s r="365">
                                          <a:s>IMMZc</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="366">
                                          <a:s>&quot;monovalent MenC conjugate&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> 
		and </a:s>
                                 <a:s r="389">
                                    <a:s>exists</a:s>
                                    <a:s r="388">
                                       <a:s>(</a:s>
                                       <a:s r="388">
                                          <a:s>
                                             <a:s r="369">
                                                <a:s r="368">
                                                   <a:s>
                                                      <a:s>I.protocolApplied</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s> P</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> 
			</a:s>
                                          <a:s r="387">
                                             <a:s>where </a:s>
                                             <a:s r="387">
                                                <a:s r="378">
                                                   <a:s>(</a:s>
                                                   <a:s r="378">
                                                      <a:s r="373">
                                                         <a:s r="370">
                                                            <a:s>&quot;Age when patient received 1st dose&quot;</a:s>
                                                         </a:s>
                                                         <a:s> between </a:s>
                                                         <a:s r="371">
                                                            <a:s>&quot;2 months&quot;</a:s>
                                                         </a:s>
                                                         <a:s> and </a:s>
                                                         <a:s r="372">
                                                            <a:s>&quot;11 months&quot;</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> and </a:s>
                                                      <a:s r="377">
                                                         <a:s r="375">
                                                            <a:s r="374">
                                                               <a:s>P</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="375">
                                                               <a:s>doseNumber</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s r="376"> = 4</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>)</a:s>
                                                </a:s>
                                                <a:s> or
			</a:s>
                                                <a:s r="386">
                                                   <a:s>(</a:s>
                                                   <a:s r="386">
                                                      <a:s r="381">
                                                         <a:s r="379">
                                                            <a:s>&quot;Age when patient received 1st dose&quot;</a:s>
                                                         </a:s>
                                                         <a:s> > </a:s>
                                                         <a:s r="380">
                                                            <a:s>&quot;11 months&quot;</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> and </a:s>
                                                      <a:s r="385">
                                                         <a:s r="383">
                                                            <a:s r="382">
                                                               <a:s>P</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="383">
                                                               <a:s>doseNumber</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s r="384"> = 3</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>)</a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
			)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="393" locator="302:2-308:5" xsi:type="Not">
            <operand localId="392" locator="302:6-308:5" xsi:type="Exists">
               <operand localId="391" locator="302:12-308:5" xsi:type="Query">
                  <source localId="362" locator="303:3-303:57" alias="I">
                     <expression localId="361" locator="303:3-303:55" name="Meningococcal Doses Administered to Patient" libraryName="IMMZCom" xsi:type="ExpressionRef"/>
                  </source>
                  <where localId="390" locator="304:3-308:4" xsi:type="And">
                     <operand localId="367" locator="304:9-304:58" xsi:type="InValueSet">
                        <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="364" locator="304:9-304:21" path="vaccineCode" scope="I" xsi:type="Property"/>
                        </code>
                        <valueset localId="366" locator="304:26-304:58" name="monovalent MenC conjugate" libraryName="IMMZc"/>
                     </operand>
                     <operand localId="389" locator="305:7-308:4" xsi:type="Exists">
                        <operand localId="388" locator="305:13-308:4" xsi:type="Query">
                           <source localId="369" locator="305:14-305:32" alias="P">
                              <expression localId="368" locator="305:14-305:30" path="protocolApplied" scope="I" xsi:type="Property"/>
                           </source>
                           <where localId="387" locator="306:4-307:76" xsi:type="Or">
                              <operand localId="378" locator="306:10-306:103" xsi:type="And">
                                 <operand localId="373" locator="306:11-306:81" xsi:type="And">
                                    <operand xsi:type="GreaterOrEqual">
                                       <operand xsi:type="ToQuantity">
                                          <operand localId="370" locator="306:11-306:46" name="Age when patient received 1st dose" xsi:type="ExpressionRef"/>
                                       </operand>
                                       <operand localId="371" locator="306:56-306:65" name="2 months" xsi:type="ExpressionRef"/>
                                    </operand>
                                    <operand xsi:type="LessOrEqual">
                                       <operand xsi:type="ToQuantity">
                                          <operand localId="370" locator="306:11-306:46" name="Age when patient received 1st dose" xsi:type="ExpressionRef"/>
                                       </operand>
                                       <operand localId="372" locator="306:71-306:81" name="11 months" xsi:type="ExpressionRef"/>
                                    </operand>
                                 </operand>
                                 <operand localId="377" locator="306:87-306:102" xsi:type="Equal">
                                    <operand xsi:type="ToInteger">
                                       <operand localId="375" locator="306:87-306:98" path="doseNumber" scope="P" xsi:type="Property"/>
                                    </operand>
                                    <operand localId="376" locator="306:102" valueType="t:Integer" value="4" xsi:type="Literal"/>
                                 </operand>
                              </operand>
                              <operand localId="386" locator="307:4-307:76" xsi:type="And">
                                 <operand localId="381" locator="307:5-307:54" xsi:type="Greater">
                                    <operand xsi:type="ToQuantity">
                                       <operand localId="379" locator="307:5-307:40" name="Age when patient received 1st dose" xsi:type="ExpressionRef"/>
                                    </operand>
                                    <operand localId="380" locator="307:44-307:54" name="11 months" xsi:type="ExpressionRef"/>
                                 </operand>
                                 <operand localId="385" locator="307:60-307:75" xsi:type="Equal">
                                    <operand xsi:type="ToInteger">
                                       <operand localId="383" locator="307:60-307:71" path="doseNumber" scope="P" xsi:type="Property"/>
                                    </operand>
                                    <operand localId="384" locator="307:75" valueType="t:Integer" value="3" xsi:type="Literal"/>
                                 </operand>
                              </operand>
                           </where>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="413" locator="321:1-323:48" name="Should vaccinate patient with monovalent MenC conjugate non-recurring booster 3-5 years after last shot" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="413">
               <a:s>/*
 * Rule: Should vaccinate patient with monovalent MenC conjugate non-recurring booster 3-5 years after last shot
 * Annotations:
 * 	 - Provide Meningococcal immunizations – using the &quot;monovalent MenC conjugate immunization – Single non-recurring BOOSTER&quot; schedule (1 dose booster)
 * Outputs:
 * 	 - Immunize Patient for Meningococcal - Non-recurring Booster
 * References:
 * 	- WHO recommendations for routine immunization - summary tables: https://www.who.int/teams/immunization-vaccines-and-biologicals/policies/who-recommendations-for-routine-immunization---summary-tables
 * Logic:
 *	 ((((((&quot;Patient has completed Meningococcal primary series&quot; = true) and (&quot;Date last Meningococcal dose given&quot; >= &quot;3 years&quot; = true)) and (&quot;Date last Meningococcal dose given&quot; &lt;= &quot;5 years&quot; = true)) and (&quot;Type of last Meningococcal dose&quot; = &quot;monovalent MenC conjugate&quot;)) and (&quot;Individual has a continued high risk of exposure (including health workers)&quot; = true)) and (&quot;Region recommends Meningococcal vaccination&quot; = true))
 */
define &quot;Should vaccinate patient with monovalent MenC conjugate non-recurring booster 3-5 years after last shot&quot;:
	</a:s>
               <a:s r="412">
                  <a:s r="410">
                     <a:s>(</a:s>
                     <a:s r="410">
                        <a:s r="408">
                           <a:s>(</a:s>
                           <a:s r="408">
                              <a:s r="406">
                                 <a:s>(</a:s>
                                 <a:s r="406">
                                    <a:s r="401">
                                       <a:s>(</a:s>
                                       <a:s r="401">
                                          <a:s r="399">
                                             <a:s>(</a:s>
                                             <a:s r="399">
                                                <a:s r="397">
                                                   <a:s>(</a:s>
                                                   <a:s r="397">
                                                      <a:s r="395">
                                                         <a:s>&quot;Patient has completed MenC primary series&quot;</a:s>
                                                      </a:s>
                                                      <a:s r="396"> = true</a:s>
                                                   </a:s>
                                                   <a:s>)</a:s>
                                                </a:s>
                                                <a:s> and </a:s>
                                                <a:s r="398">
                                                   <a:s>(</a:s>
                                                   <a:s r="398">
                                                      <a:s>&quot;Date last Meningococcal dose given >= 3 years&quot;</a:s>
                                                   </a:s>
                                                   <a:s>)</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s> and </a:s>
                                          <a:s r="400">
                                             <a:s>(</a:s>
                                             <a:s r="400">
                                                <a:s>&quot;Date last Meningococcal dose given &lt;= 5 years&quot;</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> and </a:s>
                                    <a:s r="405">
                                       <a:s>(</a:s>
                                       <a:s r="405">
                                          <a:s r="402">
                                             <a:s>&quot;Type of last Meningococcal dose&quot;</a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="404">
                                             <a:s r="403">
                                                <a:s>IMMZc</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="404">
                                                <a:s>&quot;monovalent MenC conjugate&quot;</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s> and </a:s>
                              <a:s r="407">
                                 <a:s>(</a:s>
                                 <a:s r="407">
                                    <a:s>&quot;Individual has a continued high risk of exposure (including health workers)&quot;</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                        <a:s> and </a:s>
                        <a:s r="409">
                           <a:s>(</a:s>
                           <a:s r="409">
                              <a:s>&quot;Region recommends Meningococcal vaccination&quot;</a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
                  <a:s>
	and </a:s>
                  <a:s r="411">
                     <a:s>&quot;Patient Has Not Received 2nd MenC Booster&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="412" locator="322:2-323:48" xsi:type="And">
            <operand localId="410" locator="322:2-322:384" xsi:type="And">
               <operand localId="408" locator="322:3-322:331" xsi:type="And">
                  <operand localId="406" locator="322:4-322:246" xsi:type="And">
                     <operand localId="401" locator="322:5-322:168" xsi:type="And">
                        <operand localId="399" locator="322:6-322:113" xsi:type="And">
                           <operand localId="397" locator="322:7-322:58" xsi:type="Equal">
                              <operand localId="395" locator="322:8-322:50" name="Patient has completed MenC primary series" xsi:type="ExpressionRef"/>
                              <operand localId="396" locator="322:54-322:57" valueType="t:Boolean" value="true" xsi:type="Literal"/>
                           </operand>
                           <operand localId="398" locator="322:64-322:112" name="Date last Meningococcal dose given >= 3 years" xsi:type="ExpressionRef"/>
                        </operand>
                        <operand localId="400" locator="322:119-322:167" name="Date last Meningococcal dose given &lt;= 5 years" xsi:type="ExpressionRef"/>
                     </operand>
                     <operand localId="405" locator="322:174-322:245" xsi:type="InValueSet">
                        <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="402" locator="322:175-322:207" name="Type of last Meningococcal dose" xsi:type="ExpressionRef"/>
                        </code>
                        <valueset localId="404" locator="322:212-322:244" name="monovalent MenC conjugate" libraryName="IMMZc"/>
                     </operand>
                  </operand>
                  <operand localId="407" locator="322:252-322:330" name="Individual has a continued high risk of exposure (including health workers)" xsi:type="ParameterRef"/>
               </operand>
               <operand localId="409" locator="322:337-322:383" name="Region recommends Meningococcal vaccination" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="411" locator="323:6-323:48" name="Patient Has Not Received 2nd MenC Booster" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="416" locator="328:1-329:39" name="Current Patient Age in Years" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="416">
               <a:s>/* 
 * @dataElement Current Patient Age in Years
 */
define &quot;Current Patient Age in Years&quot;:
	</a:s>
               <a:s r="415">
                  <a:s r="414">
                     <a:s>IMMZCom</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="415">
                     <a:s>&quot;Current Patient Age In Years&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="415" locator="329:2-329:39" name="Current Patient Age In Years" libraryName="IMMZCom" xsi:type="ExpressionRef"/>
      </def>
      <def localId="424" locator="342:1-343:111" name="Should vaccinate patient with Quadrivalent conjugate vaccines (A,C,W135,Y-D and A,C,W135,Y-CRM) because no dose on 1 dose scheme" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="424">
               <a:s>/*
 * Rule: Should vaccinate patient with Quadrivalent conjugate vaccines (A,C,W135,Y-D and A,C,W135,Y-CRM) because no dose on 1 dose scheme
 * Annotations:
 * 	 - Provide Meningococcal immunizations – using the &quot;Quadrivalent conjugate vaccines (A,C,W135,Y-D and A,C,W135,Y-CRM) immunization – NO PREVIOUS&quot; schedule (1 dose scheme)
 * Outputs:
 * 	 - Immunize Patient for Meningococcal - No Doses
 * References:
 * 	- WHO recommendations for routine immunization - summary tables: https://www.who.int/teams/immunization-vaccines-and-biologicals/policies/who-recommendations-for-routine-immunization---summary-tables
 * Logic:
 *	 (((&quot;Meningococcal vaccine immunization history&quot; = &quot;No-doses&quot;) and (&quot;Current Patient Age in Years&quot; >= 2)) and (&quot;Region recommends Meningococcal vaccination&quot; = true))
 */
define &quot;Should vaccinate patient with Quadrivalent conjugate vaccines (A,C,W135,Y-D and A,C,W135,Y-CRM) because no dose on 1 dose scheme&quot;:
	</a:s>
               <a:s r="423">
                  <a:s>(</a:s>
                  <a:s r="423">
                     <a:s r="421">
                        <a:s>(</a:s>
                        <a:s r="421">
                           <a:s r="417">
                              <a:s>(</a:s>
                              <a:s r="417">
                                 <a:s>&quot;No-doses&quot;</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> and </a:s>
                           <a:s r="420">
                              <a:s>(</a:s>
                              <a:s r="420">
                                 <a:s r="418">
                                    <a:s>&quot;Current Patient Age in Years&quot;</a:s>
                                 </a:s>
                                 <a:s r="419"> >= 2</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                     <a:s> and </a:s>
                     <a:s r="422">
                        <a:s>(</a:s>
                        <a:s r="422">
                           <a:s>&quot;Region recommends Meningococcal vaccination&quot;</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
                  <a:s>)</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="423" locator="343:2-343:111" xsi:type="And">
            <operand localId="421" locator="343:3-343:58" xsi:type="And">
               <operand localId="417" locator="343:4-343:15" name="No-doses" xsi:type="ExpressionRef"/>
               <operand localId="420" locator="343:21-343:57" xsi:type="GreaterOrEqual">
                  <operand localId="418" locator="343:22-343:51" name="Current Patient Age in Years" xsi:type="ExpressionRef"/>
                  <operand localId="419" locator="343:56" valueType="t:Integer" value="2" xsi:type="Literal"/>
               </operand>
            </operand>
            <operand localId="422" locator="343:64-343:110" name="Region recommends Meningococcal vaccination" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="436" locator="356:1-357:158" name="Should vaccinate patient with Quadrivalent conjugate vaccines (A,C,W135,Y-D) because no dose on 2 dose scheme" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="436">
               <a:s>/*
 * Rule: Should vaccinate patient with Quadrivalent conjugate vaccines (A,C,W135,Y-D) because no dose on 2 dose scheme
 * Annotations:
 * 	 - Provide Meningococcal immunizations – using the &quot;Quadrivalent conjugate vaccines (A,C,W135,Y-D) immunization – NO PREVIOUS&quot; schedule (2 dose scheme)
 * Outputs:
 * 	 - Immunize Patient for Meningococcal - No Doses
 * References:
 * 	- WHO recommendations for routine immunization - summary tables: https://www.who.int/teams/immunization-vaccines-and-biologicals/policies/who-recommendations-for-routine-immunization---summary-tables
 * Logic:
 *	 ((((&quot;Meningococcal vaccine immunization history&quot; = &quot;No-doses&quot;) and (&quot;Current Patient Age in Months&quot; >= 9)) and (&quot;Current Patient Age in Months&quot; &lt;= 23)) and (&quot;Region recommends Meningococcal vaccination&quot; = true))
 */
define &quot;Should vaccinate patient with Quadrivalent conjugate vaccines (A,C,W135,Y-D) because no dose on 2 dose scheme&quot;:
	</a:s>
               <a:s r="435">
                  <a:s>(</a:s>
                  <a:s r="435">
                     <a:s r="433">
                        <a:s>(</a:s>
                        <a:s r="433">
                           <a:s r="429">
                              <a:s>(</a:s>
                              <a:s r="429">
                                 <a:s r="425">
                                    <a:s>(</a:s>
                                    <a:s r="425">
                                       <a:s>&quot;No-doses&quot;</a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                                 <a:s> and </a:s>
                                 <a:s r="428">
                                    <a:s>(</a:s>
                                    <a:s r="428">
                                       <a:s r="426">
                                          <a:s>&quot;Current Patient Age in Months&quot;</a:s>
                                       </a:s>
                                       <a:s r="427"> >= 9</a:s>
                                    </a:s>
                                    <a:s>)</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> and </a:s>
                           <a:s r="432">
                              <a:s>(</a:s>
                              <a:s r="432">
                                 <a:s r="430">
                                    <a:s>&quot;Current Patient Age in Months&quot;</a:s>
                                 </a:s>
                                 <a:s r="431"> &lt;= 23</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                     <a:s> and </a:s>
                     <a:s r="434">
                        <a:s>(</a:s>
                        <a:s r="434">
                           <a:s>&quot;Region recommends Meningococcal vaccination&quot;</a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
                  <a:s>)</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="435" locator="357:2-357:158" xsi:type="And">
            <operand localId="433" locator="357:3-357:105" xsi:type="And">
               <operand localId="429" locator="357:4-357:60" xsi:type="And">
                  <operand localId="425" locator="357:5-357:16" name="No-doses" xsi:type="ExpressionRef"/>
                  <operand localId="428" locator="357:22-357:59" xsi:type="GreaterOrEqual">
                     <operand localId="426" locator="357:23-357:53" name="Current Patient Age in Months" xsi:type="ExpressionRef"/>
                     <operand localId="427" locator="357:58" valueType="t:Integer" value="9" xsi:type="Literal"/>
                  </operand>
               </operand>
               <operand localId="432" locator="357:66-357:104" xsi:type="LessOrEqual">
                  <operand localId="430" locator="357:67-357:97" name="Current Patient Age in Months" xsi:type="ExpressionRef"/>
                  <operand localId="431" locator="357:102-357:103" valueType="t:Integer" value="23" xsi:type="Literal"/>
               </operand>
            </operand>
            <operand localId="434" locator="357:111-357:157" name="Region recommends Meningococcal vaccination" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="439" locator="362:1-363:64" name="Date last Meningococcal dose given" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="439">
               <a:s>/* 
 * @dataElement Date last Meningococcal dose given 
 */
define &quot;Date last Meningococcal dose given&quot;:
	 </a:s>
               <a:s r="438">
                  <a:s r="437">
                     <a:s>IMMZCom</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="438">
                     <a:s>&quot;Date last Meningococcal dose Administered to Patient&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="438" locator="363:3-363:64" name="Date last Meningococcal dose Administered to Patient" libraryName="IMMZCom" xsi:type="ExpressionRef"/>
      </def>
      <def localId="441" locator="368:1-369:11" name="12 weeks" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="441">
               <a:s>/* 
 * @dataElement 12 weeks
 */
define &quot;12 weeks&quot;:
	</a:s>
               <a:s r="440">
                  <a:s>12 'weeks'</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="440" locator="369:2-369:11" value="12" unit="weeks" xsi:type="Quantity"/>
      </def>
      <def localId="454" locator="374:1-376:102" name="Date last Meningococcal dose given >= 12 weeks" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="454">
               <a:s>/* 
 * @dataElement Date last Meningococcal dose given >= 12 weeks
 */
define &quot;Date last Meningococcal dose given >= 12 weeks&quot;:
	</a:s>
               <a:s r="453">
                  <a:s r="447">
                     <a:s r="444">
                        <a:s>
                           <a:s r="443">
                              <a:s r="442">
                                 <a:s>
                                    <a:s>IMMZCom.&quot;Date last Meningococcal dose Administered to Patient&quot;</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> equal</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s> </a:s>
                     <a:s r="447">
                        <a:s r="446">
                           <a:s>12 'weeks'</a:s>
                        </a:s>
                        <a:s> before</a:s>
                     </a:s>
                     <a:s> </a:s>
                     <a:s r="445">
                        <a:s>Today()</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
	or </a:s>
                  <a:s r="452">
                     <a:s r="449">
                        <a:s r="448">
                           <a:s>IMMZCom</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="449">
                           <a:s>&quot;Date last Meningococcal dose Administered to Patient&quot;</a:s>
                        </a:s>
                     </a:s>
                     <a:s> </a:s>
                     <a:s r="452">
                        <a:s>more than </a:s>
                        <a:s r="451">
                           <a:s>12 'weeks'</a:s>
                        </a:s>
                        <a:s> before</a:s>
                     </a:s>
                     <a:s> </a:s>
                     <a:s r="450">
                        <a:s>Today()</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="453" locator="375:2-376:102" xsi:type="Or">
            <operand localId="447" locator="375:2-375:95" xsi:type="SameAs">
               <operand localId="444" locator="375:2-375:69" xsi:type="Query">
                  <source localId="443" locator="375:2-375:69" alias="equal">
                     <expression localId="442" locator="375:2-375:63" name="Date last Meningococcal dose Administered to Patient" libraryName="IMMZCom" xsi:type="ExpressionRef"/>
                  </source>
               </operand>
               <operand locator="375:89-375:95" xsi:type="Subtract">
                  <operand localId="445" locator="375:89-375:95" xsi:type="Today"/>
                  <operand localId="446" locator="375:71-375:80" value="12" unit="weeks" xsi:type="Quantity"/>
               </operand>
            </operand>
            <operand localId="452" locator="376:5-376:102" xsi:type="Before">
               <operand localId="449" locator="376:5-376:66" name="Date last Meningococcal dose Administered to Patient" libraryName="IMMZCom" xsi:type="ExpressionRef"/>
               <operand locator="376:96-376:102" xsi:type="Subtract">
                  <operand localId="450" locator="376:96-376:102" xsi:type="Today"/>
                  <operand localId="451" locator="376:78-376:87" value="12" unit="weeks" xsi:type="Quantity"/>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="457" locator="380:1-381:31" name="Quadrivalent conjugate" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="457">
               <a:s>/* 
 * @dataElement Quadrivalent conjugate
 */
define &quot;Quadrivalent conjugate&quot;:
	</a:s>
               <a:s r="456">
                  <a:s r="455">
                     <a:s>IMMZc</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="456">
                     <a:s>&quot;Quadrivalent conjugate&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="456" locator="381:2-381:31" name="Quadrivalent conjugate" libraryName="IMMZc" xsi:type="ValueSetRef"/>
      </def>
      <def localId="466" locator="394:1-395:144" name="Should vaccinate patient with Quadrivalent conjugate vaccines (A,C,W135,Y-D) on 2 dose scheme" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="466">
               <a:s>/*
 * Rule: Should vaccinate patient with Quadrivalent conjugate vaccines (A,C,W135,Y-D) on 2 dose scheme
 * Annotations:
 * 	 - Provide Meningococcal immunizations – using the &quot;Quadrivalent conjugate vaccines (A,C,W135,Y-D) immunization – 1 PREVIOUS&quot; schedule (2 dose scheme)
 * Outputs:
 * 	 - Immunize Patient for Meningococcal - 1 Dose
 * References:
 * 	- WHO recommendations for routine immunization - summary tables: https://www.who.int/teams/immunization-vaccines-and-biologicals/policies/who-recommendations-for-routine-immunization---summary-tables
 * Logic:
 *	 (((&quot;Meningococcal vaccine immunization history&quot; = &quot;1 dose&quot;) and (&quot;Date last Meningococcal dose given &quot; >= &quot;12 weeks&quot;)) and (&quot;Type of last Meningococcal dose&quot; = &quot;Quadrivalent conjugate&quot;))
 */
define &quot;Should vaccinate patient with Quadrivalent conjugate vaccines (A,C,W135,Y-D) on 2 dose scheme&quot;:
	</a:s>
               <a:s r="465">
                  <a:s>(</a:s>
                  <a:s r="465">
                     <a:s r="460">
                        <a:s>(</a:s>
                        <a:s r="460">
                           <a:s r="458">
                              <a:s>(</a:s>
                              <a:s r="458">
                                 <a:s>&quot;1 dose&quot;</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s> and </a:s>
                           <a:s r="459">
                              <a:s>(</a:s>
                              <a:s r="459">
                                 <a:s>&quot;Date last Meningococcal dose given >= 12 weeks&quot;</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                     <a:s> and </a:s>
                     <a:s r="464">
                        <a:s>(</a:s>
                        <a:s r="464">
                           <a:s r="461">
                              <a:s>&quot;Type of last Meningococcal dose&quot;</a:s>
                           </a:s>
                           <a:s> in </a:s>
                           <a:s r="463">
                              <a:s r="462">
                                 <a:s>IMMZc</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="463">
                                 <a:s>&quot;Quadrivalent conjugate&quot;</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
                  <a:s>)</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="465" locator="395:2-395:144" xsi:type="And">
            <operand localId="460" locator="395:3-395:69" xsi:type="And">
               <operand localId="458" locator="395:4-395:13" name="1 dose" xsi:type="ExpressionRef"/>
               <operand localId="459" locator="395:19-395:68" name="Date last Meningococcal dose given >= 12 weeks" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="464" locator="395:75-395:143" xsi:type="InValueSet">
               <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                  <operand localId="461" locator="395:76-395:108" name="Type of last Meningococcal dose" xsi:type="ExpressionRef"/>
               </code>
               <valueset localId="463" locator="395:113-395:142" name="Quadrivalent conjugate" libraryName="IMMZc"/>
            </operand>
         </expression>
      </def>
      <def localId="468" locator="400:1-401:8" name="9 months" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="468">
               <a:s>/** 
 * @dataElement 9 months
*/
define &quot;9 months&quot;:
	</a:s>
               <a:s r="467">
                  <a:s>9 month</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="467" locator="401:2-401:8" value="9" unit="month" xsi:type="Quantity"/>
      </def>
      <def localId="470" locator="407:1-408:9" name="23 months" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="470">
               <a:s>/** 
 * @dataElement 23 months
*/
define &quot;23 months&quot;:
	</a:s>
               <a:s r="469">
                  <a:s>23 month</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="469" locator="408:2-408:9" value="23" unit="month" xsi:type="Quantity"/>
      </def>
      <def localId="472" locator="413:1-414:7" name="2 years" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="472">
               <a:s>/**
 * @dataElement 2 years
 */
define &quot;2 years&quot;:
	</a:s>
               <a:s r="471">
                  <a:s>2 year</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="471" locator="414:2-414:7" value="2" unit="year" xsi:type="Quantity"/>
      </def>
      <def localId="506" locator="419:1-426:5" name="Patient Has Not Received 1st Quadrivalent conjugate Booster" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="506">
               <a:s>/**
 * @dataElement Patient has received dose 3 (booster) if beween 2 and 11 months or dose 2 (booster) if > 12 months
 */
define &quot;Patient Has Not Received 1st Quadrivalent conjugate Booster&quot;:
	</a:s>
               <a:s r="505">
                  <a:s>not </a:s>
                  <a:s r="504">
                     <a:s>exists</a:s>
                     <a:s r="503">
                        <a:s>(
		</a:s>
                        <a:s r="503">
                           <a:s>
                              <a:s r="474">
                                 <a:s r="473">
                                    <a:s>
                                       <a:s>IMMZCom.&quot;Meningococcal Doses Administered to Patient&quot;</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> I</a:s>
                              </a:s>
                           </a:s>
                           <a:s> 
		</a:s>
                           <a:s r="502">
                              <a:s>where </a:s>
                              <a:s r="502">
                                 <a:s r="479">
                                    <a:s r="476">
                                       <a:s r="475">
                                          <a:s>I</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="476">
                                          <a:s>vaccineCode</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="478">
                                       <a:s r="477">
                                          <a:s>IMMZc</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="478">
                                          <a:s>&quot;Quadrivalent conjugate&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> 
		and </a:s>
                                 <a:s r="501">
                                    <a:s>exists</a:s>
                                    <a:s r="500">
                                       <a:s>(</a:s>
                                       <a:s r="500">
                                          <a:s>
                                             <a:s r="481">
                                                <a:s r="480">
                                                   <a:s>
                                                      <a:s>I.protocolApplied</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s> P</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> 
			</a:s>
                                          <a:s r="499">
                                             <a:s>where </a:s>
                                             <a:s r="499">
                                                <a:s r="490">
                                                   <a:s>(</a:s>
                                                   <a:s r="490">
                                                      <a:s r="485">
                                                         <a:s r="482">
                                                            <a:s>&quot;Age when patient received 1st dose&quot;</a:s>
                                                         </a:s>
                                                         <a:s> between </a:s>
                                                         <a:s r="483">
                                                            <a:s>&quot;9 months&quot;</a:s>
                                                         </a:s>
                                                         <a:s> and </a:s>
                                                         <a:s r="484">
                                                            <a:s>&quot;23 months&quot;</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> and </a:s>
                                                      <a:s r="489">
                                                         <a:s r="487">
                                                            <a:s r="486">
                                                               <a:s>P</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="487">
                                                               <a:s>doseNumber</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s r="488"> = 3</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>)</a:s>
                                                </a:s>
                                                <a:s> or
			</a:s>
                                                <a:s r="498">
                                                   <a:s>(</a:s>
                                                   <a:s r="498">
                                                      <a:s r="493">
                                                         <a:s r="491">
                                                            <a:s>&quot;Age when patient received 1st dose&quot;</a:s>
                                                         </a:s>
                                                         <a:s> >= </a:s>
                                                         <a:s r="492">
                                                            <a:s>&quot;2 years&quot;</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> and </a:s>
                                                      <a:s r="497">
                                                         <a:s r="495">
                                                            <a:s r="494">
                                                               <a:s>P</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="495">
                                                               <a:s>doseNumber</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s r="496"> = 2</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>)</a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
			)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="505" locator="420:2-426:5" xsi:type="Not">
            <operand localId="504" locator="420:6-426:5" xsi:type="Exists">
               <operand localId="503" locator="420:12-426:5" xsi:type="Query">
                  <source localId="474" locator="421:3-421:57" alias="I">
                     <expression localId="473" locator="421:3-421:55" name="Meningococcal Doses Administered to Patient" libraryName="IMMZCom" xsi:type="ExpressionRef"/>
                  </source>
                  <where localId="502" locator="422:3-426:4" xsi:type="And">
                     <operand localId="479" locator="422:9-422:55" xsi:type="InValueSet">
                        <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="476" locator="422:9-422:21" path="vaccineCode" scope="I" xsi:type="Property"/>
                        </code>
                        <valueset localId="478" locator="422:26-422:55" name="Quadrivalent conjugate" libraryName="IMMZc"/>
                     </operand>
                     <operand localId="501" locator="423:7-426:4" xsi:type="Exists">
                        <operand localId="500" locator="423:13-426:4" xsi:type="Query">
                           <source localId="481" locator="423:14-423:32" alias="P">
                              <expression localId="480" locator="423:14-423:30" path="protocolApplied" scope="I" xsi:type="Property"/>
                           </source>
                           <where localId="499" locator="424:4-425:75" xsi:type="Or">
                              <operand localId="490" locator="424:10-424:103" xsi:type="And">
                                 <operand localId="485" locator="424:11-424:81" xsi:type="And">
                                    <operand xsi:type="GreaterOrEqual">
                                       <operand xsi:type="ToQuantity">
                                          <operand localId="482" locator="424:11-424:46" name="Age when patient received 1st dose" xsi:type="ExpressionRef"/>
                                       </operand>
                                       <operand localId="483" locator="424:56-424:65" name="9 months" xsi:type="ExpressionRef"/>
                                    </operand>
                                    <operand xsi:type="LessOrEqual">
                                       <operand xsi:type="ToQuantity">
                                          <operand localId="482" locator="424:11-424:46" name="Age when patient received 1st dose" xsi:type="ExpressionRef"/>
                                       </operand>
                                       <operand localId="484" locator="424:71-424:81" name="23 months" xsi:type="ExpressionRef"/>
                                    </operand>
                                 </operand>
                                 <operand localId="489" locator="424:87-424:102" xsi:type="Equal">
                                    <operand xsi:type="ToInteger">
                                       <operand localId="487" locator="424:87-424:98" path="doseNumber" scope="P" xsi:type="Property"/>
                                    </operand>
                                    <operand localId="488" locator="424:102" valueType="t:Integer" value="3" xsi:type="Literal"/>
                                 </operand>
                              </operand>
                              <operand localId="498" locator="425:4-425:75" xsi:type="And">
                                 <operand localId="493" locator="425:5-425:53" xsi:type="GreaterOrEqual">
                                    <operand xsi:type="ToQuantity">
                                       <operand localId="491" locator="425:5-425:40" name="Age when patient received 1st dose" xsi:type="ExpressionRef"/>
                                    </operand>
                                    <operand localId="492" locator="425:45-425:53" name="2 years" xsi:type="ExpressionRef"/>
                                 </operand>
                                 <operand localId="497" locator="425:59-425:74" xsi:type="Equal">
                                    <operand xsi:type="ToInteger">
                                       <operand localId="495" locator="425:59-425:70" path="doseNumber" scope="P" xsi:type="Property"/>
                                    </operand>
                                    <operand localId="496" locator="425:74" valueType="t:Integer" value="2" xsi:type="Literal"/>
                                 </operand>
                              </operand>
                           </where>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="540" locator="432:1-439:5" name="Patient has completed Quadrivalent conjugate primary series" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="540">
               <a:s>/**
 * @dataElement Patient has received dose 3 (booster) if beween 2 and 11 months or dose 2 (booster) if > 12 months
 */
define &quot;Patient has completed Quadrivalent conjugate primary series&quot;:
	</a:s>
               <a:s r="539">
                  <a:s>not </a:s>
                  <a:s r="538">
                     <a:s>exists</a:s>
                     <a:s r="537">
                        <a:s>(
		</a:s>
                        <a:s r="537">
                           <a:s>
                              <a:s r="508">
                                 <a:s r="507">
                                    <a:s>
                                       <a:s>IMMZCom.&quot;Meningococcal Doses Administered to Patient&quot;</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> I</a:s>
                              </a:s>
                           </a:s>
                           <a:s> 
		</a:s>
                           <a:s r="536">
                              <a:s>where </a:s>
                              <a:s r="536">
                                 <a:s r="513">
                                    <a:s r="510">
                                       <a:s r="509">
                                          <a:s>I</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="510">
                                          <a:s>vaccineCode</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="512">
                                       <a:s r="511">
                                          <a:s>IMMZc</a:s>
                                       </a:s>
                                       <a:s>.</a:s>
                                       <a:s r="512">
                                          <a:s>&quot;Quadrivalent conjugate&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> 
		and </a:s>
                                 <a:s r="535">
                                    <a:s>exists</a:s>
                                    <a:s r="534">
                                       <a:s>(</a:s>
                                       <a:s r="534">
                                          <a:s>
                                             <a:s r="515">
                                                <a:s r="514">
                                                   <a:s>
                                                      <a:s>I.protocolApplied</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s> P</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s> 
			</a:s>
                                          <a:s r="533">
                                             <a:s>where </a:s>
                                             <a:s r="533">
                                                <a:s r="524">
                                                   <a:s>(</a:s>
                                                   <a:s r="524">
                                                      <a:s r="519">
                                                         <a:s r="516">
                                                            <a:s>&quot;Age when patient received 1st dose&quot;</a:s>
                                                         </a:s>
                                                         <a:s> between </a:s>
                                                         <a:s r="517">
                                                            <a:s>&quot;9 months&quot;</a:s>
                                                         </a:s>
                                                         <a:s> and </a:s>
                                                         <a:s r="518">
                                                            <a:s>&quot;23 months&quot;</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> and </a:s>
                                                      <a:s r="523">
                                                         <a:s r="521">
                                                            <a:s r="520">
                                                               <a:s>P</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="521">
                                                               <a:s>doseNumber</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s r="522"> = 2</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>)</a:s>
                                                </a:s>
                                                <a:s> or
			</a:s>
                                                <a:s r="532">
                                                   <a:s>(</a:s>
                                                   <a:s r="532">
                                                      <a:s r="527">
                                                         <a:s r="525">
                                                            <a:s>&quot;Age when patient received 1st dose&quot;</a:s>
                                                         </a:s>
                                                         <a:s> >= </a:s>
                                                         <a:s r="526">
                                                            <a:s>&quot;2 years&quot;</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s> and </a:s>
                                                      <a:s r="531">
                                                         <a:s r="529">
                                                            <a:s r="528">
                                                               <a:s>P</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="529">
                                                               <a:s>doseNumber</a:s>
                                                            </a:s>
                                                         </a:s>
                                                         <a:s r="530"> = 1</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>)</a:s>
                                                </a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
			)</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>)</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="539" locator="433:2-439:5" xsi:type="Not">
            <operand localId="538" locator="433:6-439:5" xsi:type="Exists">
               <operand localId="537" locator="433:12-439:5" xsi:type="Query">
                  <source localId="508" locator="434:3-434:57" alias="I">
                     <expression localId="507" locator="434:3-434:55" name="Meningococcal Doses Administered to Patient" libraryName="IMMZCom" xsi:type="ExpressionRef"/>
                  </source>
                  <where localId="536" locator="435:3-439:4" xsi:type="And">
                     <operand localId="513" locator="435:9-435:55" xsi:type="InValueSet">
                        <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="510" locator="435:9-435:21" path="vaccineCode" scope="I" xsi:type="Property"/>
                        </code>
                        <valueset localId="512" locator="435:26-435:55" name="Quadrivalent conjugate" libraryName="IMMZc"/>
                     </operand>
                     <operand localId="535" locator="436:7-439:4" xsi:type="Exists">
                        <operand localId="534" locator="436:13-439:4" xsi:type="Query">
                           <source localId="515" locator="436:14-436:32" alias="P">
                              <expression localId="514" locator="436:14-436:30" path="protocolApplied" scope="I" xsi:type="Property"/>
                           </source>
                           <where localId="533" locator="437:4-438:75" xsi:type="Or">
                              <operand localId="524" locator="437:10-437:103" xsi:type="And">
                                 <operand localId="519" locator="437:11-437:81" xsi:type="And">
                                    <operand xsi:type="GreaterOrEqual">
                                       <operand xsi:type="ToQuantity">
                                          <operand localId="516" locator="437:11-437:46" name="Age when patient received 1st dose" xsi:type="ExpressionRef"/>
                                       </operand>
                                       <operand localId="517" locator="437:56-437:65" name="9 months" xsi:type="ExpressionRef"/>
                                    </operand>
                                    <operand xsi:type="LessOrEqual">
                                       <operand xsi:type="ToQuantity">
                                          <operand localId="516" locator="437:11-437:46" name="Age when patient received 1st dose" xsi:type="ExpressionRef"/>
                                       </operand>
                                       <operand localId="518" locator="437:71-437:81" name="23 months" xsi:type="ExpressionRef"/>
                                    </operand>
                                 </operand>
                                 <operand localId="523" locator="437:87-437:102" xsi:type="Equal">
                                    <operand xsi:type="ToInteger">
                                       <operand localId="521" locator="437:87-437:98" path="doseNumber" scope="P" xsi:type="Property"/>
                                    </operand>
                                    <operand localId="522" locator="437:102" valueType="t:Integer" value="2" xsi:type="Literal"/>
                                 </operand>
                              </operand>
                              <operand localId="532" locator="438:4-438:75" xsi:type="And">
                                 <operand localId="527" locator="438:5-438:53" xsi:type="GreaterOrEqual">
                                    <operand xsi:type="ToQuantity">
                                       <operand localId="525" locator="438:5-438:40" name="Age when patient received 1st dose" xsi:type="ExpressionRef"/>
                                    </operand>
                                    <operand localId="526" locator="438:45-438:53" name="2 years" xsi:type="ExpressionRef"/>
                                 </operand>
                                 <operand localId="531" locator="438:59-438:74" xsi:type="Equal">
                                    <operand xsi:type="ToInteger">
                                       <operand localId="529" locator="438:59-438:70" path="doseNumber" scope="P" xsi:type="Property"/>
                                    </operand>
                                    <operand localId="530" locator="438:74" valueType="t:Integer" value="1" xsi:type="Literal"/>
                                 </operand>
                              </operand>
                           </where>
                        </operand>
                     </operand>
                  </where>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="557" locator="453:1-455:66" name="Should vaccinate patient with Quadrivalent conjugate vaccines (A,C,W135,Y-D) non-recurring booster 3-5 years after last shot" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="557">
               <a:s>/*
 * Rule: Should vaccinate patient with Quadrivalent conjugate vaccines (A,C,W135,Y-D) non-recurring booster 3-5 years after last shot
 * Annotations:
 * 	 - Provide Meningococcal immunizations – using the &quot;Quadrivalent conjugate vaccines (A,C,W135,Y-D) immunization – Single non-recurring BOOSTER&quot; schedule (1 dose booster)
 * Outputs:
 * 	 - Immunize Patient for Meningococcal - Non-recurring Booster
 * References:
 * 	- WHO recommendations for routine immunization - summary tables: https://www.who.int/teams/immunization-vaccines-and-biologicals/policies/who-recommendations-for-routine-immunization---summary-tables
 * Logic:
 *	 ((((((&quot;Patient has completed Meningococcal primary series&quot; = true) and (&quot;Date last Meningococcal dose given&quot; >= &quot;3 years&quot; = true)) and (&quot;Date last Meningococcal dose given&quot; &lt;= &quot;5 years&quot; = true)) and (&quot;Type of last Meningococcal dose&quot; = &quot;Quadrivalent conjugate&quot;)) and (&quot;Individual has a continued high risk of exposure (including health workers)&quot; = true)) and (&quot;Region recommends Meningococcal vaccination&quot; = true))
 */
define &quot;Should vaccinate patient with Quadrivalent conjugate vaccines (A,C,W135,Y-D) non-recurring booster 3-5 years after last shot&quot;:
	</a:s>
               <a:s r="556">
                  <a:s r="554">
                     <a:s>(</a:s>
                     <a:s r="554">
                        <a:s r="552">
                           <a:s>(</a:s>
                           <a:s r="552">
                              <a:s r="550">
                                 <a:s>(</a:s>
                                 <a:s r="550">
                                    <a:s r="545">
                                       <a:s>(</a:s>
                                       <a:s r="545">
                                          <a:s r="543">
                                             <a:s>(</a:s>
                                             <a:s r="543">
                                                <a:s r="541">
                                                   <a:s>(</a:s>
                                                   <a:s r="541">
                                                      <a:s>&quot;Patient has completed Quadrivalent conjugate primary series&quot;</a:s>
                                                   </a:s>
                                                   <a:s>)</a:s>
                                                </a:s>
                                                <a:s> and </a:s>
                                                <a:s r="542">
                                                   <a:s>(</a:s>
                                                   <a:s r="542">
                                                      <a:s>&quot;Date last Meningococcal dose given >= 3 years&quot;</a:s>
                                                   </a:s>
                                                   <a:s>)</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                          <a:s> and </a:s>
                                          <a:s r="544">
                                             <a:s>(</a:s>
                                             <a:s r="544">
                                                <a:s>&quot;Date last Meningococcal dose given &lt;= 5 years&quot;</a:s>
                                             </a:s>
                                             <a:s>)</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                    <a:s> and </a:s>
                                    <a:s r="549">
                                       <a:s>(</a:s>
                                       <a:s r="549">
                                          <a:s r="546">
                                             <a:s>&quot;Type of last Meningococcal dose&quot;</a:s>
                                          </a:s>
                                          <a:s> in </a:s>
                                          <a:s r="548">
                                             <a:s r="547">
                                                <a:s>IMMZc</a:s>
                                             </a:s>
                                             <a:s>.</a:s>
                                             <a:s r="548">
                                                <a:s>&quot;Quadrivalent conjugate&quot;</a:s>
                                             </a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>)</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                              <a:s> and </a:s>
                              <a:s r="551">
                                 <a:s>(</a:s>
                                 <a:s r="551">
                                    <a:s>&quot;Individual has a continued high risk of exposure (including health workers)&quot;</a:s>
                                 </a:s>
                                 <a:s>)</a:s>
                              </a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                        <a:s> and </a:s>
                        <a:s r="553">
                           <a:s>(</a:s>
                           <a:s r="553">
                              <a:s>&quot;Region recommends Meningococcal vaccination&quot;</a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                     </a:s>
                     <a:s>)</a:s>
                  </a:s>
                  <a:s>
	and </a:s>
                  <a:s r="555">
                     <a:s>&quot;Patient Has Not Received 1st Quadrivalent conjugate Booster&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="556" locator="454:2-455:66" xsi:type="And">
            <operand localId="554" locator="454:2-454:392" xsi:type="And">
               <operand localId="552" locator="454:3-454:339" xsi:type="And">
                  <operand localId="550" locator="454:4-454:254" xsi:type="And">
                     <operand localId="545" locator="454:5-454:179" xsi:type="And">
                        <operand localId="543" locator="454:6-454:124" xsi:type="And">
                           <operand localId="541" locator="454:7-454:69" name="Patient has completed Quadrivalent conjugate primary series" xsi:type="ExpressionRef"/>
                           <operand localId="542" locator="454:75-454:123" name="Date last Meningococcal dose given >= 3 years" xsi:type="ExpressionRef"/>
                        </operand>
                        <operand localId="544" locator="454:130-454:178" name="Date last Meningococcal dose given &lt;= 5 years" xsi:type="ExpressionRef"/>
                     </operand>
                     <operand localId="549" locator="454:185-454:253" xsi:type="InValueSet">
                        <code name="ToConcept" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                           <operand localId="546" locator="454:186-454:218" name="Type of last Meningococcal dose" xsi:type="ExpressionRef"/>
                        </code>
                        <valueset localId="548" locator="454:223-454:252" name="Quadrivalent conjugate" libraryName="IMMZc"/>
                     </operand>
                  </operand>
                  <operand localId="551" locator="454:260-454:338" name="Individual has a continued high risk of exposure (including health workers)" xsi:type="ParameterRef"/>
               </operand>
               <operand localId="553" locator="454:345-454:391" name="Region recommends Meningococcal vaccination" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="555" locator="455:6-455:66" name="Patient Has Not Received 1st Quadrivalent conjugate Booster" xsi:type="ExpressionRef"/>
         </expression>
      </def>
   </statements>
</library>
