<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
    <title>IMMZEncounterElements - WHO Immunization Implementation Guide v0.2.0</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link href="fhir.css" rel="stylesheet"/>
    <link href="assets/css/fa-all.css" rel="stylesheet" type="text/css" />
    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap-fhir.css" rel="stylesheet"/>

    <!-- Project extras -->
    <link href="assets/css/project.css" rel="stylesheet"/>
    <link href="assets/css/pygments-manni.css" rel="stylesheet"/>
    <link href="assets/css/jquery-ui.css" rel="stylesheet"/>
  	<link href="assets/css/prism.css" rel="stylesheet" />
    <!-- Placeholder for child template CSS declarations -->
    <link href="assets/css/who.css" rel="stylesheet"/>
    <link href="assets/css/lforms.min.css" rel="stylesheet"/>


    <script type="text/javascript" src="fhir-table-scripts.js"> </script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif]-->

    <!-- Favicons -->
    <link rel="fhir-logo" sizes="144x144" href="assets/ico/icon-fhir-144.png"/>
    <link rel="fhir-logo" sizes="114x114" href="assets/ico/icon-fhir-114.png"/>
    <link rel="fhir-logo" sizes="72x72" href="assets/ico/icon-fhir-72.png"/>
    <link rel="fhir-logo" href="assets/ico/icon-fhir-57.png"/>
    <link rel="shortcut icon" href="assets/ico/favicon.png"/>
  </head>
  <body onload="document.body.style.opacity='1'">

	  <script src="assets/js/prism.js"></script>

    <style type="text/css">h2{--heading-prefix:"5.1.456"}
    h3,h4,h5,h6{--heading-prefix:"5.1.456"}</style>
    <div id="segment-header" class="segment">  <!-- segment-header -->

      <div id="segment-navbar" class="segment">  <!-- segment-navbar -->
        <div id="stripe"> </div>
        <div class="container">  <!-- container -->
          <!-- HEADER CONTENT -->
  
          <nav class="navbar navbar-inverse">
            <!--status-bar-->
            <div class="container">
              <button data-target=".navbar-inverse-collapse" class="navbar-toggle" data-toggle="collapse" type="button">
                <span class="icon-bar"> </span>
                <span class="icon-bar"> </span>
                <span class="icon-bar"> </span>
              </button>
              <a class="navbar-brand hidden" href="http://hl7.org/fhir/R4/index.html">FHIR</a>
              <div class="nav-collapse collapse navbar-inverse-collapse">
                <!-- menu.xml  -->

<ul xmlns="http://www.w3.org/1999/xhtml" class="nav navbar-nav">
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Home
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="index.html">Summary</a>
      </li>
      <li>
        <a href="changes.html">Changes</a>
      </li>
      <li>
        <a href="dependencies.html">Dependencies</a>
      </li>
      <li>
        <a href="references.html">References</a>
      </li>
      <li>
        <a href="adapting.html">Adapting Guidelines for Country use</a>
      </li>
    </ul>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Business Requirements
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="concepts.html">Concepts</a>
      </li>
      <li>
        <a href="personas.html">Generic Personas</a>
      </li>
      <li>
        <a href="scenarios.html">User Scenarios</a>
      </li>
      <li>
        <a href="business-processes.html">Business Processes</a>
      </li>
      <li>
        <a href="dictionary.html">Data Dictionary</a>
      </li>
      <li>
        <a href="decision-logic.html">Decision-support Logic</a>
      </li>
      <li>
        <a href="indicators.html">Indicator and Performance Metrics</a>
      </li>
      <li>
        <a href="functional-requirements.html">Functional Requirements</a>
      </li>
      <li>
        <a href="non-functional-requirements.html">Non-functional Requirements</a>
      </li>
    </ul>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Data Models and Exchange
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="system-actors.html">System Actors</a>
      </li>
      <li>
        <a href="sequence-diagrams.html">Sequence Diagrams</a>
      </li>
      <li>
        <a href="transactions.html">Transactions</a>
      </li>
      <li>
        <a href="indicators-measures.html">Indicators and Measures</a>
      </li>
      <li>
        <a href="codings.html">Codings</a>
      </li>
    </ul>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Deployment
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="security-privacy.html">Security and Privacy Considerations</a>
      </li>
      <li>
        <a href="testing.html">Testing</a>
      </li>
      <li>
        <a href="test-data.html">Test Data</a>
      </li>
      <li>
        <a href="reference-implementations.html">Reference Implementations</a>
      </li>
      <li>
        <a href="trust_domain.html">Trust Domains</a>
      </li>
      <li>
        <a href="downloads.html">Downloads</a>
      </li>
    </ul>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Indices
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="artifacts.html">Artifact Index</a>
      </li>
      <li>
        <a href="maps.html">Mappings</a>
      </li>
    </ul>
  </li>
</ul>
              </div>  <!-- /.nav-collapse -->

              <div class="sf_colsIn col-md-8  navbar-right-container" data-sf-element="LanguageSelectorSearch" data-placeholder-label="Language Selector and Search" style="display: flex; justify-content: flex-end; align-items: center;">
                <!-- This div will be pushed to the right -->
                <div class="language-selector" style="margin-left: auto; background-color: #00477d; color: white;">
                  <i class="fa fa-language fa-lg"></i>
                  <label for="language-selector"> </label>
                  <select onChange="openLink(value)" id="language-selector" name="language-selector">
                    <option disabled selected>Select language</option>
                    <option value="en" class="selected">English</option>
                  </select>
                  <i class="fas fa-angle-down"></i>
                </div>
                <!-- Search Content -->
              </div>
            </div>  <!-- /.container -->
          </nav>  <!-- /.navbar -->
        <!-- /HEADER CONTENT -->
        </div>  <!-- /container -->
      </div>  <!-- /segment-navbar -->
      

      <div class="container" style=" justify-content: space-between; align-items: left;">

        <!-- Placeholder for child template header declarations -->
<div id="project-nav">
    <a id="who-logo" no-external="true" href="index.html">
        
    </a>
</div>

 <div id="family-nav">
  <a id="fhir-logo" no-external="true" href="http://hl7.org/fhir">  </a>
</div> 


        <div id="ig-status" class="ig-status-draft">
          <p><span style="font-size:12pt;font-weight:bold">WHO Immunization Implementation Guide</span>
            <br/>
            <span style="display:inline-block;">0.2.0 - ci-build


            </span>
          </p>
        </div>
      </div> <!-- /container -->
    </div>  <!-- /segment-header -->


    <!--status-bar-->

    <div id="segment-breadcrumb" class="segment">  <!-- segment-breadcrumb -->
      <div class="container">  <!-- container -->
        <ul class="breadcrumb">
          <li><a href='toc.html'><b>Table of Contents</b></a></li><li><a href='indices.html'><b>Indices</b></a></li><li><a href='artifacts.html'><b>Artifact Index</b></a></li><li><b>IMMZEncounterElements</b></li>

        </ul>
      </div>  <!-- /container -->
    </div>  <!-- /segment-breadcrumb -->

    <a name="top"> </a>
    <div id="segment-content" class="segment">  <!-- segment-content -->
      <div class="container">  <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<div class="col-12">
  <!--ReleaseHeader--><p id="publish-box">WHO Immunization Implementation Guide, published by WHO. This guide is not an authorized publication; it is the continuous build for version 0.2.0  built by the FHIR (HL7&reg; FHIR&reg; Standard) CI Build. This version is based on the current content of <a href='https://github.com/WorldHealthOrganization/smart-immunizations/tree/sop'>https://github.com/WorldHealthOrganization/smart-immunizations/tree/sop</a> and changes regularly. See the <a href='http://smart.who.int/immunizations/history.html'>Directory of published versions</a></p><!--EndReleaseHeader-->
  








<ul class="nav nav-tabs">

  <li class="active">
    <a href="#">Narrative Content</a>
  </li>



  
    <li>
      <a href="Library-IMMZEncounterElements.xml.html">XML</a>
    </li>
  


  
    <li>
      <a href="Library-IMMZEncounterElements.json.html">JSON</a>
    </li>
  


  
    <li>
      <a href="Library-IMMZEncounterElements.ttl.html">TTL</a>
    </li>
  



</ul>

  <a name="root"> </a>

  <h2 id="root">Library: IMMZEncounterElements
(Experimental)
  </h2>

  <table class="colsd">

    <tr>
      <td colspan="4"><i>Official URL</i>: <span class="copy-text">http://smart.who.int/immunizations/Library/IMMZEncounterElements<button title="Click to copy URL" class="btn-copy" data-clipboard-text="http://smart.who.int/immunizations/Library/IMMZEncounterElements"/></span>
      </td>
      <td><i>Version</i>:
      <span class="copy-text">0.2.0<button title="Click to copy versioned URL" class="btn-copy" data-clipboard-text="http://smart.who.int/immunizations/Library/IMMZEncounterElements|0.2.0"/></span>
      </td>
    </tr>

    <tr>







      <td colspan="4">
        
          Draft
          
            as of 2025-06-25
          
        
      </td>



      <td><i>Computable Name</i>: <span style="font-family: monospace;">IMMZEncounterElements</span></td>
    </tr>




  </table>


<p>
<p>This library defines encounter-based elements used throughout the Immunization CPG</p>

</p>


  <!-- insert intro if present -->
  



<!--  <p>
  Formats: <a href="Library-IMMZEncounterElements.xml.html">XML</a>, <a href="Library-IMMZEncounterElements.json.html">JSON</a>, <a href="Library-IMMZEncounterElements.ttl.html">Turtle</a>
  </p>-->

  


  <div xmlns="http://www.w3.org/1999/xhtml">
<div>
    <table class="grid dict">
        
        
        <tr>
            <th scope="row"><b>Title: </b></th>
            <td style="padding-left: 4px;">IMMZEncounterElements</td>
        </tr>
        

        
        
        <tr>
            <th scope="row"><b>Id: </b></th>
            <td style="padding-left: 4px;">IMMZEncounterElements</td>
        </tr>
        

        
        
        <tr>
            <th scope="row"><b>Version: </b></th>
            <td style="padding-left: 4px;">0.2.0</td>
        </tr>
        

        
        <tr>
            <th scope="row"><b>Url: </b></th>
            <td style="padding-left: 4px;"><a href="Library-IMMZEncounterElements.html">IMMZEncounterElements</a></td>
        </tr>
        

        

        

        
        <tr>
            <th scope="row"><b>Status: </b></th>
            <td style="padding-left: 4px;">draft</td>
        </tr>
        

        
        <tr>
            <th scope="row"><b>Experimental: </b></th>
            <td style="padding-left: 4px;">true</td>
        </tr>
        

        
        <tr>
            <th scope="row"><b>Type: </b></th>
            <td style="padding-left: 4px;">
                
                    
                        
                        <p style="margin-bottom: 5px;">
                            <b>system: </b> <span><a href="http://terminology.hl7.org/6.0.2/CodeSystem-library-type.html">http://terminology.hl7.org/CodeSystem/library-type</a></span>
                        </p>
                        
                        
                        <p style="margin-bottom: 5px;">
                            <b>code: </b> <span>logic-library</span>
                        </p>
                        
                        
                    
                
                
            </td>
        </tr>
        

        

        
        <tr>
            <th scope="row"><b>Date: </b></th>
            <td style="padding-left: 4px;">2025-06-25 20:08:00+0000</td>
        </tr>
        

        
        <tr>
            <th scope="row"><b>Publisher: </b></th>
            <td style="padding-left: 4px;">WHO</td>
        </tr>
        

        
        <tr>
            <th scope="row"><b>Description: </b></th>
            <td style="padding-left: 4px;"><div><p>This library defines encounter-based elements used throughout the Immunization CPG</p>
</div></td>
        </tr>
        

        

        

        

        

        

        

        

        

        

        

        
        <tr>
            <th scope="row"><b>Related Artifacts: </b></th>
            <td style="padding-left: 4px;">
                
                
                
                <p><b>Dependencies</b></p>
                <ul>
                  
                    <li><a href="Library-WHOConcepts.html">WHOConcepts</a></li>
                  
                    <li><a href="Library-WHOCommon.html">WHOCommon</a></li>
                  
                    <li><a href="Library-WHOEncounterElements.html">WHOEncounterElements</a></li>
                  
                    <li><a href="Library-IMMZConcepts.html">IMMZConcepts</a></li>
                  
                    <li><a href="Library-IMMZCommon.html">IMMZCommon</a></li>
                  
                    <li><a href="Library-IMMZElements.html">IMMZElements</a></li>
                  
                </ul>
                
                
                
                
                
            </td>
        </tr>
        

        
        <tr>
          <th scope="row"><b>Parameters: </b></th>
          <td style="padding-left: 4px;">
            <table class="grid-dict">
              <tr><th><b>Name</b></th><th><b>Type</b></th><th><b>Min</b></th><th><b>Max</b></th><th><b>In/Out</b></th></tr>
              
                <tr><th>Today</th><th>date</th><th>0</th><th>1</th><th>In</th></tr>
              
                <tr><th>EncounterId</th><th>string</th><th>0</th><th>1</th><th>In</th></tr>
              
                <tr><th>Patient</th><th>Patient</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Doses Administered to Patient</th><th>Immunization</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>Draft Medication Request for Patient</th><th>MedicationRequest</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>Live Attenuated Vaccines</th><th>Immunization</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>Date of Latest Live Attenuated Vaccine</th><th>date</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Current Patient Age In Years</th><th>integer</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Current Patient Age In Months</th><th>integer</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Current Patient Age In Weeks</th><th>integer</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Current Patient Age In Days</th><th>integer</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>No live vaccine was administered</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Live vaccine was administered in the last 4 weeks</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>No live vaccine was administered in the last 4 weeks</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>CI Currently pregnant Observation</th><th>Observation</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>CI Currently pregnant Condition</th><th>Condition</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>The client is pregnant</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>CI History of anaphylactic reactions Observation</th><th>Observation</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>CI History of anaphylactic reactions Condition</th><th>Condition</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>The client has history of anaphylactic reactions</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>CI Severe allergic reactions Observation</th><th>Observation</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>CI Severe allergic reactions Condition</th><th>Condition</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>The client has history of severe allergic reactions</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>CI Severely immunocompromised Observation</th><th>Observation</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>CI Severely immunocompromised Condition</th><th>Condition</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>The client is severely immunocompromised</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>CI Severely immunosuppressed Observation</th><th>Observation</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>CI Severely immunosuppressed Condition</th><th>Condition</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>The client is severely immunosuppressed</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>CI Symptomatic HIV infection Observation</th><th>Observation</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>CI Symptomatic HIV infection Condition</th><th>Condition</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>The client has a symptomatic HIV infection</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>CI Immunodeficiency syndromes Observation</th><th>Observation</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>CI Immunodeficiency syndromes Condition</th><th>Condition</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>The client has immunodeficiency syndromes</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>CI Exposed to immunosuppressive treatment Observation</th><th>Observation</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>CI Exposed to immunosuppressive treatment Condition</th><th>Condition</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>The client is exposed to immunosuppressive treatment</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>CI Severe acute illness Observation</th><th>Observation</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>CI Severe acute illness Condition</th><th>Condition</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>The client currently has a severe acute illness</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>CI Prior history of intussusception Observation</th><th>Observation</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>CI Prior history of intussusception Condition</th><th>Condition</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>The client has prior history of intussusception</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>CI Altered immunocompetence Observation</th><th>Observation</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>CI Altered immunocompetence Condition</th><th>Condition</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>The client has altered immunocompetence</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>CI Spina bifida Observation</th><th>Observation</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>CI Spina bifida Condition</th><th>Condition</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>The client has spina bifida</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>CI Bladder exstrophy Observation</th><th>Observation</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>CI Bladder exstrophy Condition</th><th>Condition</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>The client has bladder exstrophy</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Immunocompromised Observation</th><th>Observation</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>Client is immunocompromised</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>CI Immunocompromised Observation</th><th>Observation</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>CI Immunocompromised Condition</th><th>Condition</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>The client is immunocompromised</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>CI Planning to get pregnant in the next month Observation</th><th>Observation</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>CI Planning to get pregnant in the next month Condition</th><th>Condition</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>The client is planning to get pregnant in next month</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>CI Receiving blood products Observation</th><th>Observation</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>CI Receiving blood products Condition</th><th>Condition</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>The client is receiving blood products</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>CI TB disease Observation</th><th>Observation</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>CI TB disease Condition</th><th>Condition</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>The client has TB disease</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>CI Breastfeeding Observation</th><th>Observation</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>CI Breastfeeding Condition</th><th>Condition</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>The client is lactating</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>CI Acute gastroenteritis Observation</th><th>Observation</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>CI Acute gastroenteritis Condition</th><th>Condition</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>The client has acute gastroenteritis</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>CI Moderate to severe fever Observation</th><th>Observation</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>CI Moderate to severe fever Condition</th><th>Condition</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>The client has moderate to severe fever</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>CI Hypersensitivity to vaccine components Observation</th><th>Observation</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>CI Hypersensitivity to vaccine components Condition</th><th>Condition</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>The client has hypersensitivity to any component of the vaccine</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>CI Taking antibiotics Observation</th><th>Observation</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>CI Taking antibiotics Condition</th><th>Condition</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>The client is currently taking antibiotics</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>CI Chronic gastrointestinal disease Observation</th><th>Observation</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>CI Chronic gastrointestinal disease Condition</th><th>Condition</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>The client has chronic gastrointestinal disease</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Client's HIV status is positive</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Client's HIV status is negative or unknown</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Client is currently receiving antiretroviral therapy</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Client is currently not receiving antiretroviral therapy</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Immunologically stable Observation</th><th>Observation</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>Client is immunologically stable</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Client is not immunologically stable</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>TB infection test result Observation</th><th>Observation</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>Client's TB infection test result is negative</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Client's TB infection test result is positive</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Client's TB infection test result is unknown (test not done or no result yet)</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Clinically well Observation</th><th>Observation</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>Client is not clinically well</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Client is clinically well</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Client is not immunocompromised</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Birth weight in grams Observation</th><th>Observation</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>Birth weight in grams Value</th><th>Quantity</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Birth weight in grams</th><th>decimal</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Client's weight at birth was over 2000 g</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Client's weight at birth was below 2000 g</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Preterm birth Observation</th><th>Observation</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>Client was a premature infant at birth</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Client was not a premature infant at birth</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Completed the primary vaccination series Observation</th><th>Observation</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>At high risk for pneumococcal infection Observation</th><th>Observation</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>Client is at high risk for pneumococcal infection</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Client is not at high risk for pneumococcal infection</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Date when primary vaccination series was completed Observation</th><th>Observation</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>Completed the booster series Observation</th><th>Observation</th><th>0</th><th>*</th><th>Out</th></tr>
              
            </table>
          </td>
        </tr>
        

        

        
        
        <tr>
          <td colspan="2">
            <table>
              <tr><th><a id="cql-content"><b>Content: </b></a> text/cql</th></tr>
              <tr><td><pre><code class="language-cql">library IMMZEncounterElements

using FHIR version '4.0.1'

include FHIRHelpers version '4.0.1'

include WHOConcepts
include WHOCommon called WC
include WHOEncounterElements called WE

include IMMZConcepts called Concepts
include IMMZCommon called Common
include IMMZElements called Elements

parameter Today Date default Today()
parameter EncounterId String

context Patient

/**
 * @dataElement All Doses Administered to Patient
 */
define &quot;Doses Administered to Patient&quot;:
  Elements.&quot;Doses Administered to Patient&quot; I
    where I.occurrence.toInterval() same day or before Today

/*
@dataElement: Draft Medication Request for Patient
*/
define &quot;Draft Medication Request for Patient&quot;:
  Elements.&quot;Draft Medication Request for Patient&quot; MR
    where MR.encounter.references(EncounterId) 
      or MR.authoredOn.toInterval() same day or before Today
  	sort by date from (authoredOn as FHIR.dateTime) desc

/*
@dataElement Live attenuated vaccines
*/
define &quot;Live Attenuated Vaccines&quot;:
  Elements.&quot;Live Attenuated Vaccines&quot; I
    where I.occurrence.toInterval() same day or before Today

/*
@dataElement Date and time of last live attenuated vaccine
*/
define &quot;Date of Latest Live Attenuated Vaccine&quot;:
  date from start of &quot;Live Attenuated Vaccines&quot;.mostRecent().occurrence.toInterval()
  
/** 
 * @dataElement Patient age in years
 */
define &quot;Current Patient Age In Years&quot;:
  AgeInYearsAt(Today)

/** 
 * @dataElement Patient age in months
 */
define &quot;Current Patient Age In Months&quot;:
  AgeInMonthsAt(Today)

/** 
 * @dataElement Patient age in weeks
 */
define &quot;Current Patient Age In Weeks&quot;:
  AgeInWeeksAt(Today)

/** 
 * @dataElement Patient age in days
 */
define &quot;Current Patient Age In Days&quot;:
  AgeInDaysAt(Today)

/*
@input: No live vaccine was administered
@pseudocode: Today's date − latest &quot;Date and time of vaccination&quot; (where &quot;Live vaccine&quot; = TRUE) IS NULL
*/
define &quot;No live vaccine was administered&quot;:
  not exists(&quot;Live Attenuated Vaccines&quot;)

/*
@input: Live vaccine was administered in the last 4 weeks
@pseudocode: Today's date − latest &quot;Date and time of vaccination&quot; (where &quot;Live vaccine&quot; = TRUE) &lt; 4 weeks
*/
define &quot;Live vaccine was administered in the last 4 weeks&quot;:
	&quot;Date of Latest Live Attenuated Vaccine&quot; is not null 
    and duration in weeks between &quot;Date of Latest Live Attenuated Vaccine&quot; and Today &lt; 4

/*
@input: No live vaccine was administered in the last 4 weeks
@pseudocode: Today's date − latest &quot;Date and time of vaccination&quot; (where &quot;Live vaccine&quot; = TRUE) ≥ 4 weeks
*/
define &quot;No live vaccine was administered in the last 4 weeks&quot;:
  not(&quot;Live vaccine was administered in the last 4 weeks&quot;)

/*
@input: The client is pregnant
@pseudocode: &quot;Potential contraindications&quot; = &quot;Currently pregnant&quot;
*/
define &quot;The client is pregnant&quot;:
  exists &quot;CI Currently pregnant Observation&quot;
  or exists &quot;CI Currently pregnant Condition&quot;
  or exists WE.&quot;Pregnant Observation&quot;

/*
@internal: Observation for currently pregnant
*/
define &quot;CI Currently pregnant Observation&quot;:
  Elements.&quot;CI Currently pregnant Observation&quot; O
    where O.encounter.references(EncounterId)
      or O.effective.toInterval() starts same day or after Today - 9 months

/*
@internal: Condition for currently pregnant
*/
define &quot;CI Currently pregnant Condition&quot;:
  Elements.&quot;CI Currently pregnant Condition&quot; C
    where C.prevalenceInterval() includes Today

/*
@input: The client has history of anaphylactic reactions
@pseudocode: &quot;Potential contraindications&quot; = &quot;History of anaphylactic reactions&quot;
*/
define &quot;The client has history of anaphylactic reactions&quot;:
  exists &quot;CI History of anaphylactic reactions Observation&quot;
    or exists &quot;CI History of anaphylactic reactions Condition&quot;
    
/*
@internal: Observation for History of anaphylactic reactions
*/
define &quot;CI History of anaphylactic reactions Observation&quot;:
  Elements.&quot;CI History of anaphylactic reactions Observation&quot;.encounterOrOnBefore(EncounterId, Today)

/*
@internal: Condition for History of anaphylactic reactions
*/
define &quot;CI History of anaphylactic reactions Condition&quot;:
  Elements.&quot;CI History of anaphylactic reactions Condition&quot; C
    where C.prevalenceInterval() includes Today

/*
@input: The client has history of severe allergic reactions
@pseudocode: &quot;Potential contraindications&quot; = &quot;Severe allergic reactions&quot;
*/
define &quot;The client has history of severe allergic reactions&quot;:
  exists &quot;CI Severe allergic reactions Observation&quot;
    or exists &quot;CI Severe allergic reactions Condition&quot;
    
/*
@internal: Observation for Severe allergic reactions
*/
define &quot;CI Severe allergic reactions Observation&quot;:
  Elements.&quot;CI Severe allergic reactions Observation&quot;.encounterOrOnBefore(EncounterId, Today)

/*
@internal: Condition for Severe allergic reactions
*/
define &quot;CI Severe allergic reactions Condition&quot;:
  Elements.&quot;CI Severe allergic reactions Condition&quot; C
    where C.prevalenceInterval() includes Today

/*
@input: The client is severely immunocompromised
@pseudocode: &quot;Potential contraindications&quot; = &quot;Severely immunocompromised&quot;
*/
define &quot;The client is severely immunocompromised&quot;:
  exists &quot;CI Severely immunocompromised Observation&quot;
    or exists &quot;CI Severely immunocompromised Condition&quot;
    
/*
@internal: Observation for Severely immunocompromised
*/
define &quot;CI Severely immunocompromised Observation&quot;:
  Elements.&quot;CI Severely immunocompromised Observation&quot;.encounterOrOnBefore(EncounterId, Today)

/*
@internal: Condition for Severely immunocompromised
*/
define &quot;CI Severely immunocompromised Condition&quot;:
  Elements.&quot;CI Severely immunocompromised Condition&quot; C
    where C.prevalenceInterval() includes Today

/*
@input: The client is severely immunosuppressed
@pseudocode: &quot;Potential contraindications&quot; = &quot;Severely immunosuppressed&quot;
*/
define &quot;The client is severely immunosuppressed&quot;:
  exists &quot;CI Severely immunosuppressed Observation&quot;
    or exists &quot;CI Severely immunosuppressed Condition&quot;
    
/*
@internal: Observation for Severely immunosuppressed
*/
define &quot;CI Severely immunosuppressed Observation&quot;:
  Elements.&quot;CI Severely immunosuppressed Observation&quot;.encounterOrOnBefore(EncounterId, Today)

/*
@internal: Condition for Severely immunosuppressed
*/
define &quot;CI Severely immunosuppressed Condition&quot;:
  Elements.&quot;CI Severely immunosuppressed Condition&quot; C
    where C.prevalenceInterval() includes Today

/*
@input: The client has a symptomatic HIV infection
@pseudocode: &quot;Potential contraindications&quot; = &quot;Symptomatic HIV infection&quot;
*/
define &quot;The client has a symptomatic HIV infection&quot;:
  exists &quot;CI Symptomatic HIV infection Observation&quot;
    or exists &quot;CI Symptomatic HIV infection Condition&quot;
    
/*
@internal: Observation for Symptomatic HIV infection
*/
define &quot;CI Symptomatic HIV infection Observation&quot;:
  Elements.&quot;CI Symptomatic HIV infection Observation&quot;.encounterOrOnBefore(EncounterId, Today)

/*
@internal: Condition for Symptomatic HIV infection
*/
define &quot;CI Symptomatic HIV infection Condition&quot;:
  Elements.&quot;CI Symptomatic HIV infection Condition&quot; C
    where C.prevalenceInterval() includes Today

/*
@input: The client has immunodeficiency syndromes
@pseudocode: &quot;Potential contraindications&quot; = &quot;Immunodeficiency syndromes&quot;
*/
define &quot;The client has immunodeficiency syndromes&quot;:
  exists &quot;CI Immunodeficiency syndromes Observation&quot;
    or exists &quot;CI Immunodeficiency syndromes Condition&quot;
    
/*
@internal: Observation for Immunodeficiency syndromes
*/
define &quot;CI Immunodeficiency syndromes Observation&quot;:
  Elements.&quot;CI Immunodeficiency syndromes Observation&quot;.encounterOrOnBefore(EncounterId, Today)

/*
@internal: Condition for Immunodeficiency syndromes
*/
define &quot;CI Immunodeficiency syndromes Condition&quot;:
  Elements.&quot;CI Immunodeficiency syndromes Condition&quot; C
    where C.prevalenceInterval() includes Today

/*
@input: The client is exposed to immunosuppressive treatment
@pseudocode: &quot;Potential contraindications&quot; = &quot;Exposed to immunosuppressive treatment&quot;
*/
define &quot;The client is exposed to immunosuppressive treatment&quot;:
  exists &quot;CI Exposed to immunosuppressive treatment Observation&quot;
    or exists &quot;CI Exposed to immunosuppressive treatment Condition&quot;
    
/*
@internal: Observation for Exposed to immunosuppressive treatment
*/
define &quot;CI Exposed to immunosuppressive treatment Observation&quot;:
  Elements.&quot;CI Exposed to immunosuppressive treatment Observation&quot;.encounterOrOnBefore(EncounterId, Today)

/*
@internal: Condition for Exposed to immunosuppressive treatment
*/
define &quot;CI Exposed to immunosuppressive treatment Condition&quot;:
  Elements.&quot;CI Exposed to immunosuppressive treatment Condition&quot; C
    where C.prevalenceInterval() includes Today

/*
@input: The client currently has a severe acute illness
@pseudocode: &quot;Potential contraindications&quot; = &quot;Severe acute illness&quot;
*/
define &quot;The client currently has a severe acute illness&quot;:
  exists &quot;CI Severe acute illness Observation&quot;
    or exists &quot;CI Severe acute illness Condition&quot;
    
/*
@internal: Observation for Severe acute illness
*/
define &quot;CI Severe acute illness Observation&quot;:
  Elements.&quot;CI Severe acute illness Observation&quot;.encounterOrOnBefore(EncounterId, Today)

/*
@internal: Condition for Severe acute illness
*/
define &quot;CI Severe acute illness Condition&quot;:
  Elements.&quot;CI Severe acute illness Condition&quot; C
    where C.prevalenceInterval() includes Today

/*
@input: The client has prior history of intussusception
@pseudocode: &quot;Potential contraindications&quot; = &quot;Prior history of intussusception&quot;
*/
define &quot;The client has prior history of intussusception&quot;:
  exists &quot;CI Prior history of intussusception Observation&quot;
    or exists &quot;CI Prior history of intussusception Condition&quot;
    
/*
@internal: Observation for Prior history of intussusception
*/
define &quot;CI Prior history of intussusception Observation&quot;:
  Elements.&quot;CI Prior history of intussusception Observation&quot;.encounterOrOnBefore(EncounterId, Today)

/*
@internal: Condition for Prior history of intussusception
*/
define &quot;CI Prior history of intussusception Condition&quot;:
  Elements.&quot;CI Prior history of intussusception Condition&quot; C
    where C.prevalenceInterval() includes Today

/*
@input: The client has altered immunocompetence
@pseudocode: &quot;Potential contraindications&quot; = &quot;Altered immunocompetence&quot;
*/
define &quot;The client has altered immunocompetence&quot;:
  exists &quot;CI Altered immunocompetence Observation&quot;
    or exists &quot;CI Altered immunocompetence Condition&quot;
    
/*
@internal: Observation for Altered immunocompetence
*/
define &quot;CI Altered immunocompetence Observation&quot;:
  Elements.&quot;CI Altered immunocompetence Observation&quot;.encounterOrOnBefore(EncounterId, Today)

/*
@internal: Condition for Altered immunocompetence
*/
define &quot;CI Altered immunocompetence Condition&quot;:
  Elements.&quot;CI Altered immunocompetence Condition&quot; C
    where C.prevalenceInterval() includes Today

/*
@input: The client has spina bifida
@pseudocode: &quot;Potential contraindications&quot; = &quot;Spina bifida&quot;
*/
define &quot;The client has spina bifida&quot;:
  exists &quot;CI Spina bifida Observation&quot;
    or exists &quot;CI Spina bifida Condition&quot;
    
/*
@internal: Observation for Spina bifida
*/
define &quot;CI Spina bifida Observation&quot;:
  Elements.&quot;CI Spina bifida Observation&quot;.encounterOrOnBefore(EncounterId, Today)

/*
@internal: Condition for Spina bifida
*/
define &quot;CI Spina bifida Condition&quot;:
  Elements.&quot;CI Spina bifida Condition&quot; C
    where C.prevalenceInterval() includes Today

/*
@input: The client has bladder exstrophy
@pseudocode: &quot;Potential contraindications&quot; = &quot;Bladder exstrophy&quot;
*/
define &quot;The client has bladder exstrophy&quot;:
  exists &quot;CI Bladder exstrophy Observation&quot;
    or exists &quot;CI Bladder exstrophy Condition&quot;
    
/*
@internal: Observation for Bladder exstrophy
*/
define &quot;CI Bladder exstrophy Observation&quot;:
  Elements.&quot;CI Bladder exstrophy Observation&quot;.encounterOrOnBefore(EncounterId, Today)

/*
@internal: Condition for Bladder exstrophy
*/
define &quot;CI Bladder exstrophy Condition&quot;:
  Elements.&quot;CI Bladder exstrophy Condition&quot; C
    where C.prevalenceInterval() includes Today

/*
@input: The client is immunocompromised
@pseudocode: &quot;Potential contraindications&quot; = &quot;Immunocompromised&quot;
*/
define &quot;The client is immunocompromised&quot;:
  &quot;Client is immunocompromised&quot;
    or exists &quot;CI Immunocompromised Observation&quot;
    or exists &quot;CI Immunocompromised Condition&quot;

/*
@internal: Observation for Immunocompromised
*/
define &quot;CI Immunocompromised Observation&quot;:
  Elements.&quot;CI Immunocompromised Observation&quot;.encounterOrOnBefore(EncounterId, Today)

/*
@internal: Condition for Immunocompromised
*/
define &quot;CI Immunocompromised Condition&quot;:
  Elements.&quot;CI Immunocompromised Condition&quot; C
    where C.prevalenceInterval() includes Today

/*
@input: The client is planning to get pregnant in next month
@pseudocode: &quot;Potential contraindications&quot; = &quot;Planning to get pregnant in the next month&quot;
*/
define &quot;The client is planning to get pregnant in next month&quot;:
  exists &quot;CI Planning to get pregnant in the next month Observation&quot;
    or exists &quot;CI Planning to get pregnant in the next month Condition&quot;

/*
@internal: Observation for Planning to get pregnant in the next month
*/
define &quot;CI Planning to get pregnant in the next month Observation&quot;:
  Elements.&quot;CI Planning to get pregnant in the next month Observation&quot;.encounterOrOnBefore(EncounterId, Today)

/*
@internal: Condition for Planning to get pregnant in the next month
*/
define &quot;CI Planning to get pregnant in the next month Condition&quot;:
  Elements.&quot;CI Planning to get pregnant in the next month Condition&quot; C
    where C.prevalenceInterval() includes Today

/*
@input: The client is receiving blood products
@pseudocode: &quot;Potential contraindications&quot; = &quot;Receiving blood products&quot;
*/
define &quot;The client is receiving blood products&quot;:
  exists &quot;CI Receiving blood products Observation&quot;
    or exists &quot;CI Receiving blood products Condition&quot;

/*
@internal: Observation for Receiving blood products
*/
define &quot;CI Receiving blood products Observation&quot;:
  Elements.&quot;CI Receiving blood products Observation&quot;.encounterOrOnBefore(EncounterId, Today)

/*
@internal: Condition for Receiving blood products
*/
define &quot;CI Receiving blood products Condition&quot;:
  Elements.&quot;CI Receiving blood products Condition&quot; C
    where C.prevalenceInterval() includes Today

/*
@input: The client has TB disease
@pseudocode: &quot;Potential contraindications&quot; = &quot;TB disease&quot;
*/
define &quot;The client has TB disease&quot;:
  exists &quot;CI TB disease Observation&quot;
    or exists &quot;CI TB disease Condition&quot;

/*
@internal: Observation for TB disease
*/
define &quot;CI TB disease Observation&quot;:
  Elements.&quot;CI TB disease Observation&quot;.encounterOrOnBefore(EncounterId, Today)

/*
@internal: Condition for TB disease
*/
define &quot;CI TB disease Condition&quot;:
  Elements.&quot;CI TB disease Condition&quot; C
    where C.prevalenceInterval() includes Today

/*
@input: The client is lactating
@pseudocode: &quot;Potential contraindications&quot; = &quot;Breastfeeding&quot;
*/
define &quot;The client is lactating&quot;:
  exists &quot;CI Breastfeeding Observation&quot;
    or exists &quot;CI Breastfeeding Condition&quot;

/*
@internal: Observation for Breastfeeding
*/
define &quot;CI Breastfeeding Observation&quot;:
  Elements.&quot;CI Breastfeeding Observation&quot;.encounterOrOnBefore(EncounterId, Today)

/*
@internal: Condition for Breastfeeding
*/
define &quot;CI Breastfeeding Condition&quot;:
  Elements.&quot;CI Breastfeeding Condition&quot; C
    where C.prevalenceInterval() includes Today

/*
@input: The client has acute gastroenteritis
@pseudocode: &quot;Potential contraindications&quot; = &quot;Acute gastroenteritis&quot;
*/
define &quot;The client has acute gastroenteritis&quot;:
  exists &quot;CI Acute gastroenteritis Observation&quot;
    or exists &quot;CI Acute gastroenteritis Condition&quot;

/*
@internal: Observation for Acute gastroenteritis
*/
define &quot;CI Acute gastroenteritis Observation&quot;:
  Elements.&quot;CI Acute gastroenteritis Observation&quot;.encounterOrOnBefore(EncounterId, Today)

/*
@internal: Condition for Acute gastroenteritis
*/
define &quot;CI Acute gastroenteritis Condition&quot;:
  Elements.&quot;CI Acute gastroenteritis Condition&quot; C
    where C.prevalenceInterval() includes Today

/*
@input: The client has moderate to severe fever
@pseudocode: &quot;Potential contraindications&quot; = &quot;Moderate to severe fever&quot;
*/
define &quot;The client has moderate to severe fever&quot;:
  exists &quot;CI Moderate to severe fever Observation&quot;
    or exists &quot;CI Moderate to severe fever Condition&quot;

/*
@internal: Observation for Moderate to severe fever
*/
define &quot;CI Moderate to severe fever Observation&quot;:
  Elements.&quot;CI Moderate to severe fever Observation&quot;.encounterOrOnBefore(EncounterId, Today)

/*
@internal: Condition for Moderate to severe fever
*/
define &quot;CI Moderate to severe fever Condition&quot;:
  Elements.&quot;CI Moderate to severe fever Condition&quot; C
    where C.prevalenceInterval() includes Today

/*
@input: The client has hypersensitivity to any component of the vaccine
@pseudocode: &quot;Potential contraindications&quot; = &quot;Hypersensitivity to vaccine components&quot;
*/
define &quot;The client has hypersensitivity to any component of the vaccine&quot;:
  exists &quot;CI Hypersensitivity to vaccine components Observation&quot;
    or exists &quot;CI Hypersensitivity to vaccine components Condition&quot;

/*
@internal: Observation for Hypersensitivity to vaccine components
*/
define &quot;CI Hypersensitivity to vaccine components Observation&quot;:
  Elements.&quot;CI Hypersensitivity to vaccine components Observation&quot;.encounterOrOnBefore(EncounterId, Today)

/*
@internal: Condition for Hypersensitivity to vaccine components
*/
define &quot;CI Hypersensitivity to vaccine components Condition&quot;:
  Elements.&quot;CI Hypersensitivity to vaccine components Condition&quot; C
    where C.prevalenceInterval() includes Today

/*
@input: The client is currently taking antibiotics
@pseudocode: &quot;Potential contraindications&quot; = &quot;Taking antibiotics&quot;
*/
define &quot;The client is currently taking antibiotics&quot;:
  exists &quot;CI Taking antibiotics Observation&quot;
    or exists &quot;CI Taking antibiotics Condition&quot;

/*
@internal: Observation for Taking antibiotics
*/
define &quot;CI Taking antibiotics Observation&quot;:
  Elements.&quot;CI Taking antibiotics Observation&quot;.encounterOrOnBefore(EncounterId, Today)

/*
@internal: Condition for Taking antibiotics
*/
define &quot;CI Taking antibiotics Condition&quot;:
  Elements.&quot;CI Taking antibiotics Condition&quot; C
    where C.prevalenceInterval() includes Today

/*
@input: The client has chronic gastrointestinal disease
@pseudocode: &quot;Potential contraindications&quot; = &quot;Chronic gastrointestinal disease&quot;
*/
define &quot;The client has chronic gastrointestinal disease&quot;:
  exists &quot;CI Chronic gastrointestinal disease Observation&quot;
    or exists &quot;CI Chronic gastrointestinal disease Condition&quot;

/*
@internal: Observation for Chronic gastrointestinal disease
*/
define &quot;CI Chronic gastrointestinal disease Observation&quot;:
  Elements.&quot;CI Chronic gastrointestinal disease Observation&quot;.encounterOrOnBefore(EncounterId, Today)

/*
@internal: Condition for Chronic gastrointestinal disease
*/
define &quot;CI Chronic gastrointestinal disease Condition&quot;:
  Elements.&quot;CI Chronic gastrointestinal disease Condition&quot; C
    where C.prevalenceInterval() includes Today



/*
@input: Client's HIV status is negative or unknown
@pseudocode: &quot;HIV status&quot; ≠ &quot;HIV-positive&quot;
*/
define &quot;Client's HIV status is negative or unknown&quot;:
  not &quot;Client's HIV status is positive&quot;

/*
@input: Client's HIV status is positive
@pseudocode: &quot;HIV status&quot; = &quot;HIV-positive&quot;
*/
define &quot;Client's HIV status is positive&quot;:
  exists( (Elements.&quot;HIV status Observation&quot;.encounterOrOnBefore(EncounterId, Today)) O
    where O.value ~ Concepts.&quot;HIV-positive&quot; )

/*
@input: Client is currently receiving antiretroviral therapy
@pseudocode: &quot;Currently on ART&quot; = TRUE
*/
define &quot;Client is currently receiving antiretroviral therapy&quot;:
  Elements.&quot;Currently on ART Observation&quot;.encounterOrOnBefore(EncounterId, Today).mostRecent().value = true

/*
@input: Client is currently not receiving antiretroviral therapy
@pseudocode: &quot;Currently on ART&quot; = FALSE
*/
define &quot;Client is currently not receiving antiretroviral therapy&quot;:
  not &quot;Client is currently receiving antiretroviral therapy&quot;

/*
@internal: Immunologically stable Observation
*/
define &quot;Immunologically stable Observation&quot;:
  Elements.&quot;Immunologically stable Observation&quot;.encounterOrOnBefore(EncounterId, Today)

/*
@input: Client is immunologically stable
@pseudocode: &quot;Immunologically stable&quot; = TRUE
*/
define &quot;Client is immunologically stable&quot;:
  First(&quot;Immunologically stable Observation&quot;).value = true

/*
@input: Client is not immunologically stable
@pseudocode: &quot;Immunologically stable&quot; = FALSE
*/
define &quot;Client is not immunologically stable&quot;:
  First(&quot;Immunologically stable Observation&quot;).value = false

/*
@internal: Immunologically stable Observation
*/
define &quot;TB infection test result Observation&quot;:
  Elements.&quot;TB infection test result Observation&quot;.encounterOrOnBefore(EncounterId, Today)

/*
@input: Client's TB infection test result is negative
@pseudocode: &quot;TB infection test result&quot; = &quot;Negative&quot;
*/
define &quot;Client's TB infection test result is negative&quot;:
  First( &quot;TB infection test result Observation&quot; ).value ~ Concepts.&quot;TB-Negative&quot;
/*
@input: Client's TB infection test result is unknown (test not done or no result yet)
@pseudocode: &quot;TB infection test result&quot; IS NULL
*/
define &quot;Client's TB infection test result is unknown (test not done or no result yet)&quot;:
  not exists( &quot;TB infection test result Observation&quot; ) or (
    not (&quot;Client's TB infection test result is negative&quot;) and not (&quot;Client's TB infection test result is positive&quot;)
  )
/*
@input: Client's TB infection test result is positive
@pseudocode: &quot;TB infection test result&quot; = &quot;Positive&quot;
*/
define &quot;Client's TB infection test result is positive&quot;:
  First( &quot;TB infection test result Observation&quot; ).value ~ Concepts.&quot;TB-Positive&quot;

/*
@internal: Clinically well Observation
*/
define &quot;Clinically well Observation&quot;:
  Elements.&quot;Clinically well Observation&quot;.encounterOrOnBefore(EncounterId, Today)

/*
@input: Client is not clinically well
@pseudocode: &quot;Clinically well&quot; = FALSE
*/
define &quot;Client is not clinically well&quot;:
  First( &quot;Clinically well Observation&quot; ).value = false

/*
@input: Client is clinically well
@pseudocode: &quot;Clinically well&quot; = TRUE
*/
define &quot;Client is clinically well&quot;:
  First( &quot;Clinically well Observation&quot; ).value = true 

/*
@internal: Immunocompromised Observation
*/
define &quot;Immunocompromised Observation&quot;:
  ([Observation: Concepts.&quot;Immunocompromised&quot;] O
    sort by end of effective.toInterval() desc).complete()

/*
@input: Client is immunocompromised
@pseudocode: &quot;Immunocompromised&quot; = TRUE
*/
define &quot;Client is immunocompromised&quot;:
  exists( &quot;Immunocompromised Observation&quot; ) and
  First( &quot;Immunocompromised Observation&quot; ).value = true 

/*
@input: Client is not immunocompromised
@pseudocode: &quot;Immunocompromised&quot; ≠ TRUE
*/
define &quot;Client is not immunocompromised&quot;:
  not &quot;Client is immunocompromised&quot;

/*
@internal: Birth weight in grams Observation
*/
define &quot;Birth weight in grams Observation&quot;:
  Elements.&quot;Birth weight in grams Observation&quot;.encounterOrOnBefore(EncounterId, Today)

define &quot;Birth weight in grams Value&quot;:
  First(&quot;Birth weight in grams Observation&quot;).value as FHIR.Quantity

define &quot;Birth weight in grams&quot;:
  &quot;Birth weight in grams Value&quot;.value as FHIR.decimal

/*
@input: Client's weight at birth was over 2000 g
@pseudocode: &quot;Birth weight in grams&quot;  ≥ 2000
*/
define &quot;Client's weight at birth was over 2000 g&quot;:
  &quot;Birth weight in grams&quot; &gt;= 2000

/*
@input: Client's weight at birth was below 2000 g
@pseudocode: &quot;Birth weight in grams&quot; &lt; 2000
*/
define &quot;Client's weight at birth was below 2000 g&quot;:
  &quot;Birth weight in grams&quot; &lt; 2000

/*
@internal: Preterm birth Observation
*/
define &quot;Preterm birth Observation&quot;:
  Elements.&quot;Preterm birth Observation&quot;.encounterOrOnBefore(EncounterId, Today)

/*
@input: Client was not a premature infant at birth
@pseudocode: &quot;Preterm birth&quot; ≠  TRUE
*/
define &quot;Client was not a premature infant at birth&quot;:
  not(&quot;Client was a premature infant at birth&quot;)

/*
@input: Client was a premature infant at birth
@pseudocode: &quot;Preterm birth&quot; =  TRUE
*/
define &quot;Client was a premature infant at birth&quot;:
  exists( &quot;Preterm birth Observation&quot; O where O.value = true )

/*
@internal: Completed the primary vaccination series Observation
*/
define &quot;Completed the primary vaccination series Observation&quot;:
  Elements.&quot;Completed the primary vaccination series Observation&quot;.encounterOrOnBefore(EncounterId, Today)

/*
@internal: At high risk for pneumococcal infection Observation
*/
define &quot;At high risk for pneumococcal infection Observation&quot;:
  Elements.&quot;At high risk for pneumococcal infection Observation&quot;.encounterOrOnBefore(EncounterId, Today)

/*
@input: Client is at high risk for pneumococcal infection
@pseudocode: &quot;At high risk for pneumococcal infection&quot; = TRUE
*/
define &quot;Client is at high risk for pneumococcal infection&quot;:
  exists( &quot;At high risk for pneumococcal infection Observation&quot; O where O.value = true )

/*
@input: Client is not at high risk for pneumococcal infection
@pseudocode: &quot;At high risk for pneumococcal infection&quot; = FALSE
*/
define &quot;Client is not at high risk for pneumococcal infection&quot;:
  exists( &quot;At high risk for pneumococcal infection Observation&quot; O where O.value = false )

/*
@internal: Date when primary vaccination series was completed Observation
*/
define &quot;Date when primary vaccination series was completed Observation&quot;:
  Elements.&quot;Date when primary vaccination series was completed Observation&quot;.encounterOrOnBefore(EncounterId, Today)

/*
@internal: Completed the booster series Observation
*/
define &quot;Completed the booster series Observation&quot;:
  Elements.&quot;Completed the booster series Observation&quot;.encounterOrOnBefore(EncounterId, Today)</code></pre></td></tr>
            </table>
          </td>
        </tr>
        
        
        
        
        
        <tr>
          <td colspan="2">
            <table>
              <tr><th><b>Content: </b> application/elm+xml</th></tr>
              <tr><td><pre><code>Encoded data (358292 characters)</code></pre></td></tr>
            </table>
          </td>
        </tr>
        
        
    </table>
</div>
</div>

  <!-- insert notes if present -->
  



  

</div>
</div>  <!-- /inner-wrapper -->
</div>  <!-- /row -->
</div>  <!-- /container -->
</div>  <!-- /segment-content -->

<script type="text/javascript" src="assets/js/jquery.js"> </script>     <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
<script type="text/javascript" src="assets/js/jquery-ui.min.js"> </script>

<script type="text/javascript" src="assets/js/window-hash.js"> </script>
<a name="bottom"> </a>
<div id="segment-footer" igtool="footer" class="segment">  <!-- segment-footer -->
<div class="container">  <!-- container -->

<div class="inner-wrapper">
  <p>
    IG &#169; 2023+ <a style="color:var(--footer-hyperlink-text-color)" href="http://who.int">WHO</a>.  Package smart.who.int.immunizations#0.2.0 based on <a style="color: var(--footer-hyperlink-text-color)" href="http://hl7.org/fhir/R4/">FHIR 4.0.1</a>. Generated <span title="Wed, Jun 25, 2025 20:11+0000">2025-06-25</span>
    <br/>
    <span style="color: var(--footer-highlight-text-color)">
                Links: <a style="color: var(--footer-hyperlink-text-color)" href="toc.html">Table of Contents</a> |
                 <a style="color: var(--footer-hyperlink-text-color)" href="qa.html">QA Report</a>
                 
                
| <a style="color: #81BEF7" target="_blank" href="http://smart.who.int/immunizations/history.html">Version History</a> | <a style="color: #81BEF7" rel="license" href="license.html">License</a>
    </span>
  </p>
</div>  <!-- /inner-wrapper -->
</div>  <!-- /container -->
</div>  <!-- /segment-footer -->

<div id="segment-post-footer" class="segment hidden">  <!-- segment-post-footer -->
<div class="container">  <!-- container -->
</div>  <!-- /container -->
</div>  <!-- /segment-post-footer -->

<!-- JS and analytics only. -->
<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script type="text/javascript" src="assets/js/bootstrap.min.js"> </script>
<script type="text/javascript" src="assets/js/respond.min.js"> </script>
<script type="text/javascript" src="assets/js/anchor.min.js"> </script>
<script type="text/javascript" src="assets/js/clipboard.min.js"> </script>
<script type="text/javascript" src="assets/js/clipboard-btn.js"> </script>
<script type="text/javascript" src="assets/js/anchor-hover.js"> </script>
<!-- Analytics Below
================================================== -->




