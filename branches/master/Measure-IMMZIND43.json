{
  "resourceType" : "Measure",
  "id" : "IMMZIND43",
  "meta" : {
    "profile" : ["http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/computable-measure-cqfm"]
  },
  "text" : {
    "status" : "generated",
    "div" : "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative: Measure</b><a name=\"IMMZIND43\"> </a></p><div style=\"display: inline-block; background-color: #d9e0e7; padding: 6px; margin: 4px; border: 1px solid #8da1b4; border-radius: 5px; line-height: 60%\"><p style=\"margin-bottom: 0px\">Resource Measure &quot;IMMZIND43&quot; </p><p style=\"margin-bottom: 0px\">Profile: <code>http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/computable-measure-cqfm</code></p></div><p><b>url</b>: <code>http://fhir.org/guides/who/smart-immunization/Measure/IMMZIND43</code></p><p><b>version</b>: 0.1.0</p><p><b>name</b>: IMMZIND43</p><p><b>title</b>: IMMZ.IND.43 Immunization coverage for Varicella vaccinations (Computed Denominator)</p><p><b>status</b>: draft</p><p><b>date</b>: 2022-05-12 15:36:35-0400</p><p><b>publisher</b>: World Health Organization (WHO)</p><p><b>description</b>: Compares the administered doses of varicella containing vaccine with the number of immunization recommendations for varicella vaccines expressed as a percentage.</p><p><b>jurisdiction</b>: Global (Whole world) <span style=\"background: LightGoldenRodYellow; margin: 4px; border: 1px solid khaki\"> (m49.htm#001)</span></p><p><b>library</b>: <a href=\"Library-IMMZIND43.html\">IMMZIND43</a></p><p><b>scoring</b>: Proportion <span style=\"background: LightGoldenRodYellow; margin: 4px; border: 1px solid khaki\"> (<a href=\"http://terminology.hl7.org/5.0.0/CodeSystem-measure-scoring.html\">MeasureScoring</a>#proportion)</span></p><p><b>type</b>: Process <span style=\"background: LightGoldenRodYellow; margin: 4px; border: 1px solid khaki\"> (<a href=\"http://terminology.hl7.org/5.0.0/CodeSystem-measure-type.html\">MeasureType</a>#process)</span></p><p><b>improvementNotation</b>: Increased score indicates improvement <span style=\"background: LightGoldenRodYellow; margin: 4px; border: 1px solid khaki\"> (<a href=\"http://terminology.hl7.org/5.0.0/CodeSystem-measure-improvement-notation.html\">MeasureImprovementNotation</a>#increase)</span></p><blockquote><p><b>group</b></p><blockquote><p><b>id</b></p>IMMZIND43</blockquote><blockquote><p><b>population</b></p><blockquote><p><b>id</b></p>numerator</blockquote><p><b>code</b>: Numerator <span style=\"background: LightGoldenRodYellow; margin: 4px; border: 1px solid khaki\"> (<a href=\"http://terminology.hl7.org/5.0.0/CodeSystem-measure-population.html\">MeasurePopulationType</a>#numerator)</span></p><p><b>description</b>: Number of administrations of vaccines containing a varicella component during reporting period</p><h3>Criteria</h3><table class=\"grid\"><tr><td>-</td><td><b>Language</b></td><td><b>Expression</b></td></tr><tr><td>*</td><td>text/cql</td><td>numerator</td></tr></table></blockquote><blockquote><p><b>population</b></p><blockquote><p><b>id</b></p>denominator</blockquote><p><b>code</b>: Denominator <span style=\"background: LightGoldenRodYellow; margin: 4px; border: 1px solid khaki\"> (<a href=\"http://terminology.hl7.org/5.0.0/CodeSystem-measure-population.html\">MeasurePopulationType</a>#denominator)</span></p><p><b>description</b>: Number of immunization recommendations for varicella vaccines due during reporting period.</p><h3>Criteria</h3><table class=\"grid\"><tr><td>-</td><td><b>Language</b></td><td><b>Expression</b></td></tr><tr><td>*</td><td>text/cql</td><td>denominator</td></tr></table></blockquote><blockquote><p><b>stratifier</b></p><blockquote><p><b>id</b></p>dose-sequence-stratifier</blockquote><h3>Criteria</h3><table class=\"grid\"><tr><td>-</td><td><b>Language</b></td><td><b>Expression</b></td></tr><tr><td>*</td><td>text/cql</td><td>Dose Sequence Stratifier</td></tr></table></blockquote><blockquote><p><b>stratifier</b></p><blockquote><p><b>id</b></p>age-group-stratifier</blockquote><h3>Criteria</h3><table class=\"grid\"><tr><td>-</td><td><b>Language</b></td><td><b>Expression</b></td></tr><tr><td>*</td><td>text/cql</td><td>Age Group Stratifier</td></tr></table></blockquote><blockquote><p><b>stratifier</b></p><blockquote><p><b>id</b></p>geographic-region-stratifier</blockquote><h3>Criteria</h3><table class=\"grid\"><tr><td>-</td><td><b>Language</b></td><td><b>Expression</b></td></tr><tr><td>*</td><td>text/cql</td><td>Geographic Region Stratifier</td></tr></table></blockquote><blockquote><p><b>stratifier</b></p><blockquote><p><b>id</b></p>gender-stratifier</blockquote><h3>Criteria</h3><table class=\"grid\"><tr><td>-</td><td><b>Language</b></td><td><b>Expression</b></td></tr><tr><td>*</td><td>text/cql</td><td>Gender Stratifier</td></tr></table></blockquote></blockquote></div>"
  },
  "contained" : [{
    "resourceType" : "Library",
    "id" : "effective-data-requirements",
    "extension" : [{
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode",
      "valueCoding" : {
        "system" : "http://hl7.org/fhir/administrative-gender",
        "code" : "male",
        "display" : "Males"
      }
    },
    {
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode",
      "valueCoding" : {
        "system" : "http://hl7.org/fhir/administrative-gender",
        "code" : "female",
        "display" : "Females"
      }
    },
    {
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode",
      "valueCoding" : {
        "system" : "http://hl7.org/fhir/administrative-gender",
        "code" : "other",
        "display" : "Other/NA"
      }
    },
    {
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode",
      "valueCoding" : {
        "system" : "http://ohie.org/CodeSystem/iso-8601-derived-periods",
        "code" : "P0M--P12M",
        "display" : "< 12 months"
      }
    },
    {
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode",
      "valueCoding" : {
        "system" : "http://ohie.org/CodeSystem/iso-8601-derived-periods",
        "code" : "P12M--P18M",
        "display" : "12 - 18 months"
      }
    },
    {
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode",
      "valueCoding" : {
        "system" : "http://ohie.org/CodeSystem/iso-8601-derived-periods",
        "code" : "P18M--P36M",
        "display" : "18 - 36 months"
      }
    },
    {
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode",
      "valueCoding" : {
        "system" : "http://ohie.org/CodeSystem/iso-8601-derived-periods",
        "code" : "P36M--P12Y",
        "display" : "36 months - 12 years"
      }
    },
    {
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode",
      "valueCoding" : {
        "system" : "http://ohie.org/CodeSystem/iso-8601-derived-periods",
        "code" : "P12Y--P9999Y",
        "display" : "> 12 years"
      }
    },
    {
      "extension" : [{
        "url" : "libraryName",
        "valueString" : "IMMZIndicatorCommon"
      },
      {
        "url" : "name",
        "valueString" : "By Administrative Gender Stratifier"
      },
      {
        "url" : "statement",
        "valueString" : "/**\n * By Administrative Gender of Patient Stratifier\n */\ndefine \"By Administrative Gender Stratifier\":\n    case \n        when Patient.gender = 'male' then \"Males\"\n        when Patient.gender = 'female' then \"Females\"\n        else \"Other\"\n    end"
      },
      {
        "url" : "displaySequence",
        "valueInteger" : 0
      }],
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition"
    },
    {
      "extension" : [{
        "url" : "libraryName",
        "valueString" : "IMMZIND43"
      },
      {
        "url" : "name",
        "valueString" : "Gender Stratifier"
      },
      {
        "url" : "statement",
        "valueString" : "/*\n * Disaggregator: Administrative Gender (or Biological Sex)\n */\ndefine \"Gender Stratifier\":\n\tIMMZIndCom.\"By Administrative Gender Stratifier\""
      },
      {
        "url" : "displaySequence",
        "valueInteger" : 1
      }],
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition"
    },
    {
      "extension" : [{
        "url" : "libraryName",
        "valueString" : "IMMZCommon"
      },
      {
        "url" : "name",
        "valueString" : "Doses Administered to Patient"
      },
      {
        "url" : "statement",
        "valueString" : "/**\n * @dataElement All Doses Administered to Patient to patient ordered newest to oldest\n */\ndefine \"Doses Administered to Patient\":\n  [Immunization] I\n    where I.status = 'completed'\n    sort by date from (occurrence as FHIR.dateTime) desc"
      },
      {
        "url" : "displaySequence",
        "valueInteger" : 2
      }],
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition"
    },
    {
      "extension" : [{
        "url" : "libraryName",
        "valueString" : "IMMZCommon"
      },
      {
        "url" : "name",
        "valueString" : "Varicella Doses Administered to Patient"
      },
      {
        "url" : "statement",
        "valueString" : "/**\n * @dataElement Varicella containing Doses Administered to Patient\n */\ndefine \"Varicella Doses Administered to Patient\":\n  \"Doses Administered to Patient\" I\n  where\n    I.vaccineCode in IMMZc.\"Varicella Vaccine\""
      },
      {
        "url" : "displaySequence",
        "valueInteger" : 3
      }],
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition"
    },
    {
      "extension" : [{
        "url" : "libraryName",
        "valueString" : "IMMZIndicatorCommon"
      },
      {
        "url" : "name",
        "valueString" : "Varicella Doses Administered to Patient During Measurement Period"
      },
      {
        "url" : "statement",
        "valueString" : "/**\n * Varicella Doses Administered to Patient\n */\ndefine \"Varicella Doses Administered to Patient During Measurement Period\":\n    IMMZCom.\"Varicella Doses Administered to Patient\" I \n    where IMMZCom.ToDate(I.occurrence) during \"Measurement Period\""
      },
      {
        "url" : "displaySequence",
        "valueInteger" : 4
      }],
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition"
    },
    {
      "extension" : [{
        "url" : "libraryName",
        "valueString" : "IMMZIND43"
      },
      {
        "url" : "name",
        "valueString" : "Dose Sequence Stratifier"
      },
      {
        "url" : "statement",
        "valueString" : "/*\n * Disaggregator: Dose Sequence (1, 2)\n */\ndefine \"Dose Sequence Stratifier\":\n\tIMMZIndCom.\"Varicella Doses Administered to Patient During Measurement Period\" I\n\treturn (singleton from I.protocolApplied).doseNumber"
      },
      {
        "url" : "displaySequence",
        "valueInteger" : 5
      }],
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition"
    },
    {
      "extension" : [{
        "url" : "libraryName",
        "valueString" : "IMMZIndicatorCommon"
      },
      {
        "url" : "name",
        "valueString" : "Varicella By Age Stratifier"
      },
      {
        "url" : "statement",
        "valueString" : "/** \n * Varicella age disaggregators\n */\ndefine \"Varicella By Age Stratifier\":\n    case \n        when AgeInMonthsAt(start of \"Measurement Period\") < 12 then \"P0M--P12M\"\n        when AgeInMonthsAt(start of \"Measurement Period\") < 18 then \"P12M--P18M\"\n        when AgeInMonthsAt(start of \"Measurement Period\") < 36 then \"P18M--P36M\"\n        when AgeInYearsAt(start of \"Measurement Period\") < 12 then \"P36M--P12Y\"\n        when AgeInYearsAt(start of \"Measurement Period\") >= 12 then \"P12Y--P9999Y\"\n        else null\n    end"
      },
      {
        "url" : "displaySequence",
        "valueInteger" : 6
      }],
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition"
    },
    {
      "extension" : [{
        "url" : "libraryName",
        "valueString" : "IMMZIND43"
      },
      {
        "url" : "name",
        "valueString" : "Age Group Stratifier"
      },
      {
        "url" : "statement",
        "valueString" : "/*\n * Disaggregator: Age Group (< 12 months, 12 - 18 months, 18 - 36 months, 36 months - 12 years, > 12 years)\n */\ndefine \"Age Group Stratifier\":\n\tIMMZIndCom.\"Varicella By Age Stratifier\""
      },
      {
        "url" : "displaySequence",
        "valueInteger" : 7
      }],
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition"
    },
    {
      "extension" : [{
        "url" : "libraryName",
        "valueString" : "IMMZIndicatorCommon"
      },
      {
        "url" : "name",
        "valueString" : "By Geographic Region Stratifier"
      },
      {
        "url" : "statement",
        "valueString" : "/**\n * By Administrative Gender of Patient Stratifier\n */\ndefine \"By Geographic Region Stratifier\":\n    First(Patient.address A where A.use in { 'home' }).state"
      },
      {
        "url" : "displaySequence",
        "valueInteger" : 8
      }],
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition"
    },
    {
      "extension" : [{
        "url" : "libraryName",
        "valueString" : "IMMZIND43"
      },
      {
        "url" : "name",
        "valueString" : "Geographic Region Stratifier"
      },
      {
        "url" : "statement",
        "valueString" : "/*\n * Disaggregator: Geographic Region\n */\ndefine \"Geographic Region Stratifier\":\n\tIMMZIndCom.\"By Geographic Region Stratifier\""
      },
      {
        "url" : "displaySequence",
        "valueInteger" : 9
      }],
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition"
    },
    {
      "extension" : [{
        "url" : "libraryName",
        "valueString" : "IMMZIND43"
      },
      {
        "url" : "name",
        "valueString" : "numerator"
      },
      {
        "url" : "statement",
        "valueString" : "/*\n * Numerator: Number of administrations of vaccines containing a varicella component during reporting period\n * Numerator Computation: COUNT immunization events WHERE administered product is a Varicella vaccine (IMMZ.A1.DE.22) during reporting period\n */\ndefine \"numerator\":\n\t\texists(IMMZIndCom.\"Varicella Doses Administered to Patient During Measurement Period\")"
      },
      {
        "url" : "displaySequence",
        "valueInteger" : 10
      }],
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition"
    },
    {
      "extension" : [{
        "url" : "libraryName",
        "valueString" : "IMMZIndicatorCommon"
      },
      {
        "url" : "name",
        "valueString" : "Varicella Doses Recommended During Reporting Period"
      },
      {
        "url" : "statement",
        "valueString" : "/** \n * Varicella Doses recommended during reporting period - \n *  This is used since the country should define the rules which recommend an Varicella dose (configuration, age, sex, etc.)\n */\ndefine \"Varicella Doses Recommended During Reporting Period\":\n    [ImmunizationRecommendation] IR\n    where exists(IR.recommendation RC where exists(RC.dateCriterion DC where date from DC.value during \"Measurement Period\")\n    and RC.vaccineCode in IMMZc.\"Varicella Vaccine\")"
      },
      {
        "url" : "displaySequence",
        "valueInteger" : 11
      }],
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition"
    },
    {
      "extension" : [{
        "url" : "libraryName",
        "valueString" : "IMMZIND43"
      },
      {
        "url" : "name",
        "valueString" : "denominator"
      },
      {
        "url" : "statement",
        "valueString" : "// TODO: Write logic here \n\n/*\n * Denominator: Number of immunization recommendations for varicella vaccines due during reporting period.\n * Denominator Computation: COUNT immunization recommendation WHERE recommended product is varicella vaccine (IMMZ.A1.DE22) AND due date during reporting period.\n * TODO: Should we use recommendation here (like HPV) to allow CDSS to define the \"cohort\" or should cohort just be anyone under 12?\n */\ndefine \"denominator\":\n\texists(IMMZIndCom.\"Varicella Doses Recommended During Reporting Period\")"
      },
      {
        "url" : "displaySequence",
        "valueInteger" : 12
      }],
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition"
    }],
    "status" : "active",
    "type" : {
      "coding" : [{
        "system" : "http://terminology.hl7.org/CodeSystem/library-type",
        "code" : "module-definition"
      }]
    },
    "relatedArtifact" : [{
      "type" : "depends-on",
      "display" : "Library IMMZIndCom",
      "resource" : "http://fhir.org/guides/who/smart-immunization/Library/IMMZIndicatorCommon"
    },
    {
      "type" : "depends-on",
      "display" : "Library FHIRHelpers",
      "resource" : "http://fhir.org/guides/who/smart-immunization/Library/FHIRHelpers|4.0.1"
    },
    {
      "type" : "depends-on",
      "display" : "Library IMMZCom",
      "resource" : "http://fhir.org/guides/who/smart-immunization/Library/IMMZCommon"
    },
    {
      "type" : "depends-on",
      "display" : "Library IMMZc",
      "resource" : "http://fhir.org/guides/who/smart-immunization/Library/IMMZConcepts"
    },
    {
      "type" : "depends-on",
      "display" : "Code system Administrative Gender Codes",
      "resource" : "http://hl7.org/fhir/administrative-gender"
    },
    {
      "type" : "depends-on",
      "display" : "Code system ISO-8601-Derived Periods",
      "resource" : "http://ohie.org/CodeSystem/iso-8601-derived-periods"
    },
    {
      "type" : "depends-on",
      "display" : "Value set Varicella Vaccine",
      "resource" : "http://fhir.org/guides/who/smart-immunization/ValueSet/IMMZ.A1.DE22"
    }],
    "parameter" : [{
      "name" : "Measurement Period",
      "use" : "in",
      "min" : 0,
      "max" : "1",
      "type" : "Period"
    },
    {
      "name" : "Gender Stratifier",
      "use" : "out",
      "min" : 0,
      "max" : "1",
      "type" : "Coding"
    },
    {
      "name" : "Dose Sequence Stratifier",
      "use" : "out",
      "min" : 0,
      "max" : "*",
      "type" : "Resource"
    },
    {
      "name" : "Age Group Stratifier",
      "use" : "out",
      "min" : 0,
      "max" : "1",
      "type" : "Coding"
    },
    {
      "name" : "Geographic Region Stratifier",
      "use" : "out",
      "min" : 0,
      "max" : "1",
      "type" : "string"
    },
    {
      "name" : "numerator",
      "use" : "out",
      "min" : 0,
      "max" : "1",
      "type" : "boolean"
    },
    {
      "name" : "denominator",
      "use" : "out",
      "min" : 0,
      "max" : "1",
      "type" : "boolean"
    }],
    "dataRequirement" : [{
      "type" : "Patient",
      "profile" : ["http://hl7.org/fhir/StructureDefinition/Patient"],
      "mustSupport" : ["use"]
    },
    {
      "type" : "Immunization",
      "profile" : ["http://hl7.org/fhir/StructureDefinition/Immunization"],
      "mustSupport" : ["status",
      "vaccineCode",
      "occurrence",
      "protocolApplied",
      "protocolApplied.doseNumber"]
    },
    {
      "type" : "ImmunizationRecommendation",
      "profile" : ["http://hl7.org/fhir/StructureDefinition/ImmunizationRecommendation"],
      "mustSupport" : ["recommendation"]
    }]
  }],
  "extension" : [{
    "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-softwaresystem",
    "valueReference" : {
      "reference" : "Device/cqf-tooling"
    }
  },
  {
    "id" : "effective-data-requirements",
    "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-effectiveDataRequirements",
    "valueReference" : {
      "reference" : "#effective-data-requirements"
    }
  }],
  "url" : "http://fhir.org/guides/who/smart-immunization/Measure/IMMZIND43",
  "version" : "0.1.0",
  "name" : "IMMZIND43",
  "title" : "IMMZ.IND.43 Immunization coverage for Varicella vaccinations (Computed Denominator)",
  "status" : "draft",
  "date" : "2022-05-12T15:36:35.054-04:00",
  "publisher" : "World Health Organization (WHO)",
  "description" : "Compares the administered doses of varicella containing vaccine with the number of immunization recommendations for varicella vaccines expressed as a percentage.",
  "jurisdiction" : [{
    "coding" : [{
      "system" : "http://unstats.un.org/unsd/methods/m49/m49.htm",
      "code" : "001"
    }]
  }],
  "library" : ["http://fhir.org/guides/who/smart-immunization/Library/IMMZIND43"],
  "scoring" : {
    "coding" : [{
      "system" : "http://terminology.hl7.org/CodeSystem/measure-scoring",
      "code" : "proportion"
    }]
  },
  "type" : [{
    "coding" : [{
      "system" : "http://terminology.hl7.org/CodeSystem/measure-type",
      "code" : "process"
    }]
  }],
  "improvementNotation" : {
    "coding" : [{
      "system" : "http://terminology.hl7.org/CodeSystem/measure-improvement-notation",
      "code" : "increase"
    }]
  },
  "group" : [{
    "id" : "IMMZIND43",
    "population" : [{
      "id" : "numerator",
      "code" : {
        "coding" : [{
          "system" : "http://terminology.hl7.org/CodeSystem/measure-population",
          "code" : "numerator"
        }]
      },
      "description" : "Number of administrations of vaccines containing a varicella component during reporting period",
      "criteria" : {
        "language" : "text/cql",
        "expression" : "numerator"
      }
    },
    {
      "id" : "denominator",
      "code" : {
        "coding" : [{
          "system" : "http://terminology.hl7.org/CodeSystem/measure-population",
          "code" : "denominator"
        }]
      },
      "description" : "Number of immunization recommendations for varicella vaccines due during reporting period.",
      "criteria" : {
        "language" : "text/cql",
        "expression" : "denominator"
      }
    }],
    "stratifier" : [{
      "id" : "dose-sequence-stratifier",
      "criteria" : {
        "language" : "text/cql",
        "expression" : "Dose Sequence Stratifier"
      }
    },
    {
      "id" : "age-group-stratifier",
      "criteria" : {
        "language" : "text/cql",
        "expression" : "Age Group Stratifier"
      }
    },
    {
      "id" : "geographic-region-stratifier",
      "criteria" : {
        "language" : "text/cql",
        "expression" : "Geographic Region Stratifier"
      }
    },
    {
      "id" : "gender-stratifier",
      "criteria" : {
        "language" : "text/cql",
        "expression" : "Gender Stratifier"
      }
    }]
  }]
}