{
  "resourceType" : "Measure",
  "id" : "IMMZIND22",
  "meta" : {
    "profile" : ["http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/computable-measure-cqfm"]
  },
  "text" : {
    "status" : "generated",
    "div" : "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative: Measure</b><a name=\"IMMZIND22\"> </a></p><div style=\"display: inline-block; background-color: #d9e0e7; padding: 6px; margin: 4px; border: 1px solid #8da1b4; border-radius: 5px; line-height: 60%\"><p style=\"margin-bottom: 0px\">Resource Measure &quot;IMMZIND22&quot; </p><p style=\"margin-bottom: 0px\">Profile: <code>http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/computable-measure-cqfm</code></p></div><p><b>url</b>: <code>http://fhir.org/guides/who/smart-immunization/Measure/IMMZIND22</code></p><p><b>version</b>: 0.1.0</p><p><b>name</b>: IMMZIND22</p><p><b>title</b>: IMMZ.IND.22 Immunization coverage for seasonal influenza (Estimated Denominator)</p><p><b>status</b>: draft</p><p><b>date</b>: 2022-05-12 15:36:34-0400</p><p><b>publisher</b>: World Health Organization (WHO)</p><p><b>description</b>: Compares the administered doses of seasonal influenza vaccines with country defined target population (at risk) expressed as a percentage</p><p><b>jurisdiction</b>: Global (Whole world) <span style=\"background: LightGoldenRodYellow; margin: 4px; border: 1px solid khaki\"> (m49.htm#001)</span></p><p><b>library</b>: <a href=\"Library-IMMZIND22.html\">IMMZIND22</a></p><p><b>scoring</b>: Proportion <span style=\"background: LightGoldenRodYellow; margin: 4px; border: 1px solid khaki\"> (<a href=\"http://terminology.hl7.org/5.0.0/CodeSystem-measure-scoring.html\">MeasureScoring</a>#proportion)</span></p><p><b>type</b>: Process <span style=\"background: LightGoldenRodYellow; margin: 4px; border: 1px solid khaki\"> (<a href=\"http://terminology.hl7.org/5.0.0/CodeSystem-measure-type.html\">MeasureType</a>#process)</span></p><p><b>improvementNotation</b>: Increased score indicates improvement <span style=\"background: LightGoldenRodYellow; margin: 4px; border: 1px solid khaki\"> (<a href=\"http://terminology.hl7.org/5.0.0/CodeSystem-measure-improvement-notation.html\">MeasureImprovementNotation</a>#increase)</span></p><blockquote><p><b>group</b></p><blockquote><p><b>id</b></p>IMMZIND22</blockquote><blockquote><p><b>population</b></p><blockquote><p><b>id</b></p>measure-population</blockquote><p><b>code</b>: Measure Population <span style=\"background: LightGoldenRodYellow; margin: 4px; border: 1px solid khaki\"> (<a href=\"http://terminology.hl7.org/5.0.0/CodeSystem-measure-population.html\">MeasurePopulationType</a>#measure-population)</span></p><p><b>description</b>: Number of administrations of seasonal influenza vaccines during reporting period.</p><h3>Criteria</h3><table class=\"grid\"><tr><td>-</td><td><b>Language</b></td><td><b>Expression</b></td></tr><tr><td>*</td><td>text/cql</td><td>measure-population</td></tr></table></blockquote><blockquote><p><b>stratifier</b></p><blockquote><p><b>id</b></p>age-group-stratifier</blockquote><h3>Criteria</h3><table class=\"grid\"><tr><td>-</td><td><b>Language</b></td><td><b>Expression</b></td></tr><tr><td>*</td><td>text/cql</td><td>Age Group Stratifier</td></tr></table></blockquote><blockquote><p><b>stratifier</b></p><blockquote><p><b>id</b></p>geographic-region-stratifier</blockquote><h3>Criteria</h3><table class=\"grid\"><tr><td>-</td><td><b>Language</b></td><td><b>Expression</b></td></tr><tr><td>*</td><td>text/cql</td><td>Geographic Region Stratifier</td></tr></table></blockquote><blockquote><p><b>stratifier</b></p><blockquote><p><b>id</b></p>gender-stratifier</blockquote><h3>Criteria</h3><table class=\"grid\"><tr><td>-</td><td><b>Language</b></td><td><b>Expression</b></td></tr><tr><td>*</td><td>text/cql</td><td>Gender Stratifier</td></tr></table></blockquote></blockquote></div>"
  },
  "contained" : [{
    "resourceType" : "Library",
    "id" : "effective-data-requirements",
    "extension" : [{
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode",
      "valueCoding" : {
        "system" : "http://hl7.org/fhir/administrative-gender",
        "code" : "male",
        "display" : "Males"
      }
    },
    {
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode",
      "valueCoding" : {
        "system" : "http://hl7.org/fhir/administrative-gender",
        "code" : "female",
        "display" : "Females"
      }
    },
    {
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode",
      "valueCoding" : {
        "system" : "http://hl7.org/fhir/administrative-gender",
        "code" : "other",
        "display" : "Other/NA"
      }
    },
    {
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode",
      "valueCoding" : {
        "system" : "http://ohie.org/CodeSystem/iso-8601-derived-periods",
        "code" : "P0Y--P1Y",
        "display" : "< 1 year"
      }
    },
    {
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode",
      "valueCoding" : {
        "system" : "http://ohie.org/CodeSystem/iso-8601-derived-periods",
        "code" : "P1Y--P15Y",
        "display" : "1 year - 15 years"
      }
    },
    {
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode",
      "valueCoding" : {
        "system" : "http://ohie.org/CodeSystem/iso-8601-derived-periods",
        "code" : "P15Y--P60Y",
        "display" : "15 years - 60 years"
      }
    },
    {
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode",
      "valueCoding" : {
        "system" : "http://ohie.org/CodeSystem/iso-8601-derived-periods",
        "code" : "P60Y--P9999Y",
        "display" : "> 60 years"
      }
    },
    {
      "extension" : [{
        "url" : "libraryName",
        "valueString" : "IMMZIndicatorCommon"
      },
      {
        "url" : "name",
        "valueString" : "By Administrative Gender Stratifier"
      },
      {
        "url" : "statement",
        "valueString" : "/**\n * By Administrative Gender of Patient Stratifier\n */\ndefine \"By Administrative Gender Stratifier\":\n    case \n        when Patient.gender = 'male' then \"Males\"\n        when Patient.gender = 'female' then \"Females\"\n        else \"Other\"\n    end"
      },
      {
        "url" : "displaySequence",
        "valueInteger" : 0
      }],
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition"
    },
    {
      "extension" : [{
        "url" : "libraryName",
        "valueString" : "IMMZIND22"
      },
      {
        "url" : "name",
        "valueString" : "Gender Stratifier"
      },
      {
        "url" : "statement",
        "valueString" : "/*\n * Disaggregator: Gender\n */\ndefine \"Gender Stratifier\":\n\tIMMZIndCom.\"By Administrative Gender Stratifier\""
      },
      {
        "url" : "displaySequence",
        "valueInteger" : 1
      }],
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition"
    },
    {
      "extension" : [{
        "url" : "libraryName",
        "valueString" : "IMMZCommon"
      },
      {
        "url" : "name",
        "valueString" : "Doses Administered to Patient"
      },
      {
        "url" : "statement",
        "valueString" : "/**\n * @dataElement All Doses Administered to Patient to patient ordered newest to oldest\n */\ndefine \"Doses Administered to Patient\":\n  [Immunization] I\n    where I.status = 'completed'\n    sort by date from (occurrence as FHIR.dateTime) desc"
      },
      {
        "url" : "displaySequence",
        "valueInteger" : 2
      }],
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition"
    },
    {
      "extension" : [{
        "url" : "libraryName",
        "valueString" : "IMMZCommon"
      },
      {
        "url" : "name",
        "valueString" : "Seasonal Influenza Doses Administered to Patient"
      },
      {
        "url" : "statement",
        "valueString" : "/**\n * @dataElement Seasonal Influenza containing doses administered\n */\ndefine \"Seasonal Influenza Doses Administered to Patient\":\n  \"Doses Administered to Patient\" I\n  where\n    I.vaccineCode in IMMZc.\"Seasonal Influenza Vaccine\""
      },
      {
        "url" : "displaySequence",
        "valueInteger" : 3
      }],
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition"
    },
    {
      "extension" : [{
        "url" : "libraryName",
        "valueString" : "IMMZIndicatorCommon"
      },
      {
        "url" : "name",
        "valueString" : "Seasonal Influenza Doses Administered to Patient During Reporting Period"
      },
      {
        "url" : "statement",
        "valueString" : "define \"Seasonal Influenza Doses Administered to Patient During Reporting Period\":\n    IMMZCom.\"Seasonal Influenza Doses Administered to Patient\" I \n    where IMMZCom.ToDate(I.occurrence) during \"Measurement Period\""
      },
      {
        "url" : "displaySequence",
        "valueInteger" : 4
      }],
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition"
    },
    {
      "extension" : [{
        "url" : "libraryName",
        "valueString" : "IMMZIND22"
      },
      {
        "url" : "name",
        "valueString" : "measure-population"
      },
      {
        "url" : "statement",
        "valueString" : "/*\n * Numerator: Number of administrations of seasonal influenza vaccines during reporting period.\n * Numerator Computation: COUNT immunization events WHERE administered product is a seasonal influenza vaccine (IMMZ.A1.DE18) during reporting period.\n */\ndefine \"measure-population\":\n\tIMMZIndCom.\"Seasonal Influenza Doses Administered to Patient During Reporting Period\""
      },
      {
        "url" : "displaySequence",
        "valueInteger" : 5
      }],
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition"
    },
    {
      "extension" : [{
        "url" : "libraryName",
        "valueString" : "IMMZIndicatorCommon"
      },
      {
        "url" : "name",
        "valueString" : "Seasonal Influenza By Age Stratifier"
      },
      {
        "url" : "statement",
        "valueString" : "/** \n * Seasonal Influenza age disaggregators\n */\ndefine \"Seasonal Influenza By Age Stratifier\":\n    case \n        when AgeInYearsAt(start of \"Measurement Period\") < 1 then \"P0Y--P1Y\"\n        when AgeInYearsAt(start of \"Measurement Period\") < 15 then \"P1Y--P15Y\"\n        when AgeInYearsAt(start of \"Measurement Period\") < 60 then \"P15Y--P60Y\"\n        when AgeInYearsAt(start of \"Measurement Period\") >= 60 then \"P60Y--P9999Y\"\n        else null\n    end"
      },
      {
        "url" : "displaySequence",
        "valueInteger" : 6
      }],
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition"
    },
    {
      "extension" : [{
        "url" : "libraryName",
        "valueString" : "IMMZIND22"
      },
      {
        "url" : "name",
        "valueString" : "Age Group Stratifier"
      },
      {
        "url" : "statement",
        "valueString" : "/*\n * Disaggregator: Age Group (< 1 year, < 15 year,  > 60 year)\n */\ndefine \"Age Group Stratifier\":\n\tIMMZIndCom.\"Seasonal Influenza By Age Stratifier\""
      },
      {
        "url" : "displaySequence",
        "valueInteger" : 7
      }],
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition"
    },
    {
      "extension" : [{
        "url" : "libraryName",
        "valueString" : "IMMZIndicatorCommon"
      },
      {
        "url" : "name",
        "valueString" : "By Geographic Region Stratifier"
      },
      {
        "url" : "statement",
        "valueString" : "/**\n * By Administrative Gender of Patient Stratifier\n */\ndefine \"By Geographic Region Stratifier\":\n    First(Patient.address A where A.use in { 'home' }).state"
      },
      {
        "url" : "displaySequence",
        "valueInteger" : 8
      }],
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition"
    },
    {
      "extension" : [{
        "url" : "libraryName",
        "valueString" : "IMMZIND22"
      },
      {
        "url" : "name",
        "valueString" : "Geographic Region Stratifier"
      },
      {
        "url" : "statement",
        "valueString" : "// todo: fill in logic\n\n/*\n * Disaggregator: Geographic Region\n */\ndefine \"Geographic Region Stratifier\":\n\tIMMZIndCom.\"By Geographic Region Stratifier\""
      },
      {
        "url" : "displaySequence",
        "valueInteger" : 9
      }],
      "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition"
    }],
    "status" : "active",
    "type" : {
      "coding" : [{
        "system" : "http://terminology.hl7.org/CodeSystem/library-type",
        "code" : "module-definition"
      }]
    },
    "relatedArtifact" : [{
      "type" : "depends-on",
      "display" : "Library IMMZIndCom",
      "resource" : "http://fhir.org/guides/who/smart-immunization/Library/IMMZIndicatorCommon"
    },
    {
      "type" : "depends-on",
      "display" : "Library FHIRHelpers",
      "resource" : "http://fhir.org/guides/who/smart-immunization/Library/FHIRHelpers|4.0.1"
    },
    {
      "type" : "depends-on",
      "display" : "Library IMMZCom",
      "resource" : "http://fhir.org/guides/who/smart-immunization/Library/IMMZCommon"
    },
    {
      "type" : "depends-on",
      "display" : "Library IMMZc",
      "resource" : "http://fhir.org/guides/who/smart-immunization/Library/IMMZConcepts"
    },
    {
      "type" : "depends-on",
      "display" : "Code system Administrative Gender Codes",
      "resource" : "http://hl7.org/fhir/administrative-gender"
    },
    {
      "type" : "depends-on",
      "display" : "Code system ISO-8601-Derived Periods",
      "resource" : "http://ohie.org/CodeSystem/iso-8601-derived-periods"
    },
    {
      "type" : "depends-on",
      "display" : "Value set Seasonal Influenza Vaccine",
      "resource" : "http://fhir.org/guides/who/smart-immunization/ValueSet/IMMZ.A1.DE18"
    }],
    "parameter" : [{
      "name" : "Measurement Period",
      "use" : "in",
      "min" : 0,
      "max" : "1",
      "type" : "Period"
    },
    {
      "name" : "Gender Stratifier",
      "use" : "out",
      "min" : 0,
      "max" : "1",
      "type" : "Coding"
    },
    {
      "name" : "measure-population",
      "use" : "out",
      "min" : 0,
      "max" : "*",
      "type" : "Immunization"
    },
    {
      "name" : "Age Group Stratifier",
      "use" : "out",
      "min" : 0,
      "max" : "1",
      "type" : "Coding"
    },
    {
      "name" : "Geographic Region Stratifier",
      "use" : "out",
      "min" : 0,
      "max" : "1",
      "type" : "string"
    }],
    "dataRequirement" : [{
      "type" : "Patient",
      "profile" : ["http://hl7.org/fhir/StructureDefinition/Patient"],
      "mustSupport" : ["use"]
    },
    {
      "type" : "Immunization",
      "profile" : ["http://hl7.org/fhir/StructureDefinition/Immunization"],
      "mustSupport" : ["status",
      "vaccineCode",
      "occurrence"]
    }]
  }],
  "extension" : [{
    "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-softwaresystem",
    "valueReference" : {
      "reference" : "Device/cqf-tooling"
    }
  },
  {
    "id" : "effective-data-requirements",
    "url" : "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-effectiveDataRequirements",
    "valueReference" : {
      "reference" : "#effective-data-requirements"
    }
  }],
  "url" : "http://fhir.org/guides/who/smart-immunization/Measure/IMMZIND22",
  "version" : "0.1.0",
  "name" : "IMMZIND22",
  "title" : "IMMZ.IND.22 Immunization coverage for seasonal influenza (Estimated Denominator)",
  "status" : "draft",
  "date" : "2022-05-12T15:36:34.996-04:00",
  "publisher" : "World Health Organization (WHO)",
  "description" : "Compares the administered doses of seasonal influenza vaccines with country defined target population (at risk) expressed as a percentage",
  "jurisdiction" : [{
    "coding" : [{
      "system" : "http://unstats.un.org/unsd/methods/m49/m49.htm",
      "code" : "001"
    }]
  }],
  "library" : ["http://fhir.org/guides/who/smart-immunization/Library/IMMZIND22"],
  "scoring" : {
    "coding" : [{
      "system" : "http://terminology.hl7.org/CodeSystem/measure-scoring",
      "code" : "proportion"
    }]
  },
  "type" : [{
    "coding" : [{
      "system" : "http://terminology.hl7.org/CodeSystem/measure-type",
      "code" : "process"
    }]
  }],
  "improvementNotation" : {
    "coding" : [{
      "system" : "http://terminology.hl7.org/CodeSystem/measure-improvement-notation",
      "code" : "increase"
    }]
  },
  "group" : [{
    "id" : "IMMZIND22",
    "population" : [{
      "id" : "measure-population",
      "code" : {
        "coding" : [{
          "system" : "http://terminology.hl7.org/CodeSystem/measure-population",
          "code" : "measure-population"
        }]
      },
      "description" : "Number of administrations of seasonal influenza vaccines during reporting period.",
      "criteria" : {
        "language" : "text/cql",
        "expression" : "measure-population"
      }
    }],
    "stratifier" : [{
      "id" : "age-group-stratifier",
      "criteria" : {
        "language" : "text/cql",
        "expression" : "Age Group Stratifier"
      }
    },
    {
      "id" : "geographic-region-stratifier",
      "criteria" : {
        "language" : "text/cql",
        "expression" : "Geographic Region Stratifier"
      }
    },
    {
      "id" : "gender-stratifier",
      "criteria" : {
        "language" : "text/cql",
        "expression" : "Gender Stratifier"
      }
    }]
  }]
}