<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
    <title>IMMZIndicatorElements - WHO Immunization Implementation Guide v0.2.0</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link href="fhir.css" rel="stylesheet"/>
    <link href="assets/css/fa-all.css" rel="stylesheet" type="text/css" />
    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap-fhir.css" rel="stylesheet"/>

    <!-- Project extras -->
    <link href="assets/css/project.css" rel="stylesheet"/>
    <link href="assets/css/pygments-manni.css" rel="stylesheet"/>
    <link href="assets/css/jquery-ui.css" rel="stylesheet"/>
  	<link href="assets/css/prism.css" rel="stylesheet" />
    <!-- Placeholder for child template CSS declarations -->
    <link href="assets/css/who.css" rel="stylesheet"/>
    <link href="assets/css/lforms.min.css" rel="stylesheet"/>


    <script type="text/javascript" src="fhir-table-scripts.js"> </script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif]-->

    <!-- Favicons -->
    <link rel="fhir-logo" sizes="144x144" href="assets/ico/icon-fhir-144.png"/>
    <link rel="fhir-logo" sizes="114x114" href="assets/ico/icon-fhir-114.png"/>
    <link rel="fhir-logo" sizes="72x72" href="assets/ico/icon-fhir-72.png"/>
    <link rel="fhir-logo" href="assets/ico/icon-fhir-57.png"/>
    <link rel="shortcut icon" href="assets/ico/favicon.png"/>
  </head>
  <body onload="document.body.style.opacity='1'">

	  <script src="assets/js/prism.js"></script>

    <style type="text/css">h2{--heading-prefix:"5.1.529"}
    h3,h4,h5,h6{--heading-prefix:"5.1.529"}</style>
    <div id="segment-header" class="segment">  <!-- segment-header -->

      <div id="segment-navbar" class="segment">  <!-- segment-navbar -->
        <div id="stripe"> </div>
        <div class="container">  <!-- container -->
          <!-- HEADER CONTENT -->
  
          <nav class="navbar navbar-inverse">
            <!--status-bar-->
            <div class="container">
              <button data-target=".navbar-inverse-collapse" class="navbar-toggle" data-toggle="collapse" type="button">
                <span class="icon-bar"> </span>
                <span class="icon-bar"> </span>
                <span class="icon-bar"> </span>
              </button>
              <a class="navbar-brand hidden" href="http://hl7.org/fhir/R4/index.html">FHIR</a>
              <div class="nav-collapse collapse navbar-inverse-collapse">
                <!-- menu.xml  -->

<ul xmlns="http://www.w3.org/1999/xhtml" class="nav navbar-nav">
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Home
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="index.html">Summary</a>
      </li>
      <li>
        <a href="changes.html">Changes</a>
      </li>
      <li>
        <a href="dependencies.html">Dependencies</a>
      </li>
      <li>
        <a href="references.html">References</a>
      </li>
      <li>
        <a href="adapting.html">Adapting Guidelines for Country use</a>
      </li>
    </ul>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Business Requirements
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="concepts.html">Concepts</a>
      </li>
      <li>
        <a href="personas.html">Generic Personas</a>
      </li>
      <li>
        <a href="scenarios.html">User Scenarios</a>
      </li>
      <li>
        <a href="business-processes.html">Business Processes</a>
      </li>
      <li>
        <a href="dictionary.html">Data Dictionary</a>
      </li>
      <li>
        <a href="decision-logic.html">Decision-support Logic</a>
      </li>
      <li>
        <a href="indicators.html">Indicator and Performance Metrics</a>
      </li>
      <li>
        <a href="functional-requirements.html">Functional Requirements</a>
      </li>
      <li>
        <a href="non-functional-requirements.html">Non-functional Requirements</a>
      </li>
    </ul>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Data Models and Exchange
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="system-actors.html">System Actors</a>
      </li>
      <li>
        <a href="sequence-diagrams.html">Sequence Diagrams</a>
      </li>
      <li>
        <a href="transactions.html">Transactions</a>
      </li>
      <li>
        <a href="indicators-measures.html">Indicators and Measures</a>
      </li>
      <li>
        <a href="codings.html">Codings</a>
      </li>
    </ul>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Deployment
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="security-privacy.html">Security and Privacy Considerations</a>
      </li>
      <li>
        <a href="testing.html">Testing</a>
      </li>
      <li>
        <a href="test-data.html">Test Data</a>
      </li>
      <li>
        <a href="reference-implementations.html">Reference Implementations</a>
      </li>
      <li>
        <a href="trust_domain.html">Trust Domains</a>
      </li>
      <li>
        <a href="downloads.html">Downloads</a>
      </li>
    </ul>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Indices
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="artifacts.html">Artifact Index</a>
      </li>
      <li>
        <a href="maps.html">Mappings</a>
      </li>
    </ul>
  </li>
</ul>
              </div>  <!-- /.nav-collapse -->

              <div class="sf_colsIn col-md-8  navbar-right-container" data-sf-element="LanguageSelectorSearch" data-placeholder-label="Language Selector and Search" style="display: flex; justify-content: flex-end; align-items: center;">
                <!-- This div will be pushed to the right -->
                <div class="language-selector" style="margin-left: auto; background-color: #00477d; color: white;">
                  <i class="fa fa-language fa-lg"></i>
                  <label for="language-selector"> </label>
                  <select onChange="openLink(value)" id="language-selector" name="language-selector">
                    <option disabled selected>Select language</option>
                    <option value="en" class="selected">English</option>
                  </select>
                  <i class="fas fa-angle-down"></i>
                </div>
                <!-- Search Content -->
              </div>
            </div>  <!-- /.container -->
          </nav>  <!-- /.navbar -->
        <!-- /HEADER CONTENT -->
        </div>  <!-- /container -->
      </div>  <!-- /segment-navbar -->
      

      <div class="container" style=" justify-content: space-between; align-items: left;">

        <!-- Placeholder for child template header declarations -->
<div id="project-nav">
    <a id="who-logo" no-external="true" href="index.html">
        
    </a>
</div>

 <div id="family-nav">
  <a id="fhir-logo" no-external="true" href="http://hl7.org/fhir">  </a>
</div> 


        <div id="ig-status" class="ig-status-draft">
          <p><span style="font-size:12pt;font-weight:bold">WHO Immunization Implementation Guide</span>
            <br/>
            <span style="display:inline-block;">0.2.0 - ci-build


            </span>
          </p>
        </div>
      </div> <!-- /container -->
    </div>  <!-- /segment-header -->


    <!--status-bar-->

    <div id="segment-breadcrumb" class="segment">  <!-- segment-breadcrumb -->
      <div class="container">  <!-- container -->
        <ul class="breadcrumb">
          <li><a href='toc.html'><b>Table of Contents</b></a></li><li><a href='indices.html'><b>Indices</b></a></li><li><a href='artifacts.html'><b>Artifact Index</b></a></li><li><b>IMMZIndicatorElements</b></li>

        </ul>
      </div>  <!-- /container -->
    </div>  <!-- /segment-breadcrumb -->

    <a name="top"> </a>
    <div id="segment-content" class="segment">  <!-- segment-content -->
      <div class="container">  <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<div class="col-12">
  <!--ReleaseHeader--><p id="publish-box">WHO Immunization Implementation Guide, published by WHO. This guide is not an authorized publication; it is the continuous build for version 0.2.0  built by the FHIR (HL7&reg; FHIR&reg; Standard) CI Build. This version is based on the current content of <a href='https://github.com/WorldHealthOrganization/smart-immunizations/tree/116/merge'>https://github.com/WorldHealthOrganization/smart-immunizations/tree/116/merge</a> and changes regularly. See the <a href='http://smart.who.int/immunizations/history.html'>Directory of published versions</a></p><!--EndReleaseHeader-->
  








<ul class="nav nav-tabs">

  <li class="active">
    <a href="#">Narrative Content</a>
  </li>



  
    <li>
      <a href="Library-IMMZIndicatorElements.xml.html">XML</a>
    </li>
  


  
    <li>
      <a href="Library-IMMZIndicatorElements.json.html">JSON</a>
    </li>
  


  
    <li>
      <a href="Library-IMMZIndicatorElements.ttl.html">TTL</a>
    </li>
  



</ul>

  <a name="root"> </a>

  <h2 id="root">Library: IMMZIndicatorElements
(Experimental)
  </h2>

  <table class="colsd">

    <tr>
      <td colspan="4"><i>Official URL</i>: <span class="copy-text">http://smart.who.int/immunizations-measles/Library/IMMZIndicatorElements<button title="Click to copy URL" class="btn-copy" data-clipboard-text="http://smart.who.int/immunizations-measles/Library/IMMZIndicatorElements"/></span>
      </td>
      <td><i>Version</i>:
      <span class="copy-text">0.2.0<button title="Click to copy versioned URL" class="btn-copy" data-clipboard-text="http://smart.who.int/immunizations-measles/Library/IMMZIndicatorElements|0.2.0"/></span>
      </td>
    </tr>

    <tr>







      <td colspan="4">
        
      </td>



      <td><i>Computable Name</i>: <span style="font-family: monospace;">IMMZIndicatorElements</span></td>
    </tr>




  </table>


<p>
<p>This library defines indicator-based elements and terminologies used throughout the Immunization CPG indicators</p>

</p>


  <!-- insert intro if present -->
  



<!--  <p>
  Formats: <a href="Library-IMMZIndicatorElements.xml.html">XML</a>, <a href="Library-IMMZIndicatorElements.json.html">JSON</a>, <a href="Library-IMMZIndicatorElements.ttl.html">Turtle</a>
  </p>-->

  


  <div xmlns="http://www.w3.org/1999/xhtml">
<div>
    <table class="grid dict">
        
        
        <tr>
            <th scope="row"><b>Title: </b></th>
            <td style="padding-left: 4px;">IMMZIndicatorElements</td>
        </tr>
        

        
        
        <tr>
            <th scope="row"><b>Id: </b></th>
            <td style="padding-left: 4px;">IMMZIndicatorElements</td>
        </tr>
        

        
        
        <tr>
            <th scope="row"><b>Version: </b></th>
            <td style="padding-left: 4px;">0.2.0</td>
        </tr>
        

        
        <tr>
            <th scope="row"><b>Url: </b></th>
            <td style="padding-left: 4px;"><a href="Library-IMMZIndicatorElements.html">IMMZIndicatorElements</a></td>
        </tr>
        

        

        

        
        <tr>
            <th scope="row"><b>Status: </b></th>
            <td style="padding-left: 4px;">draft</td>
        </tr>
        

        
        <tr>
            <th scope="row"><b>Experimental: </b></th>
            <td style="padding-left: 4px;">true</td>
        </tr>
        

        
        <tr>
            <th scope="row"><b>Type: </b></th>
            <td style="padding-left: 4px;">
                
                    
                        
                        <p style="margin-bottom: 5px;">
                            <b>system: </b> <span><a href="http://terminology.hl7.org/6.0.2/CodeSystem-library-type.html">http://terminology.hl7.org/CodeSystem/library-type</a></span>
                        </p>
                        
                        
                        <p style="margin-bottom: 5px;">
                            <b>code: </b> <span>logic-library</span>
                        </p>
                        
                        
                    
                
                
            </td>
        </tr>
        

        

        
        <tr>
            <th scope="row"><b>Date: </b></th>
            <td style="padding-left: 4px;">2025-07-23 20:56:07+0000</td>
        </tr>
        

        
        <tr>
            <th scope="row"><b>Publisher: </b></th>
            <td style="padding-left: 4px;">WHO</td>
        </tr>
        

        
        <tr>
            <th scope="row"><b>Description: </b></th>
            <td style="padding-left: 4px;"><div><p>This library defines indicator-based elements and terminologies used throughout the Immunization CPG indicators</p>
</div></td>
        </tr>
        

        

        

        

        

        

        

        

        

        

        

        
        <tr>
            <th scope="row"><b>Related Artifacts: </b></th>
            <td style="padding-left: 4px;">
                
                
                
                <p><b>Dependencies</b></p>
                <ul>
                  
                    <li><a href="Library-WHOConcepts.html">WHOConcepts</a></li>
                  
                    <li><a href="Library-WHOCommon.html">WHOCommon</a></li>
                  
                    <li><a href="Library-IMMZConcepts.html">IMMZConcepts</a></li>
                  
                    <li><a href="Library-IMMZAgeConcepts.html">IMMZAgeConcepts</a></li>
                  
                    <li><a href="Library-IMMZCommon.html">IMMZCommon</a></li>
                  
                    <li><a href="Library-IMMZElements.html">IMMZElements</a></li>
                  
                    <li><a href="http://hl7.org/fhir/R4/codesystem-administrative-gender.html">AdministrativeGender</a></li>
                  
                </ul>
                
                
                
                
                
            </td>
        </tr>
        

        
        <tr>
          <th scope="row"><b>Parameters: </b></th>
          <td style="padding-left: 4px;">
            <table class="grid-dict">
              <tr><th><b>Name</b></th><th><b>Type</b></th><th><b>Min</b></th><th><b>Max</b></th><th><b>In/Out</b></th></tr>
              
                <tr><th>Measurement Period</th><th>Period</th><th>0</th><th>1</th><th>In</th></tr>
              
                <tr><th>Patient</th><th>Patient</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Age Stratifier</th><th>Coding</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Newborn By Age Stratifier</th><th>Coding</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Infant By Age Stratifier</th><th>Coding</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Toddler By Age Stratifier</th><th>Coding</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Child By Age Stratifier</th><th>Coding</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Adolescent By Age Stratifier</th><th>Coding</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>By Age Group Stratifier</th><th>Coding</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>By Administrative Gender Stratifier</th><th>Coding</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>By Geographic Region Stratifier</th><th>string</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Patient Deceased During Measurement Period</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Patient Born During Measurement Period</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Patient Under 12 Months Old During Measurement Period</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Patient Under 2 Years Old During Measurement Period</th><th>boolean</th><th>0</th><th>1</th><th>Out</th></tr>
              
                <tr><th>Doses Administered to Patient During Measurement Period</th><th>Immunization</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>Adverse Events During Measurement Period</th><th>AdverseEvent</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>Immunizations And Adverse Events During Measurement Period</th><th>Resource</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>Pentavalent Doses Administered to Patient</th><th>Immunization</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>Pentavalent Doses Administered to Patient During Measurement Period</th><th>Immunization</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>Measles and Rubella Doses Administered to Patient</th><th>Immunization</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>Measles and Rubella Doses Administered to Patient During Measurement Period</th><th>Immunization</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>COVID-19 Doses Administered to Patient During Measurement Period</th><th>Immunization</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>Adverse Events for Immunization</th><th>AdverseEvent</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>Immunizations with Adverse Events During Measurement Period</th><th>Immunization</th><th>0</th><th>*</th><th>Out</th></tr>
              
                <tr><th>Adverse Event Reactions During Measurement Period</th><th>AdverseEvent</th><th>0</th><th>*</th><th>Out</th></tr>
              
            </table>
          </td>
        </tr>
        

        
        <tr>
          <th scope="row"><b>Data Requirements:</b></th>
          <td style="padding-left: 4px;">
            <table class="grid-dict">
              <tr><th><b>Type</b></th><th><b>Profile</b></th><th><b>MS</b></th><th><b>Code Filter</b></th></tr>
              
                <tr>
                  <th>AdverseEvent</th>
                  <th>http://hl7.org/fhir/StructureDefinition/AdverseEvent</th>
                  <th/>
                  <th>
                    
                  </th>
                </tr>
              
                <tr>
                  <th>AdverseEvent</th>
                  <th>http://hl7.org/fhir/StructureDefinition/AdverseEvent</th>
                  <th/>
                  <th>
                    
                  </th>
                </tr>
              
                <tr>
                  <th>Location</th>
                  <th>http://hl7.org/fhir/StructureDefinition/Location</th>
                  <th/>
                  <th>
                    
                  </th>
                </tr>
              
                <tr>
                  <th>Location</th>
                  <th>http://hl7.org/fhir/StructureDefinition/Location</th>
                  <th/>
                  <th>
                    
                  </th>
                </tr>
              
            </table>
          </td>
        </tr>
        

        
        
        <tr>
          <td colspan="2">
            <table>
              <tr><th><a id="cql-content"><b>Content: </b></a> text/cql</th></tr>
              <tr><td><pre><code class="language-cql">/**
 * Immunization Indicator Elements by Patients as Context
 */

library IMMZIndicatorElements

using FHIR version '4.0.1'

include FHIRHelpers version '4.0.1'

include WHOConcepts
include WHOCommon called WC

include IMMZConcepts called Concepts
include IMMZAgeConcepts called Age
include IMMZCommon called Common
include IMMZElements called Elements



codesystem &quot;Administrative Gender Codes&quot;: 'http://hl7.org/fhir/administrative-gender'
code &quot;Males&quot; : 'male' from &quot;Administrative Gender Codes&quot; display 'Males'
code &quot;Females&quot; : 'female' from &quot;Administrative Gender Codes&quot; display 'Females'
code &quot;Other&quot; : 'other' from &quot;Administrative Gender Codes&quot; display 'Other/NA'

parameter &quot;Measurement Period&quot; Interval&lt;Date&gt; default Interval[@2025-01-01, @2025-12-31]

context Patient

/*
@stratifier: Age in Years
*/
define &quot;Age Stratifier&quot;:
  case
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 1 then Age.&quot;P0Y--P1Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 2 then Age.&quot;P1Y--P2Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 3 then Age.&quot;P2Y--P3Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 4 then Age.&quot;P3Y--P4Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 5 then Age.&quot;P4Y--P5Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 6 then Age.&quot;P5Y--P6Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 7 then Age.&quot;P6Y--P7Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 8 then Age.&quot;P7Y--P8Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 9 then Age.&quot;P8Y--P9Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 10 then Age.&quot;P9Y--P10Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 11 then Age.&quot;P10Y--P11Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 12 then Age.&quot;P11Y--P12Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 13 then Age.&quot;P12Y--P13Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 14 then Age.&quot;P13Y--P14Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 15 then Age.&quot;P14Y--P15Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 16 then Age.&quot;P15Y--P16Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 17 then Age.&quot;P16Y--P17Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 18 then Age.&quot;P17Y--P18Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 19 then Age.&quot;P18Y--P19Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 20 then Age.&quot;P19Y--P20Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 21 then Age.&quot;P20Y--P21Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 22 then Age.&quot;P21Y--P22Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 23 then Age.&quot;P22Y--P23Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 24 then Age.&quot;P23Y--P24Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 25 then Age.&quot;P24Y--P25Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 26 then Age.&quot;P25Y--P26Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 27 then Age.&quot;P26Y--P27Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 28 then Age.&quot;P27Y--P28Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 29 then Age.&quot;P28Y--P29Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 30 then Age.&quot;P29Y--P30Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 31 then Age.&quot;P30Y--P31Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 32 then Age.&quot;P31Y--P32Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 33 then Age.&quot;P32Y--P33Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 34 then Age.&quot;P33Y--P34Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 35 then Age.&quot;P34Y--P35Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 36 then Age.&quot;P35Y--P36Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 37 then Age.&quot;P36Y--P37Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 38 then Age.&quot;P37Y--P38Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 39 then Age.&quot;P38Y--P39Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 40 then Age.&quot;P39Y--P40Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 41 then Age.&quot;P40Y--P41Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 42 then Age.&quot;P41Y--P42Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 43 then Age.&quot;P42Y--P43Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 44 then Age.&quot;P43Y--P44Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 45 then Age.&quot;P44Y--P45Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 46 then Age.&quot;P45Y--P46Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 47 then Age.&quot;P46Y--P47Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 48 then Age.&quot;P47Y--P48Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 49 then Age.&quot;P48Y--P49Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 50 then Age.&quot;P49Y--P50Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 51 then Age.&quot;P50Y--P51Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 52 then Age.&quot;P51Y--P52Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 53 then Age.&quot;P52Y--P53Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 54 then Age.&quot;P53Y--P54Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 55 then Age.&quot;P54Y--P55Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 56 then Age.&quot;P55Y--P56Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 57 then Age.&quot;P56Y--P57Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 58 then Age.&quot;P57Y--P58Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 59 then Age.&quot;P58Y--P59Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 60 then Age.&quot;P59Y--P60Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 61 then Age.&quot;P60Y--P61Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 62 then Age.&quot;P61Y--P62Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 63 then Age.&quot;P62Y--P63Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 64 then Age.&quot;P63Y--P64Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 65 then Age.&quot;P64Y--P65Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 66 then Age.&quot;P65Y--P66Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 67 then Age.&quot;P66Y--P67Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 68 then Age.&quot;P67Y--P68Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 69 then Age.&quot;P68Y--P69Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 70 then Age.&quot;P69Y--P70Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 71 then Age.&quot;P70Y--P71Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 72 then Age.&quot;P71Y--P72Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 73 then Age.&quot;P72Y--P73Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 74 then Age.&quot;P73Y--P74Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 75 then Age.&quot;P74Y--P75Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 76 then Age.&quot;P75Y--P76Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 77 then Age.&quot;P76Y--P77Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 78 then Age.&quot;P77Y--P78Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 79 then Age.&quot;P78Y--P79Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 80 then Age.&quot;P79Y--P80Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 81 then Age.&quot;P80Y--P81Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 82 then Age.&quot;P81Y--P82Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 83 then Age.&quot;P82Y--P83Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 84 then Age.&quot;P83Y--P84Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 85 then Age.&quot;P84Y--P85Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 86 then Age.&quot;P85Y--P86Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 87 then Age.&quot;P86Y--P87Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 88 then Age.&quot;P87Y--P88Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 89 then Age.&quot;P88Y--P89Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 90 then Age.&quot;P89Y--P90Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 91 then Age.&quot;P90Y--P91Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 92 then Age.&quot;P91Y--P92Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 93 then Age.&quot;P92Y--P93Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 94 then Age.&quot;P93Y--P94Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 95 then Age.&quot;P94Y--P95Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 96 then Age.&quot;P95Y--P96Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 97 then Age.&quot;P96Y--P97Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 98 then Age.&quot;P97Y--P98Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 99 then Age.&quot;P98Y--P99Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 100 then Age.&quot;P99Y--P100Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &gt;= 100 then Age.&quot;P100Y--P9999Y&quot;
    else null
  end

/* 
@stratifier: Infant disaggregations by age
*/
define &quot;Newborn By Age Stratifier&quot;:
    case 
        when AgeInHoursAt(end of &quot;Measurement Period&quot;) &lt;= 24 then Age.&quot;PT0H--PT24H&quot;
        when AgeInWeeksAt(end of &quot;Measurement Period&quot;) &lt;= 2 then Age.&quot;PT24H--P2W&quot;
        when AgeInWeeksAt(end of &quot;Measurement Period&quot;) &gt; 2 then Age.&quot;P2W--P9999Y&quot;
        else null
    end

/*
@stratifier: Infant disaggregations by age
*/
define &quot;Infant By Age Stratifier&quot;:
    case 
        when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 1 then Age.&quot;P0Y--P1Y&quot;
        when AgeInYearsAt(end of &quot;Measurement Period&quot;) &gt;= 1 then Age.&quot;P1Y--P9999Y&quot;
        else null
    end

/* 
@stratifier: Toddler By Age Stratifiers
*/
define &quot;Toddler By Age Stratifier&quot;:
    case 
        when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 1 then Age.&quot;P0Y--P1Y&quot;
        when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 2 then Age.&quot;P1Y--P2Y&quot;
        when AgeInYearsAt(end of &quot;Measurement Period&quot;) &gt;= 2 then Age.&quot;P2Y--P9999Y&quot;
        else null
    end

/* 
@stratifier: Child By Age Stratifiers
*/
define &quot;Child By Age Stratifier&quot;:
    case 
        when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 1 then Age.&quot;P0Y--P1Y&quot;
        when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 3 then Age.&quot;P1Y--P3Y&quot;
        when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 6 then Age.&quot;P3Y--P6Y&quot;
        when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 13 then Age.&quot;P6Y--P13Y&quot;
        when AgeInYearsAt(end of &quot;Measurement Period&quot;) &gt;= 13 then Age.&quot;P13Y--P9999Y&quot;
        else null
    end

/* 
@stratifier: Adolescent By Age Stratifiers
*/
define &quot;Adolescent By Age Stratifier&quot;:
    case 
        when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 9 then Age.&quot;P0Y--P9Y&quot;
        when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt;= 14 then Age.&quot;P9Y--P15Y&quot;
        when AgeInYearsAt(end of &quot;Measurement Period&quot;) &gt; 14 then Age.&quot;P15Y--P9999Y&quot;
        else null
    end

/*
@stratifier: Age Group Stratifier
*/
define &quot;By Age Group Stratifier&quot;:
  case 
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 18 then Age.&quot;P0Y--P18Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 30 then Age.&quot;P18Y--P30Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 50 then Age.&quot;P30Y--P50Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &lt; 70 then Age.&quot;P50Y--P70Y&quot;
    when AgeInYearsAt(end of &quot;Measurement Period&quot;) &gt;= 70 then Age.&quot;P70Y--P9999Y&quot;
    else null
  end

/*
@stratifier: By Administrative Gender of Patient Stratifier
*/
define &quot;By Administrative Gender Stratifier&quot;:
    case 
        when Patient.gender = 'male' then &quot;Males&quot;
        when Patient.gender = 'female' then &quot;Females&quot;
        else &quot;Other&quot;
    end

/*
@stratifier: By Geographic Region of Patient Stratifier
*/
define &quot;By Geographic Region Stratifier&quot;:
    First(Patient.address A where A.use in { 'home' }).state

/** 
 * @dataElement Patient is deceased
 */
define &quot;Patient Deceased During Measurement Period&quot;:
  case 
    when Patient.deceased is FHIR.boolean then Patient.deceased as FHIR.boolean
    when Patient.deceased is FHIR.dateTime then Patient.deceased as FHIR.dateTime before end of &quot;Measurement Period&quot;
    else false
  end

/** 
 * Patient was born during measurement period
 */
define &quot;Patient Born During Measurement Period&quot;:
    Patient.birthDate during &quot;Measurement Period&quot;

/** 
 * Patient is &lt; 12 months old at the end of the measurement period
 */
define &quot;Patient Under 12 Months Old During Measurement Period&quot;:
    Patient.birthDate less than 12 months before end of &quot;Measurement Period&quot;

/** 
 * Patient is &lt; 12 years old at the end of the measurement period
 */
define &quot;Patient Under 2 Years Old During Measurement Period&quot;:
    Patient.birthDate less than 2 years before end of &quot;Measurement Period&quot;

/** 
 * @define Doses which were administered during the measurement period
 */
define &quot;Doses Administered to Patient During Measurement Period&quot;:
  Elements.&quot;Doses Administered to Patient&quot;  I
    where I.occurrence.toInterval() starts during &quot;Measurement Period&quot;

define &quot;Adverse Events During Measurement Period&quot;:
  [AdverseEvent] AE
    where AE.date.toInterval() starts during &quot;Measurement Period&quot;
/*
  [Observation: WHOConcepts.&quot;Adverse Events&quot;] O
    where O.effective.toInterval() during &quot;Measurement Period&quot;
*/

define &quot;Immunizations And Adverse Events During Measurement Period&quot;:
  from
    &quot;Doses Administered to Patient During Measurement Period&quot; I,
    &quot;Adverse Events During Measurement Period&quot; O
  where I.reaction.detail.references(O)
  return { immunization: I, adverseEvent: O }

define &quot;Pentavalent Doses Administered to Patient&quot;:
  Elements.&quot;Doses Administered to Patient&quot; I 
    where I.vaccineCode in Concepts.&quot;Pentavalent vaccines&quot;

define &quot;Pentavalent Doses Administered to Patient During Measurement Period&quot;:
  &quot;Pentavalent Doses Administered to Patient&quot; I
    where I.occurrence.toInterval() starts during &quot;Measurement Period&quot;

define &quot;Measles and Rubella Doses Administered to Patient&quot;:
  Elements.&quot;Doses Administered to Patient&quot; I 
    where I.vaccineCode in Concepts.&quot;Measles and rubella-containing vaccines&quot;

define &quot;Measles and Rubella Doses Administered to Patient During Measurement Period&quot;:
  &quot;Measles and Rubella Doses Administered to Patient&quot; I
    where I.occurrence.toInterval() starts during &quot;Measurement Period&quot;

define &quot;COVID-19 Doses Administered to Patient During Measurement Period&quot;:
  &quot;Doses Administered to Patient During Measurement Period&quot; I 
    where I.vaccineCode in Concepts.&quot;COVID-19 vaccines&quot;

define &quot;Adverse Events for Immunization&quot;:
  [AdverseEvent] AE
    where AE.actuality = 'actual'

/** 
 * @define Adverse events for immunizations which occurred during (or observed) during measurement period
 */
define &quot;Immunizations with Adverse Events During Measurement Period&quot;:
  &quot;Immunizations And Adverse Events During Measurement Period&quot; I
    return I.immunization

/** 
 * @define Adverse events for immunizations which occurred during (or observed) during measurement period
 */
define &quot;Adverse Event Reactions During Measurement Period&quot;:
  &quot;Immunizations And Adverse Events During Measurement Period&quot; I
    return I.adverseEvent

/** 
 * @function
 * @param immunization The immunization record for which the location should be retrieved
 * @return FHIR.address The location that the immunization event occurred
 */
define function GetGeographicRegionForImmunization(immunization Immunization):
  (
    [Location] L
        where immunization.location.references(L)
  ).only().address.state

/** 
 * @function
 * @param immunization The immunization record for which the location should be retrieved
 * @return FHIR.name The name of the location that the immunization event occurred
 */
define function GetLocationNameForImmunization(immunization Immunization):
  (
    [Location] L
        where immunization.location.references(L)
  ).only().name
</code></pre></td></tr>
            </table>
          </td>
        </tr>
        
        
        
        
        
        <tr>
          <td colspan="2">
            <table>
              <tr><th><b>Content: </b> application/elm+xml</th></tr>
              <tr><td><pre><code>Encoded data (513688 characters)</code></pre></td></tr>
            </table>
          </td>
        </tr>
        
        
    </table>
</div>
</div>

  <!-- insert notes if present -->
  



  

</div>
</div>  <!-- /inner-wrapper -->
</div>  <!-- /row -->
</div>  <!-- /container -->
</div>  <!-- /segment-content -->

<script type="text/javascript" src="assets/js/jquery.js"> </script>     <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
<script type="text/javascript" src="assets/js/jquery-ui.min.js"> </script>

<script type="text/javascript" src="assets/js/window-hash.js"> </script>
<a name="bottom"> </a>
<div id="segment-footer" igtool="footer" class="segment">  <!-- segment-footer -->
<div class="container">  <!-- container -->

<div class="inner-wrapper">
  <p>
    IG &#169; 2023+ <a style="color:var(--footer-hyperlink-text-color)" href="http://who.int">WHO</a>.  Package smart.who.int.immunizations#0.2.0 based on <a style="color: var(--footer-hyperlink-text-color)" href="http://hl7.org/fhir/R4/">FHIR 4.0.1</a>. Generated <span title="Wed, Jul 23, 2025 21:00+0000">2025-07-23</span>
    <br/>
    <span style="color: var(--footer-highlight-text-color)">
                Links: <a style="color: var(--footer-hyperlink-text-color)" href="toc.html">Table of Contents</a> |
                 <a style="color: var(--footer-hyperlink-text-color)" href="qa.html">QA Report</a>
                 
                
| <a style="color: #81BEF7" target="_blank" href="http://smart.who.int/immunizations/history.html">Version History</a> | <a style="color: #81BEF7" rel="license" href="license.html">License</a>
    </span>
  </p>
</div>  <!-- /inner-wrapper -->
</div>  <!-- /container -->
</div>  <!-- /segment-footer -->

<div id="segment-post-footer" class="segment hidden">  <!-- segment-post-footer -->
<div class="container">  <!-- container -->
</div>  <!-- /container -->
</div>  <!-- /segment-post-footer -->

<!-- JS and analytics only. -->
<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script type="text/javascript" src="assets/js/bootstrap.min.js"> </script>
<script type="text/javascript" src="assets/js/respond.min.js"> </script>
<script type="text/javascript" src="assets/js/anchor.min.js"> </script>
<script type="text/javascript" src="assets/js/clipboard.min.js"> </script>
<script type="text/javascript" src="assets/js/clipboard-btn.js"> </script>
<script type="text/javascript" src="assets/js/anchor-hover.js"> </script>
<!-- Analytics Below
================================================== -->


<div id="feedback-config"
 data-repo-owner=""
 data-repo-name=""
 data-repo-source="https://github.com/WorldHealthOrganization/smart-immunizations/issues/new?template=feedback.yml"
 data-issue-label="feedback"
 data-feedback-options="[{&quot;form&quot;:&quot;https://github.com/WorldHealthOrganization/smart-immunizations/issues/new?template=feedback.yml&quot;,&quot;type&quot;:&quot;GitHub&quot;,&quot;sectionid&quot;:&quot;section&quot;,&quot;pageid&quot;:&quot;page&quot;}]"
 style="display:none;"></div>

<script src="assets/js/feedback.js"></script>



