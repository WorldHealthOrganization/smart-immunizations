<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
    <title>IMMZD2DTDTPInput - WHO Immunization Implementation Guide v0.1.0</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link href="fhir.css" rel="stylesheet"/>
    <link href="assets/css/fa-all.css" rel="stylesheet" type="text/css" />
    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap-fhir.css" rel="stylesheet"/>

    <!-- Project extras -->
    <link href="assets/css/project.css" rel="stylesheet"/>
    <link href="assets/css/pygments-manni.css" rel="stylesheet"/>
    <link href="assets/css/jquery-ui.css" rel="stylesheet"/>
  	<link href="assets/css/prism.css" rel="stylesheet" />
    <!-- Placeholder for child template CSS declarations -->
    <link href="assets/css/who.css" rel="stylesheet"/>
    <link href="assets/css/lforms.min.css" rel="stylesheet"/>

    <script type="text/javascript" src="fhir-table-scripts.js"> </script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif]-->

    <!-- Favicons -->
    <link rel="fhir-logo" sizes="144x144" href="assets/ico/icon-fhir-144.png"/>
    <link rel="fhir-logo" sizes="114x114" href="assets/ico/icon-fhir-114.png"/>
    <link rel="fhir-logo" sizes="72x72" href="assets/ico/icon-fhir-72.png"/>
    <link rel="fhir-logo" href="assets/ico/icon-fhir-57.png"/>
    <link rel="shortcut icon" href="assets/ico/favicon.png"/>
  </head>
  <body onload="document.body.style.opacity='1'">

	  <script src="assets/js/prism.js"></script>

    <style type="text/css">h2{--heading-prefix:"5.72"}
    h3,h4,h5,h6{--heading-prefix:"5.72"}</style>
    <div id="segment-header" class="segment">  <!-- segment-header -->

      <div id="segment-navbar" class="segment">  <!-- segment-navbar -->
        <div id="stripe"> </div>
        <div class="container">  <!-- container -->
          <!-- HEADER CONTENT -->
  
          <nav class="navbar navbar-inverse">
            <!--status-bar-->
            <div class="container">
              <button data-target=".navbar-inverse-collapse" class="navbar-toggle" data-toggle="collapse" type="button">
                <span class="icon-bar"> </span>
                <span class="icon-bar"> </span>
                <span class="icon-bar"> </span>
              </button>
              <a class="navbar-brand hidden" href="http://hl7.org/fhir/R4/index.html">FHIR</a>
              <div class="nav-collapse collapse navbar-inverse-collapse">
                <ul xmlns="http://www.w3.org/1999/xhtml" class="nav navbar-nav">
  
  <li class="dropdown">
    <a data-toggle="dropdown" href="index.html" class="dropdown-toggle">Home<b class="caret"></b></a>
    <ul class="dropdown-menu">
      <li><a href="index.html">Summary</a></li>
      <li><a href="changes.html">Changes</a></li>
      <li><a href="dependencies.html">Dependencies</a></li>
      <li><a href="references.html">References</a></li>
      <li><a href="adapting.html">Adapting Guidelines for Country Use</a></li>
    </ul>
  </li>
 
 <li class="dropdown">
    <a data-toggle="dropdown" href="business-requirements.html" class="dropdown-toggle">Business Requirements<b class="caret"></b></a>
    <ul class="dropdown-menu">
      <li><a href="concepts.html">Concepts</a></li>
      <li><a href="personas.html">Generic Personas</a></li>
      <li><a href="scenarios.html">User Scenarios</a></li>
      <li><a href="business-processes.html">Business Processes</a></li>
      <li><a href="dictionary.html">Data Dictionary</a></li>
      <li><a href="decision-logic.html">Decision-support Logic</a></li>
      <li><a href="indicators.html">Indicator and Performance Metrics</a></li>
      <li><a href="functional-requirements.html">Functional Requirements</a></li>    
      <li><a href="non-functional-requirements.html">Non-functional Requirements</a></li>
    </ul>
  </li>

  <li class="dropdown">
    <a data-toggle="dropdown" href="data-models-and-exchange.html" class="dropdown-toggle">Data Models and Exchange<b class="caret"></b></a>
    <ul class="dropdown-menu">
      <li><a href="system-actors.html">System Actors</a></li>
      <li><a href="sequence-diagrams.html">Sequence Diagrams</a></li>
      <li><a href="transactions.html">Transactions</a></li>
      <li><a href="indicators-measures.html">Indicators and Measures</a></li>
      <li><a href="codings.html">Codings</a></li>
    </ul>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="deployment.html" class="dropdown-toggle"> Deployment<b class="caret"></b></a>
    <ul class="dropdown-menu">
      <li><a href="security-privacy.html">Security and Privacy Considerations</a></li>
      <li><a href="testing.html">Testing</a></li>
      <li><a href="test-data.html">Test Data</a></li>
      <li><a href="reference-implementations.html">Reference Implementations</a></li>
      <li><a href="downloads.html">Downloads</a></li>
    </ul>
  </li>

  <li class="dropdown">
    <a data-toggle="dropdown" href="deployment.html" class="dropdown-toggle"> Indices<b class="caret"></b></a>
    <ul class="dropdown-menu">
      <li><a href="artifacts.html">Artifact Index</a></li>
      <!--  <li><a href="maps.html">Mappings</a></li> -->
    </ul>
  </li>
</ul>

              </div>  <!-- /.nav-collapse -->

              <div class="sf_colsIn col-md-8  navbar-right-container" data-sf-element="LanguageSelectorSearch" data-placeholder-label="Language Selector and Search" style="display: flex; justify-content: flex-end; align-items: center;">
                <!-- This div will be pushed to the right -->
                <div class="language-selector" style="margin-left: auto; background-color: #00477d; color: white;">
                  <i class="fa fa-language fa-lg"></i>
                  <label for="language-selector"> </label>
                  <select onChange="openLink(value)" id="language-selector" name="language-selector">
                    <option disabled selected>Select language</option>
                    <option value="en" class="selected">English</option>
                  </select>
                  <i class="fas fa-angle-down"></i>
                </div>
                <!-- Search Content -->
              </div>
            </div>  <!-- /.container -->
          </nav>  <!-- /.navbar -->
        <!-- /HEADER CONTENT -->
        </div>  <!-- /container -->
      </div>  <!-- /segment-navbar -->
      

      <div class="container" style=" justify-content: space-between; align-items: left;">

        <!-- Placeholder for child template header declarations -->
<div id="project-nav">
    <a id="who-logo" no-external="true" href="index.html">
        
    </a>
</div>

 <div id="family-nav">
  <a id="fhir-logo" no-external="true" href="http://hl7.org/fhir">  </a>
</div> 


        <div id="ig-status" class="ig-status-draft">
          <p><span style="font-size:12pt;font-weight:bold">WHO Immunization Implementation Guide</span>
            <br/>
            <span style="display:inline-block;">0.1.0 - CI Build



  <img alt="International flag" src="assets/images/001.svg" height="16" title="International"/>


            </span>
          </p>
        </div>
      </div> <!-- /container -->
    </div>  <!-- /segment-header -->


    <!--status-bar-->

    <div id="segment-breadcrumb" class="segment">  <!-- segment-breadcrumb -->
      <div class="container">  <!-- container -->
        <ul class="breadcrumb">
          <li><a href='toc.html'><b>Table of Contents</b></a></li><li><a href='artifacts.html'><b>Artifacts Summary</b></a></li><li><b>IMMZD2DTDTPInput</b></li>

        </ul>
      </div>  <!-- /container -->
    </div>  <!-- /segment-breadcrumb -->

    <a name="top"> </a>
    <div id="segment-content" class="segment">  <!-- segment-content -->
      <div class="container">  <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<div class="col-12">
  <!--ReleaseHeader--><p id="publish-box">WHO Immunization Implementation Guide, published by World Health Organization (WHO). This guide is not an authorized publication; it is the continuous build for version 0.1.0 built by the FHIR (HL7® FHIR® Standard) CI Build. This version is based on the current content of <a href="https://github.com/WorldHealthOrganization/smart-immunizations">https://github.com/WorldHealthOrganization/smart-immunizations</a> and changes regularly. See the <a href="http://smart.who.int/ig/smart-immunizations/history.html">Directory of published versions</a></p><!--EndReleaseHeader-->
  








<ul class="nav nav-tabs">

  <li class="active">
    <a href="#">Narrative Content</a>
  </li>



  
    <li>
      <a href="Library-IMMZD2DTDTPInput.xml.html">XML</a>
    </li>
  


  
    <li>
      <a href="Library-IMMZD2DTDTPInput.json.html">JSON</a>
    </li>
  


  
    <li>
      <a href="Library-IMMZD2DTDTPInput.ttl.html">TTL</a>
    </li>
  



</ul>

  <a name="root"> </a>

  <h2 id="root">Library: IMMZD2DTDTPInput

  </h2>

  <table class="colsd">

    <tr>
      <td colspan="4"><i>Official URL</i>: <span class="copy-text">http://smart.who.int/ig/smart-immunizations/Library/IMMZD2DTDTPInput<button title="Click to copy URL" class="btn-copy" data-clipboard-text="http://smart.who.int/ig/smart-immunizations/Library/IMMZD2DTDTPInput"/></span>
      </td>
      <td><i>Version</i>:
      <span class="copy-text">0.1.0<button title="Click to copy versioned URL" class="btn-copy" data-clipboard-text="http://smart.who.int/ig/smart-immunizations/Library/IMMZD2DTDTPInput|0.1.0"/></span>
      </td>
    </tr>

    <tr>







      <td colspan="4">
        
          Draft
          
            as of 2024-04-04
          
        
      </td>



      <td><i>Computable Name</i>: <span style="font-family: monospace;">IMMZD2DTDTPInput</span></td>
    </tr>




  </table>



  <!-- insert intro if present -->
  



<!--  <p>
  Formats: <a href="Library-IMMZD2DTDTPInput.xml.html">XML</a>, <a href="Library-IMMZD2DTDTPInput.json.html">JSON</a>, <a href="Library-IMMZD2DTDTPInput.ttl.html">Turtle</a>
  </p>-->

  


  <div xmlns="http://www.w3.org/1999/xhtml"><h2>Related Artifacts</h2><table class="grid"><tr><td>depends-on</td><td>FHIR model information</td><td><code>http://fhir.org/guides/cqf/common/Library/FHIR-ModelInfo|4.0.1</code></td></tr><tr><td>depends-on</td><td>Library FHIRHelpers</td><td><code>http://smart.who.int/ig/smart-immunizations/Library/FHIRHelpers|4.0.1</code></td></tr><tr><td>depends-on</td><td>Library IMMZCom</td><td><a href="Library-IMMZCommon.html">IMMZCommon</a></td></tr><tr><td>depends-on</td><td>Library IMMZc</td><td><a href="Library-IMMZConcepts.html">IMMZConcepts</a></td></tr><tr><td>depends-on</td><td>Library IMMZCon</td><td><a href="Library-IMMZConfig.html">IMMZConfig</a></td></tr><tr><td>depends-on</td><td>Library IMMZvl</td><td><a href="Library-IMMZVaccineLibrary.html">IMMZVaccineLibrary</a></td></tr><tr><td>depends-on</td><td>Library FC</td><td><a href="Library-FHIRCommon.html">FHIRCommon</a></td></tr><tr><td>depends-on</td><td>Library Wcon</td><td><a href="Library-WHOConcepts.html">WHOConcepts</a></td></tr><tr><td>depends-on</td><td>Code system IMMZ.D</td><td><a href="CodeSystem-IMMZ.D.html">IMMZ.D CodeSystem for Data Elements</a></td></tr><tr><td>depends-on</td><td>Value set DTP Vaccine</td><td><a href="ValueSet-IMMZ.Z.DE24.html">IMMZ.Z.DE24 Diphtheria-tetanus-pertussis containing vaccines</a></td></tr><tr><td>depends-on</td><td>Value set Tetanus and Diphtheria Vaccine</td><td><a href="ValueSet-IMMZ.Z.DE28.html">IMMZ.Z.DE28 Tetanus and diphtheria containing vaccines</a></td></tr><tr><td>depends-on</td><td>Value set Pertussis Vaccine</td><td><a href="ValueSet-IMMZ.Z.DE12.html">IMMZ.Z.DE.12	Pertussis containing vaccines</a></td></tr><tr><td>depends-on</td><td>Value set Pregnancy Status Pregnant</td><td><a href="ValueSet-pregnancystatus-values.html">Pregnancy status values</a></td></tr></table><h2>Parameters</h2><table class="grid"><tr><td>Patient</td><td>out</td><td>0</td><td>1</td><td>Patient</td></tr><tr><td>DTP Doses Administered to Patient</td><td>out</td><td>0</td><td>*</td><td>Immunization</td></tr><tr><td>Date of latest DTP Vaccine</td><td>out</td><td>0</td><td>1</td><td>dateTime</td></tr><tr><td>Tetanus and Diphtheria containing Doses Administered to Patient</td><td>out</td><td>0</td><td>*</td><td>Immunization</td></tr><tr><td>Tetanus and Diphtheria Booster Doses Administered to Patient</td><td>out</td><td>0</td><td>*</td><td>Immunization</td></tr><tr><td>Date of latest Tetanus and Diphtheria Vaccine</td><td>out</td><td>0</td><td>1</td><td>dateTime</td></tr><tr><td>Pertussis Doses Administered to Patient</td><td>out</td><td>0</td><td>*</td><td>Immunization</td></tr><tr><td>Pertussis Booster Doses Administered to Patient</td><td>out</td><td>0</td><td>*</td><td>Immunization</td></tr><tr><td>No DTP primary series doses were administered</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>One DTP primary series dose was administered</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>Two DTP primary series doses were administered</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>Three DTP primary series doses were administered</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>No tetanus and diphtheria booster doses were administered</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>No tetanus and diphtheria booster dose was administered</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>One tetanus and diphtheria booster dose was administered</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>Two tetanus and diphtheria booster doses were administered</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>Three tetanus and diphtheria booster doses were administered</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>No pertussis booster doses were administered</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>One pertussis booster dose was administered</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>Client's age is less than 6 weeks</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>Client's age is less than 1 year</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>Client's age is between 6 weeks and 1 year</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>Client's age is less than 12 months</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>Client's age is more than or equal to 12 months</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>Client's age is less than 4 years</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>Client's age is more than or equal to 4 years</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>Client's age is less than 9 years</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>Client's age is more than or equal to 9 years</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>Client's age is more than 1 year</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>Client's age is more than 6 years</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>Client's age is between 1 year and 6 years</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>Client's age is between 1 year and 6 years old</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>The latest DTP dose was administered less than 4 weeks ago</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>The latest DTP dose was administered more than 4 weeks ago</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>The latest DTP dose was administered less than 6 months ago</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>The latest DTP dose was administered more than 6 months ago</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>The latest DTP dose was administered less than 1 year ago</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>The latest DTP dose was administered more than 1 year ago</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>The latest tetanus and diphtheria dose was administered less than 4 weeks ago</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>The latest tetanus and diphtheria dose was administered more than 4 weeks ago</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>The latest tetanus and diphtheria dose was administered less than 1 year ago</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>The latest tetanus and diphtheria dose was administered more than 1 year ago</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>Client is currently pregnant</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>The client has a history of anaphylactic reactions</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr><tr><td>The client currently has a severe acute illness</td><td>out</td><td>0</td><td>1</td><td>boolean</td></tr></table><h2>Data Requirements</h2><table class="grid"><tr><td colspan="2"><b>Type</b>: <a href="http://hl7.org/fhir/R4/patient.html">Patient</a> (<a href="http://hl7.org/fhir/R4/patient.html">Patient</a>)</td></tr></table><table class="grid"><tr><td colspan="2"><b>Type</b>: <a href="http://hl7.org/fhir/R4/immunization.html">Immunization</a> (<a href="http://hl7.org/fhir/R4/immunization.html">Immunization</a>)</td></tr></table><table class="grid"><tr><td colspan="2"><b>Type</b>: <a href="http://hl7.org/fhir/R4/observation.html">Observation</a> (<a href="http://hl7.org/fhir/R4/observation.html">Observation</a>)</td></tr></table><table class="grid"><tr><td colspan="2"><b>Type</b>: <a href="http://hl7.org/fhir/R4/condition.html">Condition</a> (<a href="http://hl7.org/fhir/R4/condition.html">Condition</a>)</td></tr></table><table class="grid"><tr><td colspan="2"><b>Type</b>: <a href="http://hl7.org/fhir/R4/condition.html">Condition</a> (<a href="http://hl7.org/fhir/R4/condition.html">Condition</a>)</td></tr><tr style="background-color: #efefef"><td>Filter</td><td>Value</td></tr><tr><td>code</td><td>One of these codes: <a href="CodeSystem-IMMZ.D.html#IMMZ.D-DE166">IMMZ.D CodeSystem for Data Elements</a> DE166: History of anaphylactic reactions</td></tr></table><table class="grid"><tr><td colspan="2"><b>Type</b>: <a href="http://hl7.org/fhir/R4/condition.html">Condition</a> (<a href="http://hl7.org/fhir/R4/condition.html">Condition</a>)</td></tr><tr style="background-color: #efefef"><td>Filter</td><td>Value</td></tr><tr><td>code</td><td>One of these codes: <a href="CodeSystem-IMMZ.D.html#IMMZ.D-DE188">IMMZ.D CodeSystem for Data Elements</a> DE188: Severe acute illness</td></tr></table><h2>Contents</h2><p><code>text/cql</code></p><pre><code class="language-sql">/*
 * Library: IMMZD2DTDTPInput (IMMZ.D2.DT.DTPInput)					
 */
library IMMZD2DTDTPInput
// Start Skeleton CQL
using FHIR version '4.0.1'
include FHIRHelpers version '4.0.1'
include IMMZCommon called IMMZCom
include IMMZConcepts called IMMZc
include IMMZConfig called IMMZCon
include IMMZVaccineLibrary called IMMZvl
include FHIRCommon called FC

// End Skeleton CQL
context Patient


/*
@internal: DTP containing Doses Administered to Patient
*/
define &quot;DTP Doses Administered to Patient&quot;:
  IMMZCom.&quot;Doses Administered to Patient&quot; I
  where
    I.vaccineCode in IMMZc.&quot;DTP Vaccine&quot;

/*
@internal: Date of latest DTP Vaccine
*/
define &quot;Date of latest DTP Vaccine&quot;:
	First(&quot;DTP Doses Administered to Patient&quot;).occurrence as dateTime

/*
@internal: Tetanus and Diphtheria containing Doses Administered to Patient
*/
define &quot;Tetanus and Diphtheria containing Doses Administered to Patient&quot;:
  IMMZCom.&quot;Doses Administered to Patient&quot; I where I.vaccineCode in IMMZc.&quot;Tetanus and Diphtheria Vaccine&quot;

/*
@internal: Tetanus and Diphtheria containing Booster Doses Administered to Patient
*/
define &quot;Tetanus and Diphtheria Booster Doses Administered to Patient&quot;:
  Take( &quot;Tetanus and Diphtheria containing Doses Administered to Patient&quot;, Count(&quot;Tetanus and Diphtheria containing Doses Administered to Patient&quot;) - 3 )

/*
@internal: Date of latest Tetanus and Diphtheria Vaccine
*/
define &quot;Date of latest Tetanus and Diphtheria Vaccine&quot;:
	First(&quot;Tetanus and Diphtheria containing Doses Administered to Patient&quot;).occurrence as dateTime

/*
@internal: Pertussis containing Doses Administered to Patient
*/
define &quot;Pertussis Doses Administered to Patient&quot;:
  IMMZCom.&quot;Doses Administered to Patient&quot; I where I.vaccineCode in IMMZc.&quot;Pertussis Vaccine&quot;

/*
@internal: Pertussis containing Booster Doses Administered to Patient
*/
define &quot;Pertussis Booster Doses Administered to Patient&quot;:
  Take( &quot;Pertussis Doses Administered to Patient&quot;, Count(&quot;Pertussis Doses Administered to Patient&quot;) - 3 )

/*
@input: No DTP primary series doses were administered
@pseudocode: Count of vaccines administered (where &quot;Vaccine type&quot; = &quot;'Diphtheria-tetanus-pertussis containing vaccines&quot; and &quot;Type of dose&quot; = &quot;Primary series&quot;) = 0
*/
define &quot;No DTP primary series doses were administered&quot;:
	not exists(&quot;DTP Doses Administered to Patient&quot;)

/*
@input: One DTP primary series dose was administered
@pseudocode: Count of vaccines administered (where &quot;Vaccine type&quot; = &quot;'Diphtheria-tetanus-pertussis containing vaccines&quot; and &quot;Type of dose&quot; = &quot;Primary series&quot;) = 1
*/
define &quot;One DTP primary series dose was administered&quot;:
	Count(&quot;DTP Doses Administered to Patient&quot;) = 1

/*
@input: Two DTP primary series doses were administered
@pseudocode: Count of vaccines administered (where &quot;Vaccine type&quot; = 'Diphtheria-tetanus-pertussis containing vaccines' and &quot;Type of dose&quot; = 'Primary series') = 2
*/
define &quot;Two DTP primary series doses were administered&quot;:
	Count(&quot;DTP Doses Administered to Patient&quot;) = 2

/*
@input: Three DTP primary series doses were administered
@pseudocode: Count of vaccines administered (where &quot;Vaccine type&quot; = 'Diphtheria-tetanus-pertussis containing vaccines' and &quot;Type of dose&quot; = 'Primary series') = 3
*/
define &quot;Three DTP primary series doses were administered&quot;:
	Count(&quot;DTP Doses Administered to Patient&quot;) &gt;= 3

/*
@input: No tetanus and diphtheria booster doses were administered
@pseudocode: Count of vaccines administered (where &quot;Vaccine type&quot; = &quot;Tetanus and diphtheria containing vaccines&quot; and &quot;Type of dose&quot; = &quot;Booster dose&quot;) = 0
*/
define &quot;No tetanus and diphtheria booster doses were administered&quot;:
	not exists( &quot;Tetanus and Diphtheria Booster Doses Administered to Patient&quot; )

/*
@input: No tetanus and diphtheria booster dose was administered
@pseudocode: Count of vaccines administered (where &quot;Vaccine type&quot; = &quot;Tetanus and diphtheria containing vaccines&quot; and &quot;Type of dose&quot; = &quot;Booster dose&quot;) = 0
*/
define &quot;No tetanus and diphtheria booster dose was administered&quot;:
  &quot;No tetanus and diphtheria booster doses were administered&quot;

/*
@input: One tetanus and diphtheria booster dose was administered
@pseudocode: Count of vaccines administered where &quot;Vaccine type&quot; = &quot;Tetanus and diphtheria containing vaccines&quot; and &quot;Type of dose&quot; = &quot;Booster dose&quot; ) = 1
*/
define &quot;One tetanus and diphtheria booster dose was administered&quot;:
	Count(&quot;Tetanus and Diphtheria Booster Doses Administered to Patient&quot;) = 1

/*
@input: Two tetanus and diphtheria booster doses were administered
@pseudocode: Count of vaccines administered where &quot;Vaccine type&quot; = &quot;Tetanus and diphtheria containing vaccines&quot; and &quot;Type of dose&quot; = &quot;Booster dose&quot; ) = 2
*/
define &quot;Two tetanus and diphtheria booster doses were administered&quot;:
	Count(&quot;Tetanus and Diphtheria Booster Doses Administered to Patient&quot;) = 2

/*
@input: Three tetanus and diphtheria booster doses were administered
@pseudocode: Count of vaccines administered where &quot;Vaccine type&quot; = &quot;Tetanus and diphtheria containing vaccines&quot; and &quot;Type of dose&quot; = &quot;Booster dose&quot; ) = 3
*/
define &quot;Three tetanus and diphtheria booster doses were administered&quot;:
	Count(&quot;Tetanus and Diphtheria Booster Doses Administered to Patient&quot;) &gt;= 3

/*
@input: No pertussis booster doses were administered
@pseudocode: Count of vaccines administered where &quot;Vaccine type&quot; = &quot;Pertussis containing vaccines&quot; and &quot;Type of dose&quot; = &quot;Booster dose&quot; ) = 0
*/
define &quot;No pertussis booster doses were administered&quot;:
	not exists( &quot;Pertussis Booster Doses Administered to Patient&quot; )

/*
@input: One pertussis booster dose was administered
@pseudocode: Count of vaccines administered where &quot;Vaccine type&quot; = &quot;Pertussis containing vaccines&quot; and &quot;Type of dose&quot; = &quot;Booster dose&quot; =1
*/
define &quot;One pertussis booster dose was administered&quot;:
	Count(&quot;Pertussis Booster Doses Administered to Patient&quot;) = 1

/*
@input: Client's age is less than 6 weeks
@pseudocode: Today's date - &quot;Date of birth&quot; &lt; 6 'week'
*/
define &quot;Client's age is less than 6 weeks&quot;:
	IMMZCom.&quot;Current Patient Age In Weeks&quot; &lt; 6

/*
@input: Client's age is between 6 weeks and 1 year
@pseudocode: 6 'week' ≤ Today's date - &quot;Date of birth&quot; &lt; 1 'year'
*/
define &quot;Client's age is between 6 weeks and 1 year&quot;:
	not(&quot;Client's age is less than 6 weeks&quot;) and &quot;Client's age is less than 1 year&quot;

/*
@input: Client's age is less than 12 months
@pseudocode: Today's date - &quot;Date of birth&quot; &lt; 12 'month'
*/
define &quot;Client's age is less than 12 months&quot;:
	IMMZCom.&quot;Current Patient Age In Months&quot; &lt; 12

/*
@input: Client's age is more than or equal to 12 months
@pseudocode: Today's date - &quot;Date of birth&quot; ≥ 12 'month'
*/
define &quot;Client's age is more than or equal to 12 months&quot;:
	not(&quot;Client's age is less than 12 months&quot;)

/*
@input: Client's age is less than 4 years
@pseudocode: Today's date - &quot;Date of birth&quot; &lt; 4 'year'
*/
define &quot;Client's age is less than 4 years&quot;:
	IMMZCom.&quot;Current Patient Age In Years&quot; &lt; 4

/*
@input: Client's age is more than or equal to 4 years
@pseudocode: Today's date - &quot;Date of birth&quot; ≥ 4 'year'
*/
define &quot;Client's age is more than or equal to 4 years&quot;:
	not(&quot;Client's age is less than 4 years&quot;)

/*
@input: Client's age is less than 9 years
@pseudocode: Today's date - &quot;Date of birth&quot; &lt; 9 'year'
*/
define &quot;Client's age is less than 9 years&quot;:
	IMMZCom.&quot;Current Patient Age In Years&quot; &lt; 9

/*
@input: Client's age is more than or equal to 9 years
@pseudocode: Today's date - &quot;Date of birth&quot; ≥ 9 'year'
*/
define &quot;Client's age is more than or equal to 9 years&quot;:
	not(&quot;Client's age is less than 9 years&quot;)

/*
@input: Client's age is less than 1 year
@pseudocode: Today's date - &quot;Date of birth&quot; &lt; 1 'year'
*/
define &quot;Client's age is less than 1 year&quot;:
	IMMZCom.&quot;Current Patient Age In Years&quot; &lt; 1

/*
@input: Client's age is more than 1 year
@pseudocode: Today's date - &quot;Date of birth&quot; &gt; 1 year
*/
define &quot;Client's age is more than 1 year&quot;:
	not( &quot;Client's age is less than 1 year&quot; )

/*
@input: Client's age is between 1 year and 6 years
@pseudocode: 1 'year' ≤  Today's date - &quot;Date of birth&quot; ≤  6 'year'
*/
define &quot;Client's age is between 1 year and 6 years&quot;:
	not(&quot;Client's age is less than 1 year&quot;) and not(&quot;Client's age is more than 6 years&quot;)

/*
@input: Client's age is between 1 year and 6 years old
@pseudocode: 1 year ≤  Today's date - &quot;Date of birth&quot; ≤  6 years
*/
define &quot;Client's age is between 1 year and 6 years old&quot;:
  &quot;Client's age is between 1 year and 6 years&quot;

/*
@input: Client's age is more than 6 years
@pseudocode: Today's date - &quot;Date of birth&quot; &gt;  6 'year'
*/
define &quot;Client's age is more than 6 years&quot;:
	IMMZCom.&quot;Current Patient Age In Years&quot; &gt; 6

/*
@input: The latest DTP dose was administered less than 4 weeks ago
@pseudocode: Today's date - latest &quot;Date and time of vaccination&quot; (where &quot;Vaccine type&quot; = 'Diphtheria-tetanus-pertussis containing vaccines') &lt; 4 'week'
*/
define &quot;The latest DTP dose was administered less than 4 weeks ago&quot;:
	&quot;Date of latest DTP Vaccine&quot; is not null and duration in weeks between &quot;Date of latest DTP Vaccine&quot; and Now() &lt; 4
/*
@input: The latest DTP dose was administered more than 4 weeks ago
@pseudocode: Today's date - latest &quot;Date and time of vaccination&quot; (where &quot;Vaccine type&quot; = 'Diphtheria-tetanus-pertussis containing vaccines') ≥ 4 'week'
*/
define &quot;The latest DTP dose was administered more than 4 weeks ago&quot;:
	not(&quot;The latest DTP dose was administered less than 4 weeks ago&quot;)

/*
@input: The latest DTP dose was administered less than 6 months ago
@pseudocode: Today's date - latest &quot;Date and time of vaccination&quot; (where &quot;Vaccine type&quot; = 'Diphtheria-tetanus-pertussis containing vaccines') &lt; 6 'month'
*/
define &quot;The latest DTP dose was administered less than 6 months ago&quot;:
	&quot;Date of latest DTP Vaccine&quot; is not null and duration in months between &quot;Date of latest DTP Vaccine&quot; and Now() &lt; 6

/*
@input: The latest DTP dose was administered more than 6 months ago
@pseudocode: Today's date - latest &quot;Date and time of vaccination&quot; (where &quot;Vaccine type&quot; = 'Diphtheria-tetanus-pertussis containing vaccines') ≥ 6 'month'
*/
define &quot;The latest DTP dose was administered more than 6 months ago&quot;:
	not(&quot;The latest DTP dose was administered less than 6 months ago&quot;)

/*
@input: The latest DTP dose was administered less than 1 year ago
@pseudocode: Today's date - latest &quot;Date and time of vaccination&quot; (where &quot;Vaccine type&quot; = &quot;Diphtheria-tetanus-pertussis containing vaccines&quot;) &lt; 1 year
*/
define &quot;The latest DTP dose was administered less than 1 year ago&quot;:
	&quot;Date of latest DTP Vaccine&quot; is not null and duration in years between &quot;Date of latest DTP Vaccine&quot; and Now() &lt; 1

/*
@input: The latest DTP dose was administered more than 1 year ago
@pseudocode: Today's date - latest &quot;Date and time of vaccination&quot; (where &quot;Vaccine type&quot; = &quot;Diphtheria-tetanus-pertussis containing vaccines&quot;) ≥ 1 year
*/
define &quot;The latest DTP dose was administered more than 1 year ago&quot;:
	not(&quot;The latest DTP dose was administered less than 1 year ago&quot;)

/*
@input: The latest tetanus and diphtheria dose was administered less than 4 weeks ago
@pseudocode: Today's date - Latest &quot;Date and time of vaccination&quot; (where &quot;Vaccine type&quot; = &quot;Tetanus and diphtheria containing vaccines&quot;) &lt; 4 weeks
*/
define &quot;The latest tetanus and diphtheria dose was administered less than 4 weeks ago&quot;:
  &quot;Date of latest Tetanus and Diphtheria Vaccine&quot; is not null and duration in weeks between &quot;Date of latest Tetanus and Diphtheria Vaccine&quot; and Now() &lt; 4

/*
@input: The latest tetanus and diphtheria dose was administered more than 4 weeks ago
@pseudocode: Today's date - Latest &quot;Date and time of vaccination&quot; (where &quot;Vaccine type&quot; = &quot;Tetanus and diphtheria containing vaccines&quot;) &gt; 4 weeks
*/
define &quot;The latest tetanus and diphtheria dose was administered more than 4 weeks ago&quot;:
	not(&quot;The latest tetanus and diphtheria dose was administered less than 4 weeks ago&quot;)

/*
@input: The latest tetanus and diphtheria dose was administered less than 1 year ago
@pseudocode: Today's date - Latest &quot;Date and time of vaccination&quot; (where &quot;Vaccine type&quot; = &quot;Tetanus and diphtheria containing vaccines&quot;) &lt; 1 year
*/
define &quot;The latest tetanus and diphtheria dose was administered less than 1 year ago&quot;:
  &quot;Date of latest Tetanus and Diphtheria Vaccine&quot; is not null and duration in years between &quot;Date of latest Tetanus and Diphtheria Vaccine&quot; and Now() &lt; 1

/*
@input: The latest tetanus and diphtheria dose was administered more than 1 year ago
@pseudocode: Today's date - Latest &quot;Date and time of vaccination&quot; (where &quot;Vaccine type&quot; = &quot;Tetanus and diphtheria containing vaccines&quot;) ≥ 1 year
*/
define &quot;The latest tetanus and diphtheria dose was administered more than 1 year ago&quot;:
	not(&quot;The latest tetanus and diphtheria dose was administered less than 1 year ago&quot;)

/*
@input: Client is currently pregnant
@pseudocode: &quot;Currently pregnant&quot; = TRUE
*/
define &quot;Client is currently pregnant&quot;:
	IMMZCom.&quot;Pregnant&quot;

/*
@input: The client has a history of anaphylactic reactions
@pseudocode: &quot;Potential contraindications&quot; = &quot;History of anaphylactic reactions&quot;
*/
define &quot;The client has a history of anaphylactic reactions&quot;:
	exists(IMMZCom.&quot;History of Anaphylactic Reactions Condition&quot;)

/*
@input: The client currently has a severe acute illness
@pseudocode: &quot;Potential contraindications&quot; = &quot;Severe acute illness&quot;
*/
define &quot;The client currently has a severe acute illness&quot;:
	exists(IMMZCom.&quot;Severe Acute Illness Condition&quot;)
</code></pre><p><code>Content not shown - (</code><code>application/elm+xml</code>, size = 83Kb)</p><p><code>Content not shown - (</code><code>application/elm+json</code>, size = 139Kb)</p></div>

  <!-- insert notes if present -->
  



  

</div>
        </div>  <!-- /inner-wrapper -->
      </div>  <!-- /row -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-content -->

  <script type="text/javascript" src="assets/js/jquery.js"> </script>     <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
  <script type="text/javascript" src="assets/js/jquery-ui.min.js"> </script>

  <script type="text/javascript">
    $(document).ready(function(){
      if(window.location.hash != "") {
          $('a[href="' + window.location.hash + '"]').click()
      }
    });
  </script>
  <a name="bottom"> </a>
  <div id="segment-footer" igtool="footer" class="segment">  <!-- segment-footer -->
    <div class="container">  <!-- container -->

      <div class="inner-wrapper">
        <p>
          IG &#169; 2021+ <a style="color:var(--footer-hyperlink-text-color)" href="https://www.who.int">World Health Organization (WHO)</a>.  Package who.fhir.immunization#0.1.0 based on <a style="color: var(--footer-hyperlink-text-color)" href="http://hl7.org/fhir/R4/">FHIR 4.0.1</a>. Generated <span title="Thu, Apr 4, 2024 07:29+0000">2024-04-04</span>
          <br/>
          <span style="color: var(--footer-highlight-text-color)">
                      Links: <a style="color: var(--footer-hyperlink-text-color)" href="toc.html">Table of Contents</a> |
                 <a style="color: var(--footer-hyperlink-text-color)" href="qa.html">QA Report</a>
                 
                
| <a style="color: #81BEF7" target="_blank" href="http://smart.who.int/ig/smart-immunizations/history.html">Version History</a> | <a style="color: #81BEF7" rel="license" href="license.html">License</a>
          </span>
        </p>
      </div>  <!-- /inner-wrapper -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-footer -->
  
  <div id="segment-post-footer" class="segment hidden">  <!-- segment-post-footer -->
    <div class="container">  <!-- container -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-post-footer -->
  
  <!-- JS and analytics only. -->
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script type="text/javascript" src="assets/js/bootstrap.min.js"> </script>
  <script type="text/javascript" src="assets/js/respond.min.js"> </script>
  <script type="text/javascript" src="assets/js/anchor.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard-btn.js"> </script>
  <script>anchors.options.visible = 'hover'
anchors.add()</script>
  
<!-- feedback form - Google forms -->
<!-- v0.1, 2021-01-09 -->



<!-- / feedback form  -->

  <!-- Analytics Below
  ================================================== -->
  </body>
</html>

