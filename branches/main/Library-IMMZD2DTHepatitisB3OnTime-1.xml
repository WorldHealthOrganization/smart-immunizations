<?xml version="1.0" encoding="UTF-8"?>
<library xmlns="urn:hl7-org:elm:r1" xmlns:t="urn:hl7-org:elm-types:r1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:fhir="http://hl7.org/fhir" xmlns:qdm43="urn:healthit-gov:qdm:v4_3" xmlns:qdm53="urn:healthit-gov:qdm:v5_3" xmlns:a="urn:hl7-org:cql-annotations:r1">
   <annotation translatorVersion="2.7.0" translatorOptions="EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion" xsi:type="a:CqlToElmInfo"/>
   <annotation xsi:type="a:Annotation">
      <a:s r="254">
         <a:s>/*
 * Library: IMMZD2DTHepatitisB3OnTime (IMMZ.D2.DT.Hepatitis B.3 doses)
 * Rule: Determine if the client is due for a hepatitis B vaccination according to the national immunization schedule
 * Decision Table: 3-dose schedule (birth dose + 2 primary series doses), on-time start
 * Trigger: IMMZ.D2 Determine required vaccination(s) if any
 */
library IMMZD2DTHepatitisB3OnTime</a:s>
      </a:s>
   </annotation>
   <identifier id="IMMZD2DTHepatitisB3OnTime" system="http://smart.who.int/ig/smart-immunizations"/>
   <schemaIdentifier id="urn:hl7-org:elm" version="r1"/>
   <usings>
      <def localIdentifier="System" uri="urn:hl7-org:elm-types:r1"/>
      <def localId="1" locator="10:1-10:26" localIdentifier="FHIR" uri="http://hl7.org/fhir" version="4.0.1">
         <annotation xsi:type="a:Annotation">
            <a:s r="1">
               <a:s>// Start Skeleton CQL
using </a:s>
               <a:s>
                  <a:s>FHIR</a:s>
               </a:s>
               <a:s> version '4.0.1'</a:s>
            </a:s>
         </annotation>
      </def>
   </usings>
   <includes>
      <def localId="2" locator="11:1-11:35" localIdentifier="FHIRHelpers" path="http://smart.who.int/ig/smart-immunizations/FHIRHelpers" version="4.0.1">
         <annotation xsi:type="a:Annotation">
            <a:s r="2">
               <a:s>include </a:s>
               <a:s>
                  <a:s>FHIRHelpers</a:s>
               </a:s>
               <a:s> version '4.0.1'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="3" locator="12:1-12:33" localIdentifier="IMMZCom" path="http://smart.who.int/ig/smart-immunizations/IMMZCommon">
         <annotation xsi:type="a:Annotation">
            <a:s r="3">
               <a:s>include </a:s>
               <a:s>
                  <a:s>IMMZCommon</a:s>
               </a:s>
               <a:s> called IMMZCom</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="4" locator="13:1-13:33" localIdentifier="IMMZc" path="http://smart.who.int/ig/smart-immunizations/IMMZConcepts">
         <annotation xsi:type="a:Annotation">
            <a:s r="4">
               <a:s>include </a:s>
               <a:s>
                  <a:s>IMMZConcepts</a:s>
               </a:s>
               <a:s> called IMMZc</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="5" locator="14:1-14:33" localIdentifier="IMMZCon" path="http://smart.who.int/ig/smart-immunizations/IMMZConfig">
         <annotation xsi:type="a:Annotation">
            <a:s r="5">
               <a:s>include </a:s>
               <a:s>
                  <a:s>IMMZConfig</a:s>
               </a:s>
               <a:s> called IMMZCon</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="6" locator="15:1-15:40" localIdentifier="IMMZvl" path="http://smart.who.int/ig/smart-immunizations/IMMZVaccineLibrary">
         <annotation xsi:type="a:Annotation">
            <a:s r="6">
               <a:s>include </a:s>
               <a:s>
                  <a:s>IMMZVaccineLibrary</a:s>
               </a:s>
               <a:s> called IMMZvl</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="7" locator="16:1-16:28" localIdentifier="FC" path="http://smart.who.int/ig/smart-immunizations/FHIRCommon">
         <annotation xsi:type="a:Annotation">
            <a:s r="7">
               <a:s>include </a:s>
               <a:s>
                  <a:s>FHIRCommon</a:s>
               </a:s>
               <a:s> called FC</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="8" locator="17:1-17:44" localIdentifier="input" path="http://smart.who.int/ig/smart-immunizations/IMMZD2DTHepatitisBInput">
         <annotation xsi:type="a:Annotation">
            <a:s r="8">
               <a:s>include </a:s>
               <a:s>
                  <a:s>IMMZD2DTHepatitisBInput</a:s>
               </a:s>
               <a:s> called input</a:s>
            </a:s>
         </annotation>
      </def>
   </includes>
   <statements>
      <def locator="20:1-20:15" name="Patient" context="Patient">
         <expression xsi:type="SingletonFrom">
            <operand locator="20:1-20:15" dataType="fhir:Patient" templateId="http://hl7.org/fhir/StructureDefinition/Patient" xsi:type="Retrieve"/>
         </expression>
      </def>
      <def localId="14" locator="37:1-39:77" name="Client is not due for a hepatitis B vaccination Case 1" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="14">
               <a:s>/*
@output: Client is not due for a hepatitis B vaccination Case 1
@pseudocode: &quot;Immunization recommendation status&quot; = &quot;Not due&quot;
*/
define &quot;Client is not due for a hepatitis B vaccination Case 1&quot;:
  </a:s>
               <a:s r="13">
                  <a:s r="10">
                     <a:s r="9">
                        <a:s>input</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="10">
                        <a:s>&quot;No hepatitis B primary series doses were administered&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    and </a:s>
                  <a:s r="12">
                     <a:s r="11">
                        <a:s>input</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="12">
                        <a:s>&quot;Client's age is less than {Member States defined lower limit}&quot;</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="13" locator="38:3-39:77" xsi:type="And">
            <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
            <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
            <operand localId="10" locator="38:3-38:63" name="No hepatitis B primary series doses were administered" libraryName="input" xsi:type="ExpressionRef"/>
            <operand localId="12" locator="39:9-39:77" name="Client's age is less than {Member States defined lower limit}" libraryName="input" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="21" locator="45:1-47:82" name="Client is not due for a hepatitis B vaccination Case 2" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="21">
               <a:s>/*
@output: Client is not due for a hepatitis B vaccination Case 2
@pseudocode: &quot;Immunization recommendation status&quot; = &quot;Not due&quot;
*/
define &quot;Client is not due for a hepatitis B vaccination Case 2&quot;:
  </a:s>
               <a:s r="20">
                  <a:s r="17">
                     <a:s r="16">
                        <a:s>input</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="17">
                        <a:s>&quot;One hepatitis B primary series dose was administered&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    and </a:s>
                  <a:s r="19">
                     <a:s r="18">
                        <a:s>input</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="19">
                        <a:s>&quot;The latest hepatitis B dose was administered less than 4 weeks ago&quot;</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="20" locator="46:3-47:82" xsi:type="And">
            <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
            <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
            <operand localId="17" locator="46:3-46:62" name="One hepatitis B primary series dose was administered" libraryName="input" xsi:type="ExpressionRef"/>
            <operand localId="19" locator="47:9-47:82" name="The latest hepatitis B dose was administered less than 4 weeks ago" libraryName="input" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="32" locator="53:1-56:82" name="Client is not due for a hepatitis B vaccination Case 3" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="32">
               <a:s>/*
@output: Client is not due for a hepatitis B vaccination Case 3
@pseudocode: &quot;Immunization recommendation status&quot; = &quot;Not due&quot;
*/
define &quot;Client is not due for a hepatitis B vaccination Case 3&quot;:
  </a:s>
               <a:s r="31">
                  <a:s r="28">
                     <a:s r="25">
                        <a:s r="24">
                           <a:s>input</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="25">
                           <a:s>&quot;Two hepatitis B primary series doses were administered&quot;</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    and </a:s>
                     <a:s r="27">
                        <a:s r="26">
                           <a:s>input</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="27">
                           <a:s>&quot;Client's weight at birth was below 2000g&quot;</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    and </a:s>
                  <a:s r="30">
                     <a:s r="29">
                        <a:s>input</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="30">
                        <a:s>&quot;The latest hepatitis B dose was administered less than 4 weeks ago&quot;</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="31" locator="54:3-56:82" xsi:type="And">
            <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
            <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
            <operand localId="28" locator="54:3-55:56" xsi:type="And">
               <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
               <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
               <operand localId="25" locator="54:3-54:64" name="Two hepatitis B primary series doses were administered" libraryName="input" xsi:type="ExpressionRef"/>
               <operand localId="27" locator="55:9-55:56" name="Client's weight at birth was below 2000g" libraryName="input" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="30" locator="56:9-56:82" name="The latest hepatitis B dose was administered less than 4 weeks ago" libraryName="input" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="43" locator="62:1-65:82" name="Client is not due for a hepatitis B vaccination Case 4" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="43">
               <a:s>/*
@output: Client is not due for a hepatitis B vaccination Case 4
@pseudocode: &quot;Immunization recommendation status&quot; = &quot;Not due&quot;
*/
define &quot;Client is not due for a hepatitis B vaccination Case 4&quot;:
  </a:s>
               <a:s r="42">
                  <a:s r="39">
                     <a:s r="36">
                        <a:s r="35">
                           <a:s>input</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="36">
                           <a:s>&quot;Two hepatitis B primary series doses were administered&quot;</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    and </a:s>
                     <a:s r="38">
                        <a:s r="37">
                           <a:s>input</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="38">
                           <a:s>&quot;Client was a premature infant at birth&quot;</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    and </a:s>
                  <a:s r="41">
                     <a:s r="40">
                        <a:s>input</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="41">
                        <a:s>&quot;The latest hepatitis B dose was administered less than 4 weeks ago&quot;</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="42" locator="63:3-65:82" xsi:type="And">
            <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
            <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
            <operand localId="39" locator="63:3-64:54" xsi:type="And">
               <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
               <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
               <operand localId="36" locator="63:3-63:64" name="Two hepatitis B primary series doses were administered" libraryName="input" xsi:type="ExpressionRef"/>
               <operand localId="38" locator="64:9-64:54" name="Client was a premature infant at birth" libraryName="input" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="41" locator="65:9-65:82" name="The latest hepatitis B dose was administered less than 4 weeks ago" libraryName="input" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="46" locator="71:1-75:63" name="Client is not due for a hepatitis B vaccination" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="46">
               <a:s>/*
@output: Client is not due for a hepatitis B vaccination
@pseudocode: &quot;Immunization recommendation status&quot; = &quot;Not due&quot;
*/
define &quot;Client is not due for a hepatitis B vaccination&quot;:
  </a:s>
               <a:s r="45">
                  <a:s r="34">
                     <a:s r="23">
                        <a:s r="15">
                           <a:s>&quot;Client is not due for a hepatitis B vaccination Case 1&quot;</a:s>
                        </a:s>
                        <a:s>
    or </a:s>
                        <a:s r="22">
                           <a:s>&quot;Client is not due for a hepatitis B vaccination Case 2&quot;</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    or </a:s>
                     <a:s r="33">
                        <a:s>&quot;Client is not due for a hepatitis B vaccination Case 3&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    or </a:s>
                  <a:s r="44">
                     <a:s>&quot;Client is not due for a hepatitis B vaccination Case 4&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="45" locator="72:3-75:63" xsi:type="Or">
            <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
            <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
            <operand localId="34" locator="72:3-74:63" xsi:type="Or">
               <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
               <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
               <operand localId="23" locator="72:3-73:63" xsi:type="Or">
                  <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                  <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="15" locator="72:3-72:58" name="Client is not due for a hepatitis B vaccination Case 1" xsi:type="ExpressionRef"/>
                  <operand localId="22" locator="73:8-73:63" name="Client is not due for a hepatitis B vaccination Case 2" xsi:type="ExpressionRef"/>
               </operand>
               <operand localId="33" locator="74:8-74:63" name="Client is not due for a hepatitis B vaccination Case 3" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="44" locator="75:8-75:63" name="Client is not due for a hepatitis B vaccination Case 4" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="62" locator="84:1-91:5" name="Client is not due for a hepatitis B vaccination Guidance" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="62">
               <a:s>/*
@output: Client is not due for a hepatitis B vaccination Guidance
@guidance: Should not vaccinate client for first Hepatitis B dose as client's age is not within appropriate age range. Check for any other vaccines due, and inform the caregiver of when to come back for the first dose.
@guidance: Should not vaccinate client for second hepatitis B dose as the latest Hepatitis B dose was administered less than 4 weeks ago. Check for any other vaccines due, and inform the caregiver of when to come back for the third dose.
@guidance: Should not vaccinate client for third hepatitis B dose as the client was a low birth weight infant and the latest hepatitis B vaccine was administered less than 4 weeks ago. Check for any other vaccines due, and inform the caregiver of when to come back for the third dose.
@guidance: Should not vaccinate client for third hepatitis B dose as the client was a low birth weight infant and the latest hepatitis B dose was administered less than 4 weeks ago. Check for any other vaccines due, and inform the caregiver of when to come back for the next dose.
*/
define &quot;Client is not due for a hepatitis B vaccination Guidance&quot;:
  </a:s>
               <a:s r="61">
                  <a:s>case
    </a:s>
                  <a:s r="50">
                     <a:s>when </a:s>
                     <a:s r="48">
                        <a:s>&quot;Client is not due for a hepatitis B vaccination Case 1&quot;</a:s>
                     </a:s>
                     <a:s> then </a:s>
                     <a:s r="49">
                        <a:s>'Should not vaccinate client for first Hepatitis B dose as client\'s age is not within appropriate age range. Check for any other vaccines due, and inform the caregiver of when to come back for the first dose.'</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="53">
                     <a:s>when </a:s>
                     <a:s r="51">
                        <a:s>&quot;Client is not due for a hepatitis B vaccination Case 2&quot;</a:s>
                     </a:s>
                     <a:s> then </a:s>
                     <a:s r="52">
                        <a:s>'Should not vaccinate client for second hepatitis B dose as the latest Hepatitis B dose was administered less than 4 weeks ago. Check for any other vaccines due, and inform the caregiver of when to come back for the third dose.'</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="56">
                     <a:s>when </a:s>
                     <a:s r="54">
                        <a:s>&quot;Client is not due for a hepatitis B vaccination Case 3&quot;</a:s>
                     </a:s>
                     <a:s> then </a:s>
                     <a:s r="55">
                        <a:s>'Should not vaccinate client for third hepatitis B dose as the client was a low birth weight infant and the latest hepatitis B vaccine was administered less than 4 weeks ago. Check for any other vaccines due, and inform the caregiver of when to come back for the third dose.'</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="59">
                     <a:s>when </a:s>
                     <a:s r="57">
                        <a:s>&quot;Client is not due for a hepatitis B vaccination Case 4&quot;</a:s>
                     </a:s>
                     <a:s> then </a:s>
                     <a:s r="58">
                        <a:s>'Should not vaccinate client for third hepatitis B dose as the client was a low birth weight infant and the latest hepatitis B dose was administered less than 4 weeks ago. Check for any other vaccines due, and inform the caregiver of when to come back for the next dose.'</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    else </a:s>
                  <a:s r="60">
                     <a:s>''</a:s>
                  </a:s>
                  <a:s>
  end</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="61" locator="85:3-91:5" xsi:type="Case">
            <caseItem localId="50" locator="86:5-86:281">
               <when localId="48" locator="86:10-86:65" name="Client is not due for a hepatitis B vaccination Case 1" xsi:type="ExpressionRef"/>
               <then localId="49" locator="86:72-86:281" valueType="t:String" value="Should not vaccinate client for first Hepatitis B dose as client's age is not within appropriate age range. Check for any other vaccines due, and inform the caregiver of when to come back for the first dose." xsi:type="Literal"/>
            </caseItem>
            <caseItem localId="53" locator="87:5-87:299">
               <when localId="51" locator="87:10-87:65" name="Client is not due for a hepatitis B vaccination Case 2" xsi:type="ExpressionRef"/>
               <then localId="52" locator="87:72-87:299" valueType="t:String" value="Should not vaccinate client for second hepatitis B dose as the latest Hepatitis B dose was administered less than 4 weeks ago. Check for any other vaccines due, and inform the caregiver of when to come back for the third dose." xsi:type="Literal"/>
            </caseItem>
            <caseItem localId="56" locator="88:5-88:346">
               <when localId="54" locator="88:10-88:65" name="Client is not due for a hepatitis B vaccination Case 3" xsi:type="ExpressionRef"/>
               <then localId="55" locator="88:72-88:346" valueType="t:String" value="Should not vaccinate client for third hepatitis B dose as the client was a low birth weight infant and the latest hepatitis B vaccine was administered less than 4 weeks ago. Check for any other vaccines due, and inform the caregiver of when to come back for the third dose." xsi:type="Literal"/>
            </caseItem>
            <caseItem localId="59" locator="89:5-89:342">
               <when localId="57" locator="89:10-89:65" name="Client is not due for a hepatitis B vaccination Case 4" xsi:type="ExpressionRef"/>
               <then localId="58" locator="89:72-89:342" valueType="t:String" value="Should not vaccinate client for third hepatitis B dose as the client was a low birth weight infant and the latest hepatitis B dose was administered less than 4 weeks ago. Check for any other vaccines due, and inform the caregiver of when to come back for the next dose." xsi:type="Literal"/>
            </caseItem>
            <else localId="60" locator="90:10-90:11" valueType="t:String" value="" xsi:type="Literal"/>
         </expression>
      </def>
      <def localId="70" locator="97:1-99:89" name="Client is due for a hepatitis B vaccination Case 1" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="70">
               <a:s>/*
@output: Client is due for a hepatitis B vaccination Case 1
@pseudocode: &quot;Immunization recommendation status&quot; = &quot;Due&quot;
*/
define &quot;Client is due for a hepatitis B vaccination Case 1&quot;:
  </a:s>
               <a:s r="69">
                  <a:s r="66">
                     <a:s r="65">
                        <a:s>input</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="66">
                        <a:s>&quot;No hepatitis B primary series doses were administered&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    and </a:s>
                  <a:s r="68">
                     <a:s r="67">
                        <a:s>input</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="68">
                        <a:s>&quot;Client's age is more than or equal to {Member States defined lower limit}&quot;</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="69" locator="98:3-99:89" xsi:type="And">
            <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
            <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
            <operand localId="66" locator="98:3-98:63" name="No hepatitis B primary series doses were administered" libraryName="input" xsi:type="ExpressionRef"/>
            <operand localId="68" locator="99:9-99:89" name="Client's age is more than or equal to {Member States defined lower limit}" libraryName="input" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="77" locator="105:1-107:82" name="Client is due for a hepatitis B vaccination Case 2" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="77">
               <a:s>/*
@output: Client is due for a hepatitis B vaccination Case 2
@pseudocode: &quot;Immunization recommendation status&quot; = &quot;Due&quot;
*/
define &quot;Client is due for a hepatitis B vaccination Case 2&quot;:
  </a:s>
               <a:s r="76">
                  <a:s r="73">
                     <a:s r="72">
                        <a:s>input</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="73">
                        <a:s>&quot;One hepatitis B primary series dose was administered&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    and </a:s>
                  <a:s r="75">
                     <a:s r="74">
                        <a:s>input</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="75">
                        <a:s>&quot;The latest hepatitis B dose was administered more than 4 weeks ago&quot;</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="76" locator="106:3-107:82" xsi:type="And">
            <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
            <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
            <operand localId="73" locator="106:3-106:62" name="One hepatitis B primary series dose was administered" libraryName="input" xsi:type="ExpressionRef"/>
            <operand localId="75" locator="107:9-107:82" name="The latest hepatitis B dose was administered more than 4 weeks ago" libraryName="input" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="88" locator="113:1-116:82" name="Client is due for a hepatitis B vaccination Case 3" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="88">
               <a:s>/*
@output: Client is due for a hepatitis B vaccination Case 3
@pseudocode: &quot;Immunization recommendation status&quot; = &quot;Due&quot;
*/
define &quot;Client is due for a hepatitis B vaccination Case 3&quot;:
  </a:s>
               <a:s r="87">
                  <a:s r="84">
                     <a:s r="81">
                        <a:s r="80">
                           <a:s>input</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="81">
                           <a:s>&quot;Two hepatitis B primary series doses were administered&quot;</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    and </a:s>
                     <a:s r="83">
                        <a:s r="82">
                           <a:s>input</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="83">
                           <a:s>&quot;Client's weight at birth was below 2000g&quot;</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    and </a:s>
                  <a:s r="86">
                     <a:s r="85">
                        <a:s>input</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="86">
                        <a:s>&quot;The latest hepatitis B dose was administered more than 4 weeks ago&quot;</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="87" locator="114:3-116:82" xsi:type="And">
            <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
            <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
            <operand localId="84" locator="114:3-115:56" xsi:type="And">
               <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
               <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
               <operand localId="81" locator="114:3-114:64" name="Two hepatitis B primary series doses were administered" libraryName="input" xsi:type="ExpressionRef"/>
               <operand localId="83" locator="115:9-115:56" name="Client's weight at birth was below 2000g" libraryName="input" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="86" locator="116:9-116:82" name="The latest hepatitis B dose was administered more than 4 weeks ago" libraryName="input" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="99" locator="122:1-125:82" name="Client is due for a hepatitis B vaccination Case 4" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="99">
               <a:s>/*
@output: Client is due for a hepatitis B vaccination Case 4
@pseudocode: &quot;Immunization recommendation status&quot; = &quot;Due&quot;
*/
define &quot;Client is due for a hepatitis B vaccination Case 4&quot;:
  </a:s>
               <a:s r="98">
                  <a:s r="95">
                     <a:s r="92">
                        <a:s r="91">
                           <a:s>input</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="92">
                           <a:s>&quot;Two hepatitis B primary series doses were administered&quot;</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    and </a:s>
                     <a:s r="94">
                        <a:s r="93">
                           <a:s>input</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="94">
                           <a:s>&quot;Client was a premature infant at birth&quot;</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    and </a:s>
                  <a:s r="97">
                     <a:s r="96">
                        <a:s>input</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="97">
                        <a:s>&quot;The latest hepatitis B dose was administered more than 4 weeks ago&quot;</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="98" locator="123:3-125:82" xsi:type="And">
            <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
            <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
            <operand localId="95" locator="123:3-124:54" xsi:type="And">
               <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
               <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
               <operand localId="92" locator="123:3-123:64" name="Two hepatitis B primary series doses were administered" libraryName="input" xsi:type="ExpressionRef"/>
               <operand localId="94" locator="124:9-124:54" name="Client was a premature infant at birth" libraryName="input" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="97" locator="125:9-125:82" name="The latest hepatitis B dose was administered more than 4 weeks ago" libraryName="input" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="102" locator="131:1-135:59" name="Client is due for a hepatitis B vaccination" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="102">
               <a:s>/*
@output: Client is due for a hepatitis B vaccination
@pseudocode: &quot;Immunization recommendation status&quot; = &quot;Due&quot;
*/
define &quot;Client is due for a hepatitis B vaccination&quot;:
  </a:s>
               <a:s r="101">
                  <a:s r="90">
                     <a:s r="79">
                        <a:s r="71">
                           <a:s>&quot;Client is due for a hepatitis B vaccination Case 1&quot;</a:s>
                        </a:s>
                        <a:s>
    or </a:s>
                        <a:s r="78">
                           <a:s>&quot;Client is due for a hepatitis B vaccination Case 2&quot;</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    or </a:s>
                     <a:s r="89">
                        <a:s>&quot;Client is due for a hepatitis B vaccination Case 3&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    or </a:s>
                  <a:s r="100">
                     <a:s>&quot;Client is due for a hepatitis B vaccination Case 4&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="101" locator="132:3-135:59" xsi:type="Or">
            <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
            <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
            <operand localId="90" locator="132:3-134:59" xsi:type="Or">
               <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
               <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
               <operand localId="79" locator="132:3-133:59" xsi:type="Or">
                  <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                  <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                  <operand localId="71" locator="132:3-132:54" name="Client is due for a hepatitis B vaccination Case 1" xsi:type="ExpressionRef"/>
                  <operand localId="78" locator="133:8-133:59" name="Client is due for a hepatitis B vaccination Case 2" xsi:type="ExpressionRef"/>
               </operand>
               <operand localId="89" locator="134:8-134:59" name="Client is due for a hepatitis B vaccination Case 3" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="100" locator="135:8-135:59" name="Client is due for a hepatitis B vaccination Case 4" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="118" locator="144:1-151:5" name="Client is due for a hepatitis B vaccination Guidance" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="118">
               <a:s>/*
@output: Client is due for a hepatitis B vaccination Guidance
@guidance: Should vaccinate client for first hepatitis B dose as client's age is within appropriate age range. Check for contraindications.
@guidance: Should vaccinate client for second hepatitis B dose as the latest Hepatitis B dose was administered more than 4 weeks ago. Check for contraindications.
@guidance: Should vaccinate client for third hepatitis B dose as the client was a low birth weight infant and the latest Hepatitis B vaccine administered more than 4 weeks ago. Check for contraindications.
@guidance: Should vaccinate client for third hepatitis B dose as the client was a low birth weight infant and the latest hepatitis B dose was administered more than 4 weeks ago. Check for contraindications.
*/
define &quot;Client is due for a hepatitis B vaccination Guidance&quot;:
  </a:s>
               <a:s r="117">
                  <a:s>case
    </a:s>
                  <a:s r="106">
                     <a:s>when </a:s>
                     <a:s r="104">
                        <a:s>&quot;Client is due for a hepatitis B vaccination Case 1&quot;</a:s>
                     </a:s>
                     <a:s> then </a:s>
                     <a:s r="105">
                        <a:s>'Should vaccinate client for first hepatitis B dose as client\'s age is within appropriate age range. Check for contraindications.'</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="109">
                     <a:s>when </a:s>
                     <a:s r="107">
                        <a:s>&quot;Client is due for a hepatitis B vaccination Case 2&quot;</a:s>
                     </a:s>
                     <a:s> then </a:s>
                     <a:s r="108">
                        <a:s>'Should vaccinate client for second hepatitis B dose as the latest Hepatitis B dose was administered more than 4 weeks ago. Check for contraindications.'</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="112">
                     <a:s>when </a:s>
                     <a:s r="110">
                        <a:s>&quot;Client is due for a hepatitis B vaccination Case 3&quot;</a:s>
                     </a:s>
                     <a:s> then </a:s>
                     <a:s r="111">
                        <a:s>'Should vaccinate client for third hepatitis B dose as the client was a low birth weight infant and the latest Hepatitis B vaccine administered more than 4 weeks ago. Check for contraindications.'</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="115">
                     <a:s>when </a:s>
                     <a:s r="113">
                        <a:s>&quot;Client is due for a hepatitis B vaccination Case 4&quot;</a:s>
                     </a:s>
                     <a:s> then </a:s>
                     <a:s r="114">
                        <a:s>'Should vaccinate client for third hepatitis B dose as the client was a low birth weight infant and the latest hepatitis B dose was administered more than 4 weeks ago. Check for contraindications.'</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    else </a:s>
                  <a:s r="116">
                     <a:s>''</a:s>
                  </a:s>
                  <a:s>
  end</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="117" locator="145:3-151:5" xsi:type="Case">
            <caseItem localId="106" locator="146:5-146:198">
               <when localId="104" locator="146:10-146:61" name="Client is due for a hepatitis B vaccination Case 1" xsi:type="ExpressionRef"/>
               <then localId="105" locator="146:68-146:198" valueType="t:String" value="Should vaccinate client for first hepatitis B dose as client's age is within appropriate age range. Check for contraindications." xsi:type="Literal"/>
            </caseItem>
            <caseItem localId="109" locator="147:5-147:220">
               <when localId="107" locator="147:10-147:61" name="Client is due for a hepatitis B vaccination Case 2" xsi:type="ExpressionRef"/>
               <then localId="108" locator="147:68-147:220" valueType="t:String" value="Should vaccinate client for second hepatitis B dose as the latest Hepatitis B dose was administered more than 4 weeks ago. Check for contraindications." xsi:type="Literal"/>
            </caseItem>
            <caseItem localId="112" locator="148:5-148:263">
               <when localId="110" locator="148:10-148:61" name="Client is due for a hepatitis B vaccination Case 3" xsi:type="ExpressionRef"/>
               <then localId="111" locator="148:68-148:263" valueType="t:String" value="Should vaccinate client for third hepatitis B dose as the client was a low birth weight infant and the latest Hepatitis B vaccine administered more than 4 weeks ago. Check for contraindications." xsi:type="Literal"/>
            </caseItem>
            <caseItem localId="115" locator="149:5-149:264">
               <when localId="113" locator="149:10-149:61" name="Client is due for a hepatitis B vaccination Case 4" xsi:type="ExpressionRef"/>
               <then localId="114" locator="149:68-149:264" valueType="t:String" value="Should vaccinate client for third hepatitis B dose as the client was a low birth weight infant and the latest hepatitis B dose was administered more than 4 weeks ago. Check for contraindications." xsi:type="Literal"/>
            </caseItem>
            <else localId="116" locator="150:10-150:11" valueType="t:String" value="" xsi:type="Literal"/>
         </expression>
      </def>
      <def localId="129" locator="157:1-160:58" name="Hepatitis B immunization schedule is complete Case 1" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="129">
               <a:s>/*
@output: Hepatitis B immunization schedule is complete Case 1
@pseudocode: &quot;Immunization recommendation status&quot; = 'Complete'
*/
define &quot;Hepatitis B immunization schedule is complete Case 1&quot;:
  </a:s>
               <a:s r="128">
                  <a:s r="125">
                     <a:s r="122">
                        <a:s r="121">
                           <a:s>input</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="122">
                           <a:s>&quot;Two hepatitis B primary series doses were administered&quot;</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    and </a:s>
                     <a:s r="124">
                        <a:s r="123">
                           <a:s>input</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="124">
                           <a:s>&quot;Client's weight at birth was over 2000g&quot;</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    and </a:s>
                  <a:s r="127">
                     <a:s r="126">
                        <a:s>input</a:s>
                     </a:s>
                     <a:s>.</a:s>
                     <a:s r="127">
                        <a:s>&quot;Client was not a premature infant at birth&quot;</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="128" locator="158:3-160:58" xsi:type="And">
            <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
            <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
            <operand localId="125" locator="158:3-159:55" xsi:type="And">
               <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
               <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
               <operand localId="122" locator="158:3-158:64" name="Two hepatitis B primary series doses were administered" libraryName="input" xsi:type="ExpressionRef"/>
               <operand localId="124" locator="159:9-159:55" name="Client's weight at birth was over 2000g" libraryName="input" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="127" locator="160:9-160:58" name="Client was not a premature infant at birth" libraryName="input" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="133" locator="166:1-167:66" name="Hepatitis B immunization schedule is complete Case 2" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="133">
               <a:s>/*
@output: Hepatitis B immunization schedule is complete Case 2
@pseudocode: 
*/
define &quot;Hepatitis B immunization schedule is complete Case 2&quot;:
  </a:s>
               <a:s r="132">
                  <a:s r="131">
                     <a:s>input</a:s>
                  </a:s>
                  <a:s>.</a:s>
                  <a:s r="132">
                     <a:s>&quot;Three hepatitis B primary series doses were administered&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="132" locator="167:3-167:66" name="Three hepatitis B primary series doses were administered" libraryName="input" xsi:type="ExpressionRef"/>
      </def>
      <def localId="136" locator="173:1-175:61" name="Hepatitis B immunization schedule is complete" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="136">
               <a:s>/*
@output: Hepatitis B immunization schedule is complete
@pseudocode: &quot;Immunization recommendation status&quot; = 'Complete'
*/
define &quot;Hepatitis B immunization schedule is complete&quot;:
  </a:s>
               <a:s r="135">
                  <a:s r="130">
                     <a:s>&quot;Hepatitis B immunization schedule is complete Case 1&quot;</a:s>
                  </a:s>
                  <a:s>
    or </a:s>
                  <a:s r="134">
                     <a:s>&quot;Hepatitis B immunization schedule is complete Case 2&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="135" locator="174:3-175:61" xsi:type="Or">
            <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
            <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
            <operand localId="130" locator="174:3-174:56" name="Hepatitis B immunization schedule is complete Case 1" xsi:type="ExpressionRef"/>
            <operand localId="134" locator="175:8-175:61" name="Hepatitis B immunization schedule is complete Case 2" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="146" locator="182:1-187:5" name="Hepatitis B immunization schedule is complete Guidance" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="146">
               <a:s>/*
@output: Hepatitis B immunization schedule is complete Guidance
@guidance: Hepatitis B immunization schedule is complete for client whose weight at birth was over 2000g and who was not premature infant. Two hepatitis B primary series doses were administered.
@guidance: The Hepatitis B immunization schedule is complete for client whose weight at birth was below 2000g and who was a premature infant. Four hepatitis B primary series doses were administered. Check for any other vaccines due.
*/
define &quot;Hepatitis B immunization schedule is complete Guidance&quot;:
  </a:s>
               <a:s r="145">
                  <a:s>case
    </a:s>
                  <a:s r="140">
                     <a:s>when </a:s>
                     <a:s r="138">
                        <a:s>&quot;Hepatitis B immunization schedule is complete Case 1&quot;</a:s>
                     </a:s>
                     <a:s> then </a:s>
                     <a:s r="139">
                        <a:s>'Hepatitis B immunization schedule is complete for client whose weight at birth was over 2000g and who was not premature infant. Two hepatitis B primary series doses were administered.'</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="143">
                     <a:s>when </a:s>
                     <a:s r="141">
                        <a:s>&quot;Hepatitis B immunization schedule is complete Case 2&quot;</a:s>
                     </a:s>
                     <a:s> then </a:s>
                     <a:s r="142">
                        <a:s>'The Hepatitis B immunization schedule is complete for client whose weight at birth was below 2000g and who was a premature infant. Four hepatitis B primary series doses were administered. Check for any other vaccines due.'</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    else </a:s>
                  <a:s r="144">
                     <a:s>''</a:s>
                  </a:s>
                  <a:s>
  end</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="145" locator="183:3-187:5" xsi:type="Case">
            <caseItem localId="140" locator="184:5-184:254">
               <when localId="138" locator="184:10-184:63" name="Hepatitis B immunization schedule is complete Case 1" xsi:type="ExpressionRef"/>
               <then localId="139" locator="184:70-184:254" valueType="t:String" value="Hepatitis B immunization schedule is complete for client whose weight at birth was over 2000g and who was not premature infant. Two hepatitis B primary series doses were administered." xsi:type="Literal"/>
            </caseItem>
            <caseItem localId="143" locator="185:5-185:292">
               <when localId="141" locator="185:10-185:63" name="Hepatitis B immunization schedule is complete Case 2" xsi:type="ExpressionRef"/>
               <then localId="142" locator="185:70-185:292" valueType="t:String" value="The Hepatitis B immunization schedule is complete for client whose weight at birth was below 2000g and who was a premature infant. Four hepatitis B primary series doses were administered. Check for any other vaccines due." xsi:type="Literal"/>
            </caseItem>
            <else localId="144" locator="186:10-186:11" valueType="t:String" value="" xsi:type="Literal"/>
         </expression>
      </def>
      <def localId="151" locator="25:1-31:5" name="Guidance" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="151">
               <a:s>/*
@dynamicValue: Guidance
*/
define &quot;Guidance&quot;:
  </a:s>
               <a:s r="150">
                  <a:s>case
    </a:s>
                  <a:s r="64">
                     <a:s>when </a:s>
                     <a:s r="47">
                        <a:s>&quot;Client is not due for a hepatitis B vaccination&quot;</a:s>
                     </a:s>
                     <a:s> then </a:s>
                     <a:s r="63">
                        <a:s>&quot;Client is not due for a hepatitis B vaccination Guidance&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="120">
                     <a:s>when </a:s>
                     <a:s r="103">
                        <a:s>&quot;Client is due for a hepatitis B vaccination&quot;</a:s>
                     </a:s>
                     <a:s> then </a:s>
                     <a:s r="119">
                        <a:s>&quot;Client is due for a hepatitis B vaccination Guidance&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="148">
                     <a:s>when </a:s>
                     <a:s r="137">
                        <a:s>&quot;Hepatitis B immunization schedule is complete&quot;</a:s>
                     </a:s>
                     <a:s> then </a:s>
                     <a:s r="147">
                        <a:s>&quot;Hepatitis B immunization schedule is complete Guidance&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    else </a:s>
                  <a:s r="149">
                     <a:s>''</a:s>
                  </a:s>
                  <a:s>
  end</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="150" locator="26:3-31:5" xsi:type="Case">
            <caseItem localId="64" locator="27:5-27:122">
               <when localId="47" locator="27:10-27:58" name="Client is not due for a hepatitis B vaccination" xsi:type="ExpressionRef"/>
               <then localId="63" locator="27:65-27:122" name="Client is not due for a hepatitis B vaccination Guidance" xsi:type="ExpressionRef"/>
            </caseItem>
            <caseItem localId="120" locator="28:5-28:114">
               <when localId="103" locator="28:10-28:54" name="Client is due for a hepatitis B vaccination" xsi:type="ExpressionRef"/>
               <then localId="119" locator="28:61-28:114" name="Client is due for a hepatitis B vaccination Guidance" xsi:type="ExpressionRef"/>
            </caseItem>
            <caseItem localId="148" locator="29:5-29:118">
               <when localId="137" locator="29:10-29:56" name="Hepatitis B immunization schedule is complete" xsi:type="ExpressionRef"/>
               <then localId="147" locator="29:63-29:118" name="Hepatitis B immunization schedule is complete Guidance" xsi:type="ExpressionRef"/>
            </caseItem>
            <else localId="149" locator="30:10-30:11" valueType="t:String" value="" xsi:type="Literal"/>
         </expression>
      </def>
      <def localId="254" locator="193:1-206:5" name="Test Validation" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="254">
               <a:s>/*
@test: Test expected results based on example patients
*/
define &quot;Test Validation&quot;:
  </a:s>
               <a:s r="253">
                  <a:s>case
    </a:s>
                  <a:s r="161">
                     <a:s>when </a:s>
                     <a:s r="155">
                        <a:s r="153">
                           <a:s r="152">
                              <a:s>Patient</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="153">
                              <a:s>id</a:s>
                           </a:s>
                        </a:s>
                        <a:s> = </a:s>
                        <a:s r="154">
                           <a:s>'21.D0Alt4w'</a:s>
                        </a:s>
                     </a:s>
                     <a:s> then </a:s>
                     <a:s r="160">
                        <a:s r="156">
                           <a:s>&quot;Client is not due for a hepatitis B vaccination Case 1&quot;</a:s>
                        </a:s>
                        <a:s> and </a:s>
                        <a:s r="159">
                           <a:s r="157">
                              <a:s>&quot;Guidance&quot;</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="158">
                              <a:s>'Should not vaccinate client for first Hepatitis B dose as client\'s age is not within appropriate age range. Check for any other vaccines due, and inform the caregiver of when to come back for the first dose.'</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="171">
                     <a:s>when </a:s>
                     <a:s r="165">
                        <a:s r="163">
                           <a:s r="162">
                              <a:s>Patient</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="163">
                              <a:s>id</a:s>
                           </a:s>
                        </a:s>
                        <a:s> = </a:s>
                        <a:s r="164">
                           <a:s>'22.D0Agt4w'</a:s>
                        </a:s>
                     </a:s>
                     <a:s> then </a:s>
                     <a:s r="170">
                        <a:s r="166">
                           <a:s>&quot;Client is due for a hepatitis B vaccination Case 1&quot;</a:s>
                        </a:s>
                        <a:s> and </a:s>
                        <a:s r="169">
                           <a:s r="167">
                              <a:s>&quot;Guidance&quot;</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="168">
                              <a:s>'Should vaccinate client for first hepatitis B dose as client\'s age is within appropriate age range. Check for contraindications.'</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="181">
                     <a:s>when </a:s>
                     <a:s r="175">
                        <a:s r="173">
                           <a:s r="172">
                              <a:s>Patient</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="173">
                              <a:s>id</a:s>
                           </a:s>
                        </a:s>
                        <a:s> = </a:s>
                        <a:s r="174">
                           <a:s>'23.D1Hlt4w'</a:s>
                        </a:s>
                     </a:s>
                     <a:s> then </a:s>
                     <a:s r="180">
                        <a:s r="176">
                           <a:s>&quot;Client is not due for a hepatitis B vaccination Case 2&quot;</a:s>
                        </a:s>
                        <a:s> and </a:s>
                        <a:s r="179">
                           <a:s r="177">
                              <a:s>&quot;Guidance&quot;</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="178">
                              <a:s>'Should not vaccinate client for second hepatitis B dose as the latest Hepatitis B dose was administered less than 4 weeks ago. Check for any other vaccines due, and inform the caregiver of when to come back for the third dose.'</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="191">
                     <a:s>when </a:s>
                     <a:s r="185">
                        <a:s r="183">
                           <a:s r="182">
                              <a:s>Patient</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="183">
                              <a:s>id</a:s>
                           </a:s>
                        </a:s>
                        <a:s> = </a:s>
                        <a:s r="184">
                           <a:s>'24.D1Hgt4w'</a:s>
                        </a:s>
                     </a:s>
                     <a:s> then </a:s>
                     <a:s r="190">
                        <a:s r="186">
                           <a:s>&quot;Client is due for a hepatitis B vaccination Case 2&quot;</a:s>
                        </a:s>
                        <a:s> and </a:s>
                        <a:s r="189">
                           <a:s r="187">
                              <a:s>&quot;Guidance&quot;</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="188">
                              <a:s>'Should vaccinate client for second hepatitis B dose as the latest Hepatitis B dose was administered more than 4 weeks ago. Check for contraindications.'</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="201">
                     <a:s>when </a:s>
                     <a:s r="195">
                        <a:s r="193">
                           <a:s r="192">
                              <a:s>Patient</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="193">
                              <a:s>id</a:s>
                           </a:s>
                        </a:s>
                        <a:s> = </a:s>
                        <a:s r="194">
                           <a:s>'25.D2BWgt2kgNP'</a:s>
                        </a:s>
                     </a:s>
                     <a:s> then </a:s>
                     <a:s r="200">
                        <a:s r="196">
                           <a:s>&quot;Hepatitis B immunization schedule is complete Case 1&quot;</a:s>
                        </a:s>
                        <a:s> and </a:s>
                        <a:s r="199">
                           <a:s r="197">
                              <a:s>&quot;Guidance&quot;</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="198">
                              <a:s>'Hepatitis B immunization schedule is complete for client whose weight at birth was over 2000g and who was not premature infant. Two hepatitis B primary series doses were administered.'</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="211">
                     <a:s>when </a:s>
                     <a:s r="205">
                        <a:s r="203">
                           <a:s r="202">
                              <a:s>Patient</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="203">
                              <a:s>id</a:s>
                           </a:s>
                        </a:s>
                        <a:s> = </a:s>
                        <a:s r="204">
                           <a:s>'26.D2BWlt2kgHlt4w'</a:s>
                        </a:s>
                     </a:s>
                     <a:s> then </a:s>
                     <a:s r="210">
                        <a:s r="206">
                           <a:s>&quot;Client is not due for a hepatitis B vaccination Case 3&quot;</a:s>
                        </a:s>
                        <a:s> and </a:s>
                        <a:s r="209">
                           <a:s r="207">
                              <a:s>&quot;Guidance&quot;</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="208">
                              <a:s>'Should not vaccinate client for third hepatitis B dose as the client was a low birth weight infant and the latest hepatitis B vaccine was administered less than 4 weeks ago. Check for any other vaccines due, and inform the caregiver of when to come back for the third dose.'</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="221">
                     <a:s>when </a:s>
                     <a:s r="215">
                        <a:s r="213">
                           <a:s r="212">
                              <a:s>Patient</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="213">
                              <a:s>id</a:s>
                           </a:s>
                        </a:s>
                        <a:s> = </a:s>
                        <a:s r="214">
                           <a:s>'27.D2BWlt2kgHgt4w'</a:s>
                        </a:s>
                     </a:s>
                     <a:s> then </a:s>
                     <a:s r="220">
                        <a:s r="216">
                           <a:s>&quot;Client is due for a hepatitis B vaccination Case 3&quot;</a:s>
                        </a:s>
                        <a:s> and </a:s>
                        <a:s r="219">
                           <a:s r="217">
                              <a:s>&quot;Guidance&quot;</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="218">
                              <a:s>'Should vaccinate client for third hepatitis B dose as the client was a low birth weight infant and the latest Hepatitis B vaccine administered more than 4 weeks ago. Check for contraindications.'</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="231">
                     <a:s>when </a:s>
                     <a:s r="225">
                        <a:s r="223">
                           <a:s r="222">
                              <a:s>Patient</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="223">
                              <a:s>id</a:s>
                           </a:s>
                        </a:s>
                        <a:s> = </a:s>
                        <a:s r="224">
                           <a:s>'28.D2PHlt4w'</a:s>
                        </a:s>
                     </a:s>
                     <a:s> then </a:s>
                     <a:s r="230">
                        <a:s r="226">
                           <a:s>&quot;Client is not due for a hepatitis B vaccination Case 4&quot;</a:s>
                        </a:s>
                        <a:s> and </a:s>
                        <a:s r="229">
                           <a:s r="227">
                              <a:s>&quot;Guidance&quot;</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="228">
                              <a:s>'Should not vaccinate client for third hepatitis B dose as the client was a low birth weight infant and the latest hepatitis B dose was administered less than 4 weeks ago. Check for any other vaccines due, and inform the caregiver of when to come back for the next dose.'</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="241">
                     <a:s>when </a:s>
                     <a:s r="235">
                        <a:s r="233">
                           <a:s r="232">
                              <a:s>Patient</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="233">
                              <a:s>id</a:s>
                           </a:s>
                        </a:s>
                        <a:s> = </a:s>
                        <a:s r="234">
                           <a:s>'29.D2PHgt4w'</a:s>
                        </a:s>
                     </a:s>
                     <a:s> then </a:s>
                     <a:s r="240">
                        <a:s r="236">
                           <a:s>&quot;Client is due for a hepatitis B vaccination Case 4&quot;</a:s>
                        </a:s>
                        <a:s> and </a:s>
                        <a:s r="239">
                           <a:s r="237">
                              <a:s>&quot;Guidance&quot;</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="238">
                              <a:s>'Should vaccinate client for third hepatitis B dose as the client was a low birth weight infant and the latest hepatitis B dose was administered more than 4 weeks ago. Check for contraindications.'</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="251">
                     <a:s>when </a:s>
                     <a:s r="245">
                        <a:s r="243">
                           <a:s r="242">
                              <a:s>Patient</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="243">
                              <a:s>id</a:s>
                           </a:s>
                        </a:s>
                        <a:s> = </a:s>
                        <a:s r="244">
                           <a:s>'30.D3'</a:s>
                        </a:s>
                     </a:s>
                     <a:s> then </a:s>
                     <a:s r="250">
                        <a:s r="246">
                           <a:s>&quot;Hepatitis B immunization schedule is complete Case 2&quot;</a:s>
                        </a:s>
                        <a:s> and </a:s>
                        <a:s r="249">
                           <a:s r="247">
                              <a:s>&quot;Guidance&quot;</a:s>
                           </a:s>
                           <a:s> = </a:s>
                           <a:s r="248">
                              <a:s>'The Hepatitis B immunization schedule is complete for client whose weight at birth was below 2000g and who was a premature infant. Four hepatitis B primary series doses were administered. Check for any other vaccines due.'</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    else </a:s>
                  <a:s r="252">
                     <a:s>'No test case set'</a:s>
                  </a:s>
                  <a:s>
  end</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="253" locator="194:3-206:5" xsi:type="Case">
            <caseItem localId="161" locator="195:5-195:324">
               <when localId="155" locator="195:10-195:34" xsi:type="Equal">
                  <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                  <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <signature name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="153" locator="195:10-195:19" path="id" xsi:type="Property">
                        <source localId="152" locator="195:10-195:16" name="Patient" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
                  <operand localId="154" locator="195:23-195:34" valueType="t:String" value="21.D0Alt4w" xsi:type="Literal"/>
               </when>
               <then xsi:type="As">
                  <operand localId="160" locator="195:41-195:324" xsi:type="And">
                     <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="156" locator="195:41-195:96" name="Client is not due for a hepatitis B vaccination Case 1" xsi:type="ExpressionRef"/>
                     <operand localId="159" locator="195:102-195:324" xsi:type="Equal">
                        <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                        <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="157" locator="195:102-195:111" name="Guidance" xsi:type="ExpressionRef"/>
                        <operand localId="158" locator="195:115-195:324" valueType="t:String" value="Should not vaccinate client for first Hepatitis B dose as client's age is not within appropriate age range. Check for any other vaccines due, and inform the caregiver of when to come back for the first dose." xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                     <choice name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <choice name="t:String" xsi:type="NamedTypeSpecifier"/>
                  </asTypeSpecifier>
               </then>
            </caseItem>
            <caseItem localId="171" locator="196:5-196:241">
               <when localId="165" locator="196:10-196:34" xsi:type="Equal">
                  <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                  <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <signature name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="163" locator="196:10-196:19" path="id" xsi:type="Property">
                        <source localId="162" locator="196:10-196:16" name="Patient" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
                  <operand localId="164" locator="196:23-196:34" valueType="t:String" value="22.D0Agt4w" xsi:type="Literal"/>
               </when>
               <then xsi:type="As">
                  <operand localId="170" locator="196:41-196:241" xsi:type="And">
                     <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="166" locator="196:41-196:92" name="Client is due for a hepatitis B vaccination Case 1" xsi:type="ExpressionRef"/>
                     <operand localId="169" locator="196:98-196:241" xsi:type="Equal">
                        <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                        <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="167" locator="196:98-196:107" name="Guidance" xsi:type="ExpressionRef"/>
                        <operand localId="168" locator="196:111-196:241" valueType="t:String" value="Should vaccinate client for first hepatitis B dose as client's age is within appropriate age range. Check for contraindications." xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                     <choice name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <choice name="t:String" xsi:type="NamedTypeSpecifier"/>
                  </asTypeSpecifier>
               </then>
            </caseItem>
            <caseItem localId="181" locator="197:5-197:342">
               <when localId="175" locator="197:10-197:34" xsi:type="Equal">
                  <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                  <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <signature name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="173" locator="197:10-197:19" path="id" xsi:type="Property">
                        <source localId="172" locator="197:10-197:16" name="Patient" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
                  <operand localId="174" locator="197:23-197:34" valueType="t:String" value="23.D1Hlt4w" xsi:type="Literal"/>
               </when>
               <then xsi:type="As">
                  <operand localId="180" locator="197:41-197:342" xsi:type="And">
                     <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="176" locator="197:41-197:96" name="Client is not due for a hepatitis B vaccination Case 2" xsi:type="ExpressionRef"/>
                     <operand localId="179" locator="197:102-197:342" xsi:type="Equal">
                        <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                        <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="177" locator="197:102-197:111" name="Guidance" xsi:type="ExpressionRef"/>
                        <operand localId="178" locator="197:115-197:342" valueType="t:String" value="Should not vaccinate client for second hepatitis B dose as the latest Hepatitis B dose was administered less than 4 weeks ago. Check for any other vaccines due, and inform the caregiver of when to come back for the third dose." xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                     <choice name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <choice name="t:String" xsi:type="NamedTypeSpecifier"/>
                  </asTypeSpecifier>
               </then>
            </caseItem>
            <caseItem localId="191" locator="198:5-198:263">
               <when localId="185" locator="198:10-198:34" xsi:type="Equal">
                  <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                  <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <signature name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="183" locator="198:10-198:19" path="id" xsi:type="Property">
                        <source localId="182" locator="198:10-198:16" name="Patient" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
                  <operand localId="184" locator="198:23-198:34" valueType="t:String" value="24.D1Hgt4w" xsi:type="Literal"/>
               </when>
               <then xsi:type="As">
                  <operand localId="190" locator="198:41-198:263" xsi:type="And">
                     <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="186" locator="198:41-198:92" name="Client is due for a hepatitis B vaccination Case 2" xsi:type="ExpressionRef"/>
                     <operand localId="189" locator="198:98-198:263" xsi:type="Equal">
                        <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                        <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="187" locator="198:98-198:107" name="Guidance" xsi:type="ExpressionRef"/>
                        <operand localId="188" locator="198:111-198:263" valueType="t:String" value="Should vaccinate client for second hepatitis B dose as the latest Hepatitis B dose was administered more than 4 weeks ago. Check for contraindications." xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                     <choice name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <choice name="t:String" xsi:type="NamedTypeSpecifier"/>
                  </asTypeSpecifier>
               </then>
            </caseItem>
            <caseItem localId="201" locator="199:5-199:301">
               <when localId="195" locator="199:10-199:38" xsi:type="Equal">
                  <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                  <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <signature name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="193" locator="199:10-199:19" path="id" xsi:type="Property">
                        <source localId="192" locator="199:10-199:16" name="Patient" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
                  <operand localId="194" locator="199:23-199:38" valueType="t:String" value="25.D2BWgt2kgNP" xsi:type="Literal"/>
               </when>
               <then xsi:type="As">
                  <operand localId="200" locator="199:45-199:301" xsi:type="And">
                     <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="196" locator="199:45-199:98" name="Hepatitis B immunization schedule is complete Case 1" xsi:type="ExpressionRef"/>
                     <operand localId="199" locator="199:104-199:301" xsi:type="Equal">
                        <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                        <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="197" locator="199:104-199:113" name="Guidance" xsi:type="ExpressionRef"/>
                        <operand localId="198" locator="199:117-199:301" valueType="t:String" value="Hepatitis B immunization schedule is complete for client whose weight at birth was over 2000g and who was not premature infant. Two hepatitis B primary series doses were administered." xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                     <choice name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <choice name="t:String" xsi:type="NamedTypeSpecifier"/>
                  </asTypeSpecifier>
               </then>
            </caseItem>
            <caseItem localId="211" locator="200:5-200:396">
               <when localId="205" locator="200:10-200:41" xsi:type="Equal">
                  <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                  <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <signature name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="203" locator="200:10-200:19" path="id" xsi:type="Property">
                        <source localId="202" locator="200:10-200:16" name="Patient" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
                  <operand localId="204" locator="200:23-200:41" valueType="t:String" value="26.D2BWlt2kgHlt4w" xsi:type="Literal"/>
               </when>
               <then xsi:type="As">
                  <operand localId="210" locator="200:48-200:396" xsi:type="And">
                     <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="206" locator="200:48-200:103" name="Client is not due for a hepatitis B vaccination Case 3" xsi:type="ExpressionRef"/>
                     <operand localId="209" locator="200:109-200:396" xsi:type="Equal">
                        <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                        <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="207" locator="200:109-200:118" name="Guidance" xsi:type="ExpressionRef"/>
                        <operand localId="208" locator="200:122-200:396" valueType="t:String" value="Should not vaccinate client for third hepatitis B dose as the client was a low birth weight infant and the latest hepatitis B vaccine was administered less than 4 weeks ago. Check for any other vaccines due, and inform the caregiver of when to come back for the third dose." xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                     <choice name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <choice name="t:String" xsi:type="NamedTypeSpecifier"/>
                  </asTypeSpecifier>
               </then>
            </caseItem>
            <caseItem localId="221" locator="201:5-201:313">
               <when localId="215" locator="201:10-201:41" xsi:type="Equal">
                  <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                  <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <signature name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="213" locator="201:10-201:19" path="id" xsi:type="Property">
                        <source localId="212" locator="201:10-201:16" name="Patient" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
                  <operand localId="214" locator="201:23-201:41" valueType="t:String" value="27.D2BWlt2kgHgt4w" xsi:type="Literal"/>
               </when>
               <then xsi:type="As">
                  <operand localId="220" locator="201:48-201:313" xsi:type="And">
                     <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="216" locator="201:48-201:99" name="Client is due for a hepatitis B vaccination Case 3" xsi:type="ExpressionRef"/>
                     <operand localId="219" locator="201:105-201:313" xsi:type="Equal">
                        <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                        <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="217" locator="201:105-201:114" name="Guidance" xsi:type="ExpressionRef"/>
                        <operand localId="218" locator="201:118-201:313" valueType="t:String" value="Should vaccinate client for third hepatitis B dose as the client was a low birth weight infant and the latest Hepatitis B vaccine administered more than 4 weeks ago. Check for contraindications." xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                     <choice name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <choice name="t:String" xsi:type="NamedTypeSpecifier"/>
                  </asTypeSpecifier>
               </then>
            </caseItem>
            <caseItem localId="231" locator="202:5-202:386">
               <when localId="225" locator="202:10-202:35" xsi:type="Equal">
                  <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                  <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <signature name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="223" locator="202:10-202:19" path="id" xsi:type="Property">
                        <source localId="222" locator="202:10-202:16" name="Patient" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
                  <operand localId="224" locator="202:23-202:35" valueType="t:String" value="28.D2PHlt4w" xsi:type="Literal"/>
               </when>
               <then xsi:type="As">
                  <operand localId="230" locator="202:42-202:386" xsi:type="And">
                     <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="226" locator="202:42-202:97" name="Client is not due for a hepatitis B vaccination Case 4" xsi:type="ExpressionRef"/>
                     <operand localId="229" locator="202:103-202:386" xsi:type="Equal">
                        <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                        <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="227" locator="202:103-202:112" name="Guidance" xsi:type="ExpressionRef"/>
                        <operand localId="228" locator="202:116-202:386" valueType="t:String" value="Should not vaccinate client for third hepatitis B dose as the client was a low birth weight infant and the latest hepatitis B dose was administered less than 4 weeks ago. Check for any other vaccines due, and inform the caregiver of when to come back for the next dose." xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                     <choice name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <choice name="t:String" xsi:type="NamedTypeSpecifier"/>
                  </asTypeSpecifier>
               </then>
            </caseItem>
            <caseItem localId="241" locator="203:5-203:308">
               <when localId="235" locator="203:10-203:35" xsi:type="Equal">
                  <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                  <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <signature name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="233" locator="203:10-203:19" path="id" xsi:type="Property">
                        <source localId="232" locator="203:10-203:16" name="Patient" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
                  <operand localId="234" locator="203:23-203:35" valueType="t:String" value="29.D2PHgt4w" xsi:type="Literal"/>
               </when>
               <then xsi:type="As">
                  <operand localId="240" locator="203:42-203:308" xsi:type="And">
                     <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="236" locator="203:42-203:93" name="Client is due for a hepatitis B vaccination Case 4" xsi:type="ExpressionRef"/>
                     <operand localId="239" locator="203:99-203:308" xsi:type="Equal">
                        <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                        <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="237" locator="203:99-203:108" name="Guidance" xsi:type="ExpressionRef"/>
                        <operand localId="238" locator="203:112-203:308" valueType="t:String" value="Should vaccinate client for third hepatitis B dose as the client was a low birth weight infant and the latest hepatitis B dose was administered more than 4 weeks ago. Check for contraindications." xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                     <choice name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <choice name="t:String" xsi:type="NamedTypeSpecifier"/>
                  </asTypeSpecifier>
               </then>
            </caseItem>
            <caseItem localId="251" locator="204:5-204:330">
               <when localId="245" locator="204:10-204:29" xsi:type="Equal">
                  <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                  <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                  <operand name="ToString" libraryName="FHIRHelpers" xsi:type="FunctionRef">
                     <signature name="fhir:string" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="243" locator="204:10-204:19" path="id" xsi:type="Property">
                        <source localId="242" locator="204:10-204:16" name="Patient" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
                  <operand localId="244" locator="204:23-204:29" valueType="t:String" value="30.D3" xsi:type="Literal"/>
               </when>
               <then xsi:type="As">
                  <operand localId="250" locator="204:36-204:330" xsi:type="And">
                     <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <signature name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <operand localId="246" locator="204:36-204:89" name="Hepatitis B immunization schedule is complete Case 2" xsi:type="ExpressionRef"/>
                     <operand localId="249" locator="204:95-204:330" xsi:type="Equal">
                        <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                        <signature name="t:String" xsi:type="NamedTypeSpecifier"/>
                        <operand localId="247" locator="204:95-204:104" name="Guidance" xsi:type="ExpressionRef"/>
                        <operand localId="248" locator="204:108-204:330" valueType="t:String" value="The Hepatitis B immunization schedule is complete for client whose weight at birth was below 2000g and who was a premature infant. Four hepatitis B primary series doses were administered. Check for any other vaccines due." xsi:type="Literal"/>
                     </operand>
                  </operand>
                  <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                     <choice name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                     <choice name="t:String" xsi:type="NamedTypeSpecifier"/>
                  </asTypeSpecifier>
               </then>
            </caseItem>
            <else xsi:type="As">
               <operand localId="252" locator="205:10-205:27" valueType="t:String" value="No test case set" xsi:type="Literal"/>
               <asTypeSpecifier xsi:type="ChoiceTypeSpecifier">
                  <choice name="t:Boolean" xsi:type="NamedTypeSpecifier"/>
                  <choice name="t:String" xsi:type="NamedTypeSpecifier"/>
               </asTypeSpecifier>
            </else>
         </expression>
      </def>
   </statements>
</library>
